/*
 * Copyright 1999-2019 FlamingText.com Pty Ltd
 * All rights are reserved.
 */
/*
 jQuery v2.2.3 | (c) jQuery Foundation | jquery.org/license  jQuery UI - v1.10.0 - 2013-02-04
 http://jqueryui.com
 Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.button.js, jquery.ui.dialog.js, jquery.ui.progressbar.js, jquery.ui.slider.js
 Copyright (c) 2013 jQuery Foundation and other contributors Licensed MIT  Hammer.JS - v2.0.8 - 2016-04-23
 http://hammerjs.github.io/

 Copyright (c) 2016 Jorik Tangelder;
 Licensed under the MIT license  jQuery Smart Banner
 Copyright (c) 2012 Arnold Daniels <arnold@jasny.net>
 Based on 'jQuery Smart Web App Banner' by Kurt Zenisek @ kzeni.com
*/
var $jscomp = $jscomp || {};
$jscomp.scope = {};
$jscomp.ASSUME_ES5 = !1;
$jscomp.ASSUME_NO_NATIVE_MAP = !1;
$jscomp.ASSUME_NO_NATIVE_SET = !1;
$jscomp.defineProperty = $jscomp.ASSUME_ES5 || "function" == typeof Object.defineProperties ? Object.defineProperty : function(e, g, a) {
    e != Array.prototype && e != Object.prototype && (e[g] = a.value)
};
$jscomp.getGlobal = function(e) {
    return "undefined" != typeof window && window === e ? e : "undefined" != typeof global && null != global ? global : e
};
$jscomp.global = $jscomp.getGlobal(this);
$jscomp.SYMBOL_PREFIX = "jscomp_symbol_";
$jscomp.initSymbol = function() {
    $jscomp.initSymbol = function() {};
    $jscomp.global.Symbol || ($jscomp.global.Symbol = $jscomp.Symbol)
};
$jscomp.Symbol = function() {
    var e = 0;
    return function(g) {
        return $jscomp.SYMBOL_PREFIX + (g || "") + e++
    }
}();
$jscomp.initSymbolIterator = function() {
    $jscomp.initSymbol();
    var e = $jscomp.global.Symbol.iterator;
    e || (e = $jscomp.global.Symbol.iterator = $jscomp.global.Symbol("iterator"));
    "function" != typeof Array.prototype[e] && $jscomp.defineProperty(Array.prototype, e, {
        configurable: !0,
        writable: !0,
        value: function() {
            return $jscomp.arrayIterator(this)
        }
    });
    $jscomp.initSymbolIterator = function() {}
};
$jscomp.arrayIterator = function(e) {
    var g = 0;
    return $jscomp.iteratorPrototype(function() {
        return g < e.length ? {
            done: !1,
            value: e[g++]
        } : {
            done: !0
        }
    })
};
$jscomp.iteratorPrototype = function(e) {
    $jscomp.initSymbolIterator();
    e = {
        next: e
    };
    e[$jscomp.global.Symbol.iterator] = function() {
        return this
    };
    return e
};
$jscomp.findInternal = function(e, g, a) {
    e instanceof String && (e = String(e));
    for (var f = e.length, h = 0; h < f; h++) {
        var k = e[h];
        if (g.call(a, k, h, e)) return {
            i: h,
            v: k
        }
    }
    return {
        i: -1,
        v: void 0
    }
};
$jscomp.polyfill = function(e, g, a, f) {
    if (g) {
        a = $jscomp.global;
        e = e.split(".");
        for (f = 0; f < e.length - 1; f++) {
            var h = e[f];
            h in a || (a[h] = {});
            a = a[h]
        }
        e = e[e.length - 1];
        f = a[e];
        g = g(f);
        g != f && null != g && $jscomp.defineProperty(a, e, {
            configurable: !0,
            writable: !0,
            value: g
        })
    }
};
$jscomp.polyfill("Array.prototype.find", function(e) {
    return e ? e : function(e, a) {
        return $jscomp.findInternal(this, e, a).v
    }
}, "es6", "es3");
$jscomp.iteratorFromArray = function(e, g) {
    $jscomp.initSymbolIterator();
    e instanceof String && (e += "");
    var a = 0,
        f = {
            next: function() {
                if (a < e.length) {
                    var h = a++;
                    return {
                        value: g(h, e[h]),
                        done: !1
                    }
                }
                f.next = function() {
                    return {
                        done: !0,
                        value: void 0
                    }
                };
                return f.next()
            }
        };
    f[Symbol.iterator] = function() {
        return f
    };
    return f
};
$jscomp.polyfill("Array.prototype.values", function(e) {
    return e ? e : function() {
        return $jscomp.iteratorFromArray(this, function(e, a) {
            return a
        })
    }
}, "es8", "es3");
$jscomp.polyfill("Array.prototype.keys", function(e) {
    return e ? e : function() {
        return $jscomp.iteratorFromArray(this, function(e) {
            return e
        })
    }
}, "es6", "es3");
$jscomp.checkStringArgs = function(e, g, a) {
    if (null == e) throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");
    if (g instanceof RegExp) throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");
    return e + ""
};
$jscomp.polyfill("String.prototype.startsWith", function(e) {
    return e ? e : function(e, a) {
        var f = $jscomp.checkStringArgs(this, e, "startsWith");
        e += "";
        var h = f.length,
            g = e.length;
        a = Math.max(0, Math.min(a | 0, f.length));
        for (var l = 0; l < g && a < h;)
            if (f[a++] != e[l++]) return !1;
        return l >= g
    }
}, "es6", "es3");
window.Modernizr = function(e, g, a) {
    function f(e, f) {
        for (var h in e) {
            var g = e[h];
            if (!~("" + g).indexOf("-") && p[g] !== a) return "pfx" == f ? g : !0
        }
        return !1
    }

    function h(e, h, g) {
        var k = e.charAt(0).toUpperCase() + e.slice(1),
            l = (e + " " + u.join(k + " ") + k).split(" ");
        if ("string" === typeof h || "undefined" === typeof h) return f(l, h);
        l = (e + " " + y.join(k + " ") + k).split(" ");
        a: {
            e = l;
            for (var n in e)
                if (k = h[e[n]], k !== a) {
                    if (!1 === g) {
                        h = e[n];
                        break a
                    }
                    if ("function" === typeof k) {
                        h = k.bind(g || h);
                        break a
                    }
                    h = k;
                    break a
                } h = !1
        }
        return h
    }
    var k = {},
        l = g.documentElement,
        n = g.createElement("modernizr"),
        p = n.style,
        r = " -webkit- -moz- -o- -ms- ".split(" "),
        u = ["Webkit", "Moz", "O", "ms"],
        y = ["webkit", "moz", "o", "ms"];
    n = {};
    var w = [],
        C = w.slice,
        D = function(e, a, f, h) {
            var k = g.createElement("div"),
                n = g.body,
                p = n || g.createElement("body");
            if (parseInt(f, 10))
                for (; f--;) {
                    var r = g.createElement("div");
                    r.id = h ? h[f] : "modernizr" + (f + 1);
                    k.appendChild(r)
                }
            f = ['&#173;<style id="smodernizr">', e, "</style>"].join("");
            k.id = "modernizr";
            (n ? k : p).innerHTML += f;
            p.appendChild(k);
            if (!n) {
                p.style.background = "";
                p.style.overflow =
                    "hidden";
                var u = l.style.overflow;
                l.style.overflow = "hidden";
                l.appendChild(p)
            }
            e = a(k, e);
            n ? k.parentNode.removeChild(k) : (p.parentNode.removeChild(p), l.style.overflow = u);
            return !!e
        },
        K = function() {
            var e = {
                select: "input",
                change: "input",
                submit: "form",
                reset: "form",
                error: "img",
                load: "img",
                abort: "img"
            };
            return function(f, h) {
                h = h || g.createElement(e[f] || "div");
                f = "on" + f;
                var k = f in h;
                k || (h.setAttribute || (h = g.createElement("div")), h.setAttribute && h.removeAttribute && (h.setAttribute(f, ""), k = "function" === typeof h[f], "undefined" ===
                    typeof h[f] || (h[f] = a), h.removeAttribute(f)));
                return k
            }
        }(),
        L = {}.hasOwnProperty;
    var F = "undefined" === typeof L || "undefined" === typeof L.call ? function(e, a) {
        return a in e && "undefined" === typeof e.constructor.prototype[a]
    } : function(e, a) {
        return L.call(e, a)
    };
    Function.prototype.bind || (Function.prototype.bind = function(e) {
        var a = this;
        if ("function" != typeof a) throw new TypeError;
        var f = C.call(arguments, 1),
            h = function() {
                if (this instanceof h) {
                    var g = function() {};
                    g.prototype = a.prototype;
                    g = new g;
                    var k = a.apply(g, f.concat(C.call(arguments)));
                    return Object(k) === k ? k : g
                }
                return a.apply(e, f.concat(C.call(arguments)))
            };
        return h
    });
    n.touch = function() {
        var a;
        "ontouchstart" in e || e.DocumentTouch && g instanceof DocumentTouch ? a = !0 : D(["@media (", r.join("touch-enabled),("), "modernizr){#modernizr{top:9px;position:absolute}}"].join(""), function(e) {
            a = 9 === e.offsetTop
        });
        return a
    };
    n.cssgradients = function() {
        p.cssText = ("background-image:-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:" + r.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,
            -17);
        return !!~("" + p.backgroundImage).indexOf("gradient")
    };
    n.csstransitions = function() {
        return h("transition")
    };
    n.fontface = function() {
        var e;
        D('@font-face {font-family:"font";src:url("https://")}', function(a, f) {
            a = g.getElementById("smodernizr");
            a = (a = a.sheet || a.styleSheet) ? a.cssRules && a.cssRules[0] ? a.cssRules[0].cssText : a.cssText || "" : "";
            e = /src/i.test(a) && 0 === a.indexOf(f.split(" ")[0])
        });
        return e
    };
    n.svg = function() {
        return !!g.createElementNS && !!g.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect
    };
    for (var U in n)
        if (F(n, U)) {
            var B = U.toLowerCase();
            k[B] = n[U]();
            w.push((k[B] ? "" : "no-") + B)
        } k.addTest = function(e, f) {
        if ("object" == typeof e)
            for (var h in e) F(e, h) && k.addTest(h, e[h]);
        else {
            e = e.toLowerCase();
            if (k[e] !== a) return k;
            f = "function" == typeof f ? f() : f;
            l.className += " " + (f ? "" : "no-") + e;
            k[e] = f
        }
        return k
    };
    p.cssText = "";
    n = null;
    k._version = "2.7.1";
    k._prefixes = r;
    k._domPrefixes = y;
    k._cssomPrefixes = u;
    k.hasEvent = K;
    k.testProp = function(e) {
        return f([e])
    };
    k.testAllProps = h;
    k.testStyles = D;
    k.prefixed = function(e, a, f) {
        return a ?
            h(e, a, f) : h(e, "pfx")
    };
    l.className = l.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") + (" js " + w.join(" "));
    return k
}(this, this.document);
Modernizr.addTest("fileinput", function() {
    var e = document.createElement("input");
    e.type = "file";
    return !e.disabled
});
! function(e, g) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = e.document ? g(e, !0) : function(e) {
        if (!e.document) throw Error("jQuery requires a window with a document");
        return g(e)
    } : g(e)
}("undefined" != typeof window ? window : this, function(e, g) {
    function a(e) {
        var a = !!e && "length" in e && e.length,
            q = m.type(e);
        return "function" === q || m.isWindow(e) ? !1 : "array" === q || 0 === a || "number" == typeof a && 0 < a && a - 1 in e
    }

    function f(e, a, f) {
        if (m.isFunction(a)) return m.grep(e, function(e, q) {
            return !!a.call(e, q, e) !==
                f
        });
        if (a.nodeType) return m.grep(e, function(e) {
            return e === a !== f
        });
        if ("string" == typeof a) {
            if (Pa.test(a)) return m.filter(a, e, f);
            a = m.filter(a, e)
        }
        return m.grep(e, function(e) {
            return -1 < xa.call(a, e) !== f
        })
    }

    function h(e, a) {
        for (;
            (e = e[a]) && 1 !== e.nodeType;);
        return e
    }

    function k(e) {
        var a = {};
        return m.each(e.match(Qa) || [], function(e, q) {
            a[q] = !0
        }), a
    }

    function l() {
        I.removeEventListener("DOMContentLoaded", l);
        e.removeEventListener("load", l);
        m.ready()
    }

    function n() {
        this.expando = m.expando + n.uid++
    }

    function p(e, a, f) {
        var q;
        if (void 0 ===
            f && 1 === e.nodeType)
            if (q = "data-" + a.replace(za, "-$&").toLowerCase(), f = e.getAttribute(q), "string" == typeof f) {
                try {
                    f = "true" === f ? !0 : "false" === f ? !1 : "null" === f ? null : +f + "" === f ? +f : X.test(f) ? m.parseJSON(f) : f
                } catch (Ta) {}
                T.set(e, a, f)
            } else f = void 0;
        return f
    }

    function r(e, a, f, h) {
        var q, g = 1,
            k = 20,
            x = h ? function() {
                return h.cur()
            } : function() {
                return m.css(e, a, "")
            },
            l = x(),
            n = f && f[3] || (m.cssNumber[a] ? "" : "px"),
            W = (m.cssNumber[a] || "px" !== n && +l) && Y.exec(m.css(e, a));
        if (W && W[3] !== n) {
            n = n || W[3];
            f = f || [];
            W = +l || 1;
            do g = g || ".5", W /= g, m.style(e,
                a, W + n); while (g !== (g = x() / l) && 1 !== g && --k)
        }
        return f && (W = +W || +l || 0, q = f[1] ? W + (f[1] + 1) * f[2] : +f[2], h && (h.unit = n, h.start = W, h.end = q)), q
    }

    function u(e, a) {
        console.log("TEST 1");
        var q = "undefined" != typeof e.getElementsByTagName ? e.getElementsByTagName(a || "*") : "undefined" != typeof e.querySelectorAll ? e.querySelectorAll(a || "*") : [];
        return void 0 === a || a && m.nodeName(e, a) ? m.merge([e], q) : q
    }

    function y(e, a) {
        for (var q = 0, f = e.length; f > q; q++) z.set(e[q], "globalEval", !a || z.get(a[q], "globalEval"))
    }

    function w(e, a, f, h, g) {
        for (var q, k, x, l, n = a.createDocumentFragment(),
                W = [], V = 0, p = e.length; p > V; V++)
            if (q = e[V], q || 0 === q)
                if ("object" === m.type(q)) m.merge(W, q.nodeType ? [q] : q);
                else if (db.test(q)) {
            k = k || n.appendChild(a.createElement("div"));
            x = (ra.exec(q) || ["", ""])[1].toLowerCase();
            x = Ka[x] || Ka._default;
            k.innerHTML = x[1] + m.htmlPrefilter(q) + x[2];
            for (x = x[0]; x--;) k = k.lastChild;
            m.merge(W, k.childNodes);
            k = n.firstChild;
            k.textContent = ""
        } else W.push(a.createTextNode(q));
        n.textContent = "";
        for (V = 0; q = W[V++];)
            if (h && -1 < m.inArray(q, h)) g && g.push(q);
            else if (l = m.contains(q.ownerDocument, q), k = u(n.appendChild(q),
                "script"), l && y(k), f)
            for (x = 0; q = k[x++];) Ba.test(q.type || "") && f.push(q);
        return n
    }

    function C() {
        return !0
    }

    function D() {
        return !1
    }

    function K() {
        try {
            return I.activeElement
        } catch (q) {}
    }

    function L(e, a, f, h, g, k) {
        var q, x;
        if ("object" == typeof a) {
            "string" != typeof f && (h = h || f, f = void 0);
            for (x in a) L(e, x, f, h, a[x], k);
            return e
        }
        if (null == h && null == g ? (g = f, h = f = void 0) : null == g && ("string" == typeof f ? (g = h, h = void 0) : (g = h, h = f, f = void 0)), !1 === g) g = D;
        else if (!g) return e;
        return 1 === k && (q = g, g = function(e) {
                return m().off(e), q.apply(this, arguments)
            },
            g.guid = q.guid || (q.guid = m.guid++)), e.each(function() {
            m.event.add(this, a, g, h, f)
        })
    }

    function F(e, a) {
        return m.nodeName(e, "table") && m.nodeName(11 !== a.nodeType ? a : a.firstChild, "tr") ? e.getElementsByTagName("tbody")[0] || e.appendChild(e.ownerDocument.createElement("tbody")) : e
    }

    function U(e) {
        console.log("TES 3");
        return e.type = (null !== e.getAttribute("type")) + "/" + e.type, e
    }

    function B(e) {
        var a = pb.exec(e.type);
        return a ? e.type = a[1] : e.removeAttribute("type"), e
    }

    function aa(e, a) {
        var q, f, h, g, k, x;
        if (1 === a.nodeType) {
            if (z.hasData(e) && (q = z.access(e),
                    f = z.set(a, q), x = q.events))
                for (h in delete f.handle, f.events = {}, x)
                    for (q = 0, f = x[h].length; f > q; q++) m.event.add(a, h, x[h][q]);
            T.hasData(e) && (g = T.access(e), k = m.extend({}, g), T.set(a, k))
        }
    }

    function ka(e, a, f, h) {
        a = E.apply([], a);
        var q, g, k, x = 0,
            l = e.length,
            n = l - 1,
            W = a[0],
            V = m.isFunction(W);
        if (V || 1 < l && "string" == typeof W && !H.checkClone && cb.test(W)) return e.each(function(q) {
            var g = e.eq(q);
            V && (a[0] = W.call(this, q, g.html()));
            ka(g, a, f, h)
        });
        if (l && (q = w(a, e[0].ownerDocument, !1, e, h), g = q.firstChild, 1 === q.childNodes.length && (q = g),
                g || h)) {
            g = m.map(u(q, "script"), U);
            for (k = g.length; l > x; x++) {
                var p = q;
                x !== n && (p = m.clone(p, !0, !0), k && m.merge(g, u(p, "script")));
                f.call(e[x], p, x)
            }
            if (k)
                for (q = g[g.length - 1].ownerDocument, m.map(g, B), x = 0; k > x; x++) p = g[x], Ba.test(p.type || "") && !z.access(p, "globalEval") && m.contains(q, p) && (p.src ? m._evalUrl && m._evalUrl(p.src) : m.globalEval(p.textContent.replace(Za, "")))
        }
        return e
    }

    function ja(e, a, f) {
        for (var q = a ? m.filter(a, e) : e, h = 0; null != (a = q[h]); h++) f || 1 !== a.nodeType || m.cleanData(u(a)), a.parentNode && (f && m.contains(a.ownerDocument,
            a) && y(u(a, "script")), a.parentNode.removeChild(a));
        return e
    }

    function va(e, a) {
        e = m(a.createElement(e)).appendTo(a.body);
        a = m.css(e[0], "display");
        return e.detach(), a
    }

    function S(e) {
        var a = I,
            q = eb[e];
        return q || (q = va(e, a), "none" !== q && q || (Wa = (Wa || m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(a.documentElement), a = Wa[0].contentDocument, a.write(), a.close(), q = va(e, a), Wa.detach()), eb[e] = q), q
    }

    function Z(e, a, f) {
        var q, h, g, k, l = e.style;
        return f = f || hb(e), k = f ? f.getPropertyValue(a) || f[a] : void 0, "" !== k && void 0 !==
            k || m.contains(e.ownerDocument, e) || (k = m.style(e, a)), f && !H.pixelMarginRight() && Xa.test(k) && nb.test(a) && (q = l.width, h = l.minWidth, g = l.maxWidth, l.minWidth = l.maxWidth = l.width = k, k = f.width, l.width = q, l.minWidth = h, l.maxWidth = g), void 0 !== k ? k + "" : k
    }

    function qa(e, a) {
        return {
            get: function() {
                return e() ? void delete this.get : (this.get = a).apply(this, arguments)
            }
        }
    }

    function Ha(e) {
        if (e in yb) return e;
        for (var a = e[0].toUpperCase() + e.slice(1), q = zb.length; q--;)
            if (e = zb[q] + a, e in yb) return e
    }

    function Ea(e, a, f) {
        return (e = Y.exec(a)) ?
            Math.max(0, e[2] - (f || 0)) + (e[3] || "px") : a
    }

    function Ia(e, a, f, h, g) {
        a = f === (h ? "border" : "content") ? 4 : "width" === a ? 1 : 0;
        for (var q = 0; 4 > a; a += 2) "margin" === f && (q += m.css(e, f + Sa[a], !0, g)), h ? ("content" === f && (q -= m.css(e, "padding" + Sa[a], !0, g)), "margin" !== f && (q -= m.css(e, "border" + Sa[a] + "Width", !0, g))) : (q += m.css(e, "padding" + Sa[a], !0, g), "padding" !== f && (q += m.css(e, "border" + Sa[a] + "Width", !0, g)));
        return q
    }

    function La(a, f, h) {
        var q = !0,
            g = "width" === f ? a.offsetWidth : a.offsetHeight,
            k = hb(a),
            l = "border-box" === m.css(a, "boxSizing", !1,
                k);
        if (I.msFullscreenElement && e.top !== e && a.getClientRects().length && (g = Math.round(100 * a.getBoundingClientRect()[f])), 0 >= g || null == g) {
            if (g = Z(a, f, k), (0 > g || null == g) && (g = a.style[f]), Xa.test(g)) return g;
            q = l && (H.boxSizingReliable() || g === a.style[f]);
            g = parseFloat(g) || 0
        }
        return g + Ia(a, f, h || (l ? "border" : "content"), q, k) + "px"
    }

    function la(e, a) {
        for (var q, f, h, g = [], k = 0, l = e.length; l > k; k++) f = e[k], f.style && (g[k] = z.get(f, "olddisplay"), q = f.style.display, a ? (g[k] || "none" !== q || (f.style.display = ""), "" === f.style.display && N(f) &&
            (g[k] = z.access(f, "olddisplay", S(f.nodeName)))) : (h = N(f), "none" === q && h || z.set(f, "olddisplay", h ? q : m.css(f, "display"))));
        for (k = 0; l > k; k++) f = e[k], f.style && (a && "none" !== f.style.display && "" !== f.style.display || (f.style.display = a ? g[k] || "" : "none"));
        return e
    }

    function O(e, a, f, h, g) {
        return new O.prototype.init(e, a, f, h, g)
    }

    function ca() {
        return e.setTimeout(function() {
            ib = void 0
        }), ib = m.now()
    }

    function P(e, a) {
        var q = 0,
            f = {
                height: e
            };
        for (a = a ? 1 : 0; 4 > q; q += 2 - a) {
            var h = Sa[q];
            f["margin" + h] = f["padding" + h] = e
        }
        return a && (f.opacity =
            f.width = e), f
    }

    function M(e, a, f) {
        for (var q, h = (da.tweeners[a] || []).concat(da.tweeners["*"]), g = 0, k = h.length; k > g; g++)
            if (q = h[g].call(f, a, e)) return q
    }

    function ba(e, a) {
        var q, f, h, g, k;
        for (q in e)
            if (f = m.camelCase(q), h = a[f], g = e[q], m.isArray(g) && (h = g[1], g = e[q] = g[0]), q !== f && (e[f] = g, delete e[q]), k = m.cssHooks[f], k && "expand" in k)
                for (q in g = k.expand(g), delete e[f], g) q in e || (e[q] = g[q], a[q] = h);
            else a[f] = h
    }

    function da(e, a, f) {
        var q, h = 0,
            g = da.prefilters.length,
            k = m.Deferred().always(function() {
                delete l.elem
            }),
            l = function() {
                if (q) return !1;
                var a = ib || ca();
                a = Math.max(0, x.startTime + x.duration - a);
                for (var f = 1 - (a / x.duration || 0), h = 0, g = x.tweens.length; g > h; h++) x.tweens[h].run(f);
                return k.notifyWith(e, [x, f, a]), 1 > f && g ? a : (k.resolveWith(e, [x]), !1)
            },
            x = k.promise({
                elem: e,
                props: m.extend({}, a),
                opts: m.extend(!0, {
                    specialEasing: {},
                    easing: m.easing._default
                }, f),
                originalProperties: a,
                originalOptions: f,
                startTime: ib || ca(),
                duration: f.duration,
                tweens: [],
                createTween: function(a, f) {
                    a = m.Tween(e, x.opts, a, f, x.opts.specialEasing[a] || x.opts.easing);
                    return x.tweens.push(a),
                        a
                },
                stop: function(a) {
                    var f = 0,
                        h = a ? x.tweens.length : 0;
                    if (q) return this;
                    for (q = !0; h > f; f++) x.tweens[f].run(1);
                    return a ? (k.notifyWith(e, [x, 1, 0]), k.resolveWith(e, [x, a])) : k.rejectWith(e, [x, a]), this
                }
            });
        f = x.props;
        for (ba(f, x.opts.specialEasing); g > h; h++)
            if (a = da.prefilters[h].call(x, e, f, x.opts)) return m.isFunction(a.stop) && (m._queueHooks(x.elem, x.opts.queue).stop = m.proxy(a.stop, a)), a;
        return m.map(f, M, x), m.isFunction(x.opts.start) && x.opts.start.call(e, x), m.fx.timer(m.extend(l, {
                elem: e,
                anim: x,
                queue: x.opts.queue
            })),
            x.progress(x.opts.progress).done(x.opts.done, x.opts.complete).fail(x.opts.fail).always(x.opts.always)
    }

    function sa(e) {
        return e.getAttribute && e.getAttribute("class") || ""
    }

    function Va(e) {
        return function(a, f) {
            "string" != typeof a && (f = a, a = "*");
            var q = 0,
                h = a.toLowerCase().match(Qa) || [];
            if (m.isFunction(f))
                for (; a = h[q++];) "+" === a[0] ? (a = a.slice(1) || "*", (e[a] = e[a] || []).unshift(f)) : (e[a] = e[a] || []).push(f)
        }
    }

    function A(a, e, f, h) {
        function q(l) {
            var x;
            return g[l] = !0, m.each(a[l] || [], function(a, l) {
                a = l(e, f, h);
                return "string" !=
                    typeof a || k || g[a] ? k ? !(x = a) : void 0 : (e.dataTypes.unshift(a), q(a), !1)
            }), x
        }
        var g = {},
            k = a === qb;
        return q(e.dataTypes[0]) || !g["*"] && q("*")
    }

    function ma(a, e) {
        var f, q, h = m.ajaxSettings.flatOptions || {};
        for (f in e) void 0 !== e[f] && ((h[f] ? a : q || (q = {}))[f] = e[f]);
        return q && m.extend(!0, a, q), a
    }

    function Ma(a, e, f, h) {
        var q;
        if (m.isArray(e)) m.each(e, function(e, q) {
            f || Kb.test(a) ? h(a, q) : Ma(a + "[" + ("object" == typeof q && null != q ? e : "") + "]", q, f, h)
        });
        else if (f || "object" !== m.type(e)) h(a, e);
        else
            for (q in e) Ma(a + "[" + q + "]", e[q], f, h)
    }

    function J(a) {
        return m.isWindow(a) ?
            a : 9 === a.nodeType && a.defaultView
    }
    var ea = [],
        I = e.document,
        ta = ea.slice,
        E = ea.concat,
        na = ea.push,
        xa = ea.indexOf,
        oa = {},
        R = oa.toString,
        ha = oa.hasOwnProperty,
        H = {},
        m = function(a, e) {
            return new m.fn.init(a, e)
        },
        wa = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        Fa = /^-ms-/,
        ia = /-([\da-z])/gi,
        pa = function(a, e) {
            return e.toUpperCase()
        };
    $jscomp.initSymbol();
    $jscomp.initSymbol();
    $jscomp.initSymbolIterator();
    $jscomp.initSymbol();
    $jscomp.initSymbolIterator();
    m.fn = m.prototype = {
        jquery: "2.2.3",
        constructor: m,
        selector: "",
        length: 0,
        toArray: function() {
            return ta.call(this)
        },
        get: function(a) {
            return null != a ? 0 > a ? this[a + this.length] : this[a] : ta.call(this)
        },
        pushStack: function(a) {
            a = m.merge(this.constructor(), a);
            return a.prevObject = this, a.context = this.context, a
        },
        each: function(a) {
            return m.each(this, a)
        },
        map: function(a) {
            return this.pushStack(m.map(this, function(e, f) {
                return a.call(e, f, e)
            }))
        },
        slice: function() {
            return this.pushStack(ta.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(a) {
            var e = this.length;
            a = +a + (0 > a ? e : 0);
            return this.pushStack(0 <=
                a && e > a ? [this[a]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor()
        },
        push: na,
        sort: ea.sort,
        splice: ea.splice
    };
    m.extend = m.fn.extend = function() {
        var a, e, f, h, g = arguments[0] || {},
            k = 1,
            l = arguments.length,
            n = !1;
        "boolean" == typeof g && (n = g, g = arguments[k] || {}, k++);
        "object" == typeof g || m.isFunction(g) || (g = {});
        for (k === l && (g = this, k--); l > k; k++)
            if (null != (a = arguments[k]))
                for (e in a) {
                    var p = g[e];
                    var z = a[e];
                    g !== z && (n && z && (m.isPlainObject(z) || (f = m.isArray(z))) ? (f ? (f = !1, h = p && m.isArray(p) ? p : []) : h = p && m.isPlainObject(p) ?
                        p : {}, g[e] = m.extend(n, h, z)) : void 0 !== z && (g[e] = z))
                }
        return g
    };
    m.extend({
        expando: "jQuery" + ("2.2.3" + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(a) {
            throw Error(a);
        },
        noop: function() {},
        isFunction: function(a) {
            return "function" === m.type(a)
        },
        isArray: Array.isArray,
        isWindow: function(a) {
            return null != a && a === a.window
        },
        isNumeric: function(a) {
            var e = a && a.toString();
            return !m.isArray(a) && 0 <= e - parseFloat(e) + 1
        },
        isPlainObject: function(a) {
            var e;
            if ("object" !== m.type(a) || a.nodeType || m.isWindow(a) || a.constructor &&
                !ha.call(a, "constructor") && !ha.call(a.constructor.prototype || {}, "isPrototypeOf")) return !1;
            for (e in a);
            return void 0 === e || ha.call(a, e)
        },
        isEmptyObject: function(a) {
            for (var e in a) return !1;
            return !0
        },
        type: function(a) {
            return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? oa[R.call(a)] || "object" : typeof a
        },
        globalEval: function(a) {
            var e, f = eval;
            (a = m.trim(a)) && (1 === a.indexOf("use strict") ? (e = I.createElement("script"), e.text = a, I.head.appendChild(e).parentNode.removeChild(e)) : f(a))
        },
        camelCase: function(a) {
            return a.replace(Fa,
                "ms-").replace(ia, pa)
        },
        nodeName: function(a, e) {
            return a.nodeName && a.nodeName.toLowerCase() === e.toLowerCase()
        },
        each: function(e, f) {
            var h, q = 0;
            if (a(e))
                for (h = e.length; h > q && !1 !== f.call(e[q], q, e[q]); q++);
            else
                for (q in e)
                    if (!1 === f.call(e[q], q, e[q])) break;
            return e
        },
        trim: function(a) {
            return null == a ? "" : (a + "").replace(wa, "")
        },
        makeArray: function(e, f) {
            f = f || [];
            return null != e && (a(Object(e)) ? m.merge(f, "string" == typeof e ? [e] : e) : na.call(f, e)), f
        },
        inArray: function(a, e, f) {
            return null == e ? -1 : xa.call(e, a, f)
        },
        merge: function(a,
            e) {
            for (var f = +e.length, h = 0, q = a.length; f > h; h++) a[q++] = e[h];
            return a.length = q, a
        },
        grep: function(a, e, f) {
            for (var h = [], q = 0, g = a.length, k = !f; g > q; q++) f = !e(a[q], q), f !== k && h.push(a[q]);
            return h
        },
        map: function(e, f, h) {
            var q, g = 0,
                k = [];
            if (a(e))
                for (q = e.length; q > g; g++) {
                    var l = f(e[g], g, h);
                    null != l && k.push(l)
                } else
                    for (g in e) l = f(e[g], g, h), null != l && k.push(l);
            return E.apply([], k)
        },
        guid: 1,
        proxy: function(a, e) {
            var f, h, q;
            return "string" == typeof e && (f = a[e], e = a, a = f), m.isFunction(a) ? (h = ta.call(arguments, 2), q = function() {
                return a.apply(e ||
                    this, h.concat(ta.call(arguments)))
            }, q.guid = a.guid = a.guid || m.guid++, q) : void 0
        },
        now: Date.now,
        support: H
    });
    "function" == typeof Symbol && (m.fn[Symbol.iterator] = ea[Symbol.iterator]);
    m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(a, e) {
        oa["[object " + e + "]"] = e.toLowerCase()
    });
    var Ca = function(a) {
        function e(a, e, f, h) {
            var q, g, k, l, m = e && e.ownerDocument,
                x = e ? e.nodeType : 9;
            if (f = f || [], "string" != typeof a || !a || 1 !== x && 9 !== x && 11 !== x) return f;
            if (!h && ((e ? e.ownerDocument || e : O) !==
                    X && Q(e), e = e || X, Ba)) {
                if (11 !== x && (l = La.exec(a)))
                    if (q = l[1])
                        if (9 === x) {
                            if (!(g = e.getElementById(q))) return f;
                            if (g.id === q) return f.push(g), f
                        } else {
                            if (m && (g = m.getElementById(q)) && Z(e, g) && g.id === q) return f.push(g), f
                        }
                else {
                    if (l[2]) return A.apply(f, e.getElementsByTagName(a)), f;
                    if ((q = l[3]) && G.getElementsByClassName && e.getElementsByClassName) return A.apply(f, e.getElementsByClassName(q)), f
                }
                if (!(!G.qsa || wa[a + " "] || H && H.test(a))) {
                    if (1 !== x) {
                        m = e;
                        var n = a
                    } else if ("object" !== e.nodeName.toLowerCase()) {
                        (k = e.getAttribute("id")) ?
                        k = k.replace(Ea, "\\$&"): e.setAttribute("id", k = B);
                        l = la(a);
                        q = l.length;
                        for (g = ja.test(k) ? "#" + k : "[id='" + k + "']"; q--;) l[q] = g + " " + r(l[q]);
                        n = l.join(",");
                        m = va.test(a) && p(e.parentNode) || e
                    }
                    if (n) try {
                        return A.apply(f, m.querySelectorAll(n)), f
                    } catch (ic) {} finally {
                        k === B && e.removeAttribute("id")
                    }
                }
            }
            return D(a.replace(ka, "$1"), e, f, h)
        }

        function f() {
            function e(f, h) {
                return a.push(f + " ") > Y.cacheLength && delete e[a.shift()], e[f + " "] = h
            }
            var a = [];
            return e
        }

        function h(e) {
            return e[B] = !0, e
        }

        function q(e) {
            var a = X.createElement("div");
            try {
                return !!e(a)
            } catch (gc) {
                return !1
            } finally {
                a.parentNode && a.parentNode.removeChild(a)
            }
        }

        function g(e, a) {
            e = e.split("|");
            for (var f = e.length; f--;) Y.attrHandle[e[f]] = a
        }

        function k(e, a) {
            var f = a && e,
                h = f && 1 === e.nodeType && 1 === a.nodeType && (~a.sourceIndex || -2147483648) - (~e.sourceIndex || -2147483648);
            if (h) return h;
            if (f)
                for (; f = f.nextSibling;)
                    if (f === a) return -1;
            return e ? 1 : -1
        }

        function l(e) {
            return function(a) {
                return "input" === a.nodeName.toLowerCase() && a.type === e
            }
        }

        function m(e) {
            return function(a) {
                var f = a.nodeName.toLowerCase();
                return ("input" === f || "button" === f) && a.type === e
            }
        }

        function n(e) {
            return h(function(a) {
                return a = +a, h(function(f, h) {
                    for (var q, g = e([], f.length, a), k = g.length; k--;) f[q = g[k]] && (f[q] = !(h[q] = f[q]))
                })
            })
        }

        function p(e) {
            return e && "undefined" != typeof e.getElementsByTagName && e
        }

        function z() {}

        function r(e) {
            for (var a = 0, f = e.length, h = ""; f > a; a++) h += e[a].value;
            return h
        }

        function N(e, a, f) {
            var h = a.dir,
                q = f && "parentNode" === h,
                g = P++;
            return a.first ? function(a, f, g) {
                for (; a = a[h];)
                    if (1 === a.nodeType || q) return e(a, f, g)
            } : function(a, f, k) {
                var l,
                    m, x, n = [U, g];
                if (k)
                    for (; a = a[h];) {
                        if ((1 === a.nodeType || q) && e(a, f, k)) return !0
                    } else
                        for (; a = a[h];)
                            if (1 === a.nodeType || q) {
                                if (x = a[B] || (a[B] = {}), m = x[a.uniqueID] || (x[a.uniqueID] = {}), (l = m[h]) && l[0] === U && l[1] === g) return n[2] = l[2];
                                if (m[h] = n, n[2] = e(a, f, k)) return !0
                            }
            }
        }

        function u(a) {
            console.log("TES 4");
            return 1 < a.length ? function(e, f, h) {
                for (var q = a.length; q--;)
                    if (!a[q](e, f, h)) return !1;
                return !0
            } : a[0]
        }

        function T(a, e, f, h, q) {
            for (var g, k = [], l = 0, m = a.length, x = null != e; m > l; l++)(g = a[l]) && (f && !f(g, h, q) || (k.push(g), x && e.push(l)));
            return k
        }

        function R(a,
            f, q, g, k, l) {
            return g && !g[B] && (g = R(g)), k && !k[B] && (k = R(k, l)), h(function(h, l, m, x) {
                var n, p = [],
                    W = [],
                    z = l.length,
                    V;
                if (!(V = h)) {
                    V = f || "*";
                    for (var r = m.nodeType ? [m] : m, N = [], Ta = 0, u = r.length; u > Ta; Ta++) e(V, r[Ta], N);
                    V = N
                }
                V = !a || !h && f ? V : T(V, p, a, m, x);
                r = q ? k || (h ? a : z || g) ? [] : l : V;
                if (q && q(V, r, m, x), g) {
                    var R = T(r, W);
                    g(R, [], m, x);
                    for (m = R.length; m--;)(n = R[m]) && (r[W[m]] = !(V[W[m]] = n))
                }
                if (h) {
                    if (k || a) {
                        if (k) {
                            R = [];
                            for (m = r.length; m--;)(n = r[m]) && R.push(V[m] = n);
                            k(null, r = [], R, x)
                        }
                        for (m = r.length; m--;)(n = r[m]) && -1 < (R = k ? qa(h, n) : p[m]) && (h[R] = !(l[R] =
                            n))
                    }
                } else r = T(r === l ? r.splice(z, r.length) : r), k ? k(null, l, r, x) : A.apply(l, r)
            })
        }

        function ya(a) {
            var e, f, h = a.length,
                q = Y.relative[a[0].type];
            var g = q || Y.relative[" "];
            for (var k = q ? 1 : 0, l = N(function(a) {
                    return a === e
                }, g, !0), m = N(function(a) {
                    return -1 < qa(e, a)
                }, g, !0), x = [function(a, f, h) {
                    a = !q && (h || f !== y) || ((e = f).nodeType ? l(a, f, h) : m(a, f, h));
                    return e = null, a
                }]; h > k; k++)
                if (g = Y.relative[a[k].type]) x = [N(u(x), g)];
                else {
                    if (g = Y.filter[a[k].type].apply(null, a[k].matches), g[B]) {
                        for (f = ++k; h > f && !Y.relative[a[f].type]; f++);
                        return R(1 <
                            k && u(x), 1 < k && r(a.slice(0, k - 1).concat({
                                value: " " === a[k - 2].type ? "*" : ""
                            })).replace(ka, "$1"), g, f > k && ya(a.slice(k, f)), h > f && ya(a = a.slice(f)), h > f && r(a))
                    }
                    x.push(g)
                } return u(x)
        }

        function S(a, f) {
            var q = 0 < f.length,
                g = 0 < a.length,
                k = function(h, k, l, m, x) {
                    var n, p, W = 0,
                        z = "0",
                        V = h && [],
                        r = [],
                        N = y,
                        Ta = h || g && Y.find.TAG("*", x),
                        u = U += null == N ? 1 : Math.random() || .1,
                        R = Ta.length;
                    for (x && (y = k === X || k || x); z !== R && null != (n = Ta[z]); z++) {
                        if (g && n) {
                            var ya = 0;
                            for (k || n.ownerDocument === X || (Q(n), l = !Ba); p = a[ya++];)
                                if (p(n, k || X, l)) {
                                    m.push(n);
                                    break
                                } x && (U =
                                u)
                        }
                        q && ((n = !p && n) && W--, h && V.push(n))
                    }
                    if (W += z, q && z !== W) {
                        for (ya = 0; p = f[ya++];) p(V, r, k, l);
                        if (h) {
                            if (0 < W)
                                for (; z--;) V[z] || r[z] || (r[z] = nb.call(m));
                            r = T(r)
                        }
                        A.apply(m, r);
                        x && !h && 0 < r.length && 1 < W + f.length && e.uniqueSort(m)
                    }
                    return x && (U = u, y = N), V
                };
            return q ? h(k) : k
        }
        var ra, w, D, y, L, ha, X, K, Ba, H, F, za, Z, B = "sizzle" + 1 * new Date,
            O = a.document,
            U = 0,
            P = 0,
            C = f(),
            M = f(),
            wa = f(),
            aa = function(a, e) {
                return a === e && (ha = !0), 0
            },
            Ka = {}.hasOwnProperty,
            ca = [],
            nb = ca.pop,
            ba = ca.push,
            A = ca.push,
            E = ca.slice,
            qa = function(a, e) {
                for (var f = 0, h = a.length; h > f; f++)
                    if (a[f] ===
                        e) return f;
                return -1
            },
            Oa = /[\x20\t\r\n\f]+/g,
            ka = /^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,
            db = /^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
            Ha = /^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,
            I = /=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,
            J = /:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
            ja = /^(?:\\.|[\w-]|[^\x00-\xa0])+$/,
            Fa = {
                ID: /^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
                CLASS: /^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,
                TAG: /^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,
                ATTR: /^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,
                PSEUDO: /^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
                CHILD: /^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
                bool: /^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,
                needsContext: /^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i
            },
            hb = /^(?:input|select|textarea|button)$/i,
            $a = /^h\d$/i,
            Xa =
            /^[^{]+\{\s*\[native \w/,
            La = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            va = /[+~]/,
            Ea = /'|\\/g,
            ia = /\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
            pa = function(a, e, f) {
                a = "0x" + e - 65536;
                return a !== a || f ? e : 0 > a ? String.fromCharCode(a + 65536) : String.fromCharCode(a >> 10 | 55296, 1023 & a | 56320)
            },
            da = function() {
                Q()
            };
        try {
            A.apply(ca = E.call(O.childNodes), O.childNodes), ca[O.childNodes.length].nodeType
        } catch (fc) {
            A = {
                apply: ca.length ? function(a, e) {
                    ba.apply(a, E.call(e))
                } : function(a, e) {
                    for (var f = a.length, h = 0; a[f++] = e[h++];);
                    a.length =
                        f - 1
                }
            }
        }
        var G = e.support = {};
        var Ia = e.isXML = function(a) {
            return (a = a && (a.ownerDocument || a).documentElement) ? "HTML" !== a.nodeName : !1
        };
        var Q = e.setDocument = function(a) {
            var e, f;
            a = a ? a.ownerDocument || a : O;
            return a !== X && 9 === a.nodeType && a.documentElement ? (X = a, K = X.documentElement, Ba = !Ia(X), (f = X.defaultView) && f.top !== f && (f.addEventListener ? f.addEventListener("unload", da, !1) : f.attachEvent && f.attachEvent("onunload", da)), G.attributes = q(function(a) {
                    return a.className = "i", !a.getAttribute("className")
                }), G.getElementsByTagName =
                q(function(a) {
                    return a.appendChild(X.createComment("")), !a.getElementsByTagName("*").length
                }), G.getElementsByClassName = Xa.test(X.getElementsByClassName), G.getById = q(function(a) {
                    return K.appendChild(a).id = B, !X.getElementsByName || !X.getElementsByName(B).length
                }), G.getById ? (Y.find.ID = function(a, e) {
                    if ("undefined" != typeof e.getElementById && Ba) return (a = e.getElementById(a)) ? [a] : []
                }, Y.filter.ID = function(a) {
                    var e = a.replace(ia, pa);
                    return function(a) {
                        return a.getAttribute("id") === e
                    }
                }) : (delete Y.find.ID, Y.filter.ID =
                    function(a) {
                        var e = a.replace(ia, pa);
                        return function(a) {
                            return (a = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id")) && a.value === e
                        }
                    }), Y.find.TAG = G.getElementsByTagName ? function(a, e) {
                    return "undefined" != typeof e.getElementsByTagName ? e.getElementsByTagName(a) : G.qsa ? e.querySelectorAll(a) : void 0
                } : function(a, e) {
                    var f = [],
                        h = 0;
                    e = e.getElementsByTagName(a);
                    if ("*" === a) {
                        for (; a = e[h++];) 1 === a.nodeType && f.push(a);
                        return f
                    }
                    return e
                }, Y.find.CLASS = G.getElementsByClassName && function(a, e) {
                    return "undefined" !=
                        typeof e.getElementsByClassName && Ba ? e.getElementsByClassName(a) : void 0
                }, F = [], H = [], (G.qsa = Xa.test(X.querySelectorAll)) && (q(function(a) {
                    K.appendChild(a).innerHTML = "<a id='" + B + "'></a><select id='" + B + "-\r\\' msallowcapture=''><option selected=''></option></select>";
                    a.querySelectorAll("[msallowcapture^='']").length && H.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");
                    a.querySelectorAll("[selected]").length || H.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
                    a.querySelectorAll("[id~=" + B + "-]").length || H.push("~=");
                    a.querySelectorAll(":checked").length || H.push(":checked");
                    a.querySelectorAll("a#" + B + "+*").length || H.push(".#.+[+~]")
                }), q(function(a) {
                    var e = X.createElement("input");
                    e.setAttribute("type", "hidden");
                    a.appendChild(e).setAttribute("name", "D");
                    a.querySelectorAll("[name=d]").length && H.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");
                    a.querySelectorAll(":enabled").length || H.push(":enabled", ":disabled");
                    a.querySelectorAll("*,:x");
                    H.push(",.*:")
                })), (G.matchesSelector =
                    Xa.test(za = K.matches || K.webkitMatchesSelector || K.mozMatchesSelector || K.oMatchesSelector || K.msMatchesSelector)) && q(function(a) {
                    G.disconnectedMatch = za.call(a, "div");
                    za.call(a, "[s!='']:x");
                    F.push("!=", ":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")
                }),
                H = H.length && new RegExp(H.join("|")), F = F.length && new RegExp(F.join("|")), e = Xa.test(K.compareDocumentPosition), Z = e || Xa.test(K.contains) ? function(a, e) {
                    var f = 9 === a.nodeType ? a.documentElement : a;
                    e = e && e.parentNode;
                    return a === e || !(!e || 1 !== e.nodeType || !(f.contains ? f.contains(e) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(e)))
                } : function(a, e) {
                    if (e)
                        for (; e = e.parentNode;)
                            if (e === a) return !0;
                    return !1
                }, aa = e ? function(a, e) {
                    if (a === e) return ha = !0, 0;
                    var f = !a.compareDocumentPosition - !e.compareDocumentPosition;
                    return f ? f : (f = (a.ownerDocument || a) === (e.ownerDocument || e) ? a.compareDocumentPosition(e) : 1, 1 & f || !G.sortDetached && e.compareDocumentPosition(a) === f ? a === X || a.ownerDocument === O && Z(O, a) ? -1 : e === X || e.ownerDocument === O && Z(O, e) ? 1 : L ? qa(L, a) - qa(L, e) : 0 : 4 & f ? -1 : 1)
                } : function(a, e) {
                    if (a === e) return ha = !0, 0;
                    var f = 0,
                        h = a.parentNode,
                        q = e.parentNode,
                        g = [a],
                        l = [e];
                    if (!h || !q) return a === X ? -1 : e === X ? 1 : h ? -1 : q ? 1 : L ? qa(L, a) - qa(L, e) : 0;
                    if (h === q) return k(a, e);
                    for (; a = a.parentNode;) g.unshift(a);
                    for (a = e; a = a.parentNode;) l.unshift(a);
                    for (; g[f] ===
                        l[f];) f++;
                    return f ? k(g[f], l[f]) : g[f] === O ? -1 : l[f] === O ? 1 : 0
                }, X) : X
        };
        e.matches = function(a, f) {
            return e(a, null, null, f)
        };
        e.matchesSelector = function(a, f) {
            if ((a.ownerDocument || a) !== X && Q(a), f = f.replace(I, "='$1']"), !(!G.matchesSelector || !Ba || wa[f + " "] || F && F.test(f) || H && H.test(f))) try {
                var h = za.call(a, f);
                if (h || G.disconnectedMatch || a.document && 11 !== a.document.nodeType) return h
            } catch (hc) {}
            return 0 < e(f, X, null, [a]).length
        };
        e.contains = function(a, e) {
            return (a.ownerDocument || a) !== X && Q(a), Z(a, e)
        };
        e.attr = function(a, e) {
            (a.ownerDocument ||
                a) !== X && Q(a);
            var f = Y.attrHandle[e.toLowerCase()];
            f = f && Ka.call(Y.attrHandle, e.toLowerCase()) ? f(a, e, !Ba) : void 0;
            return void 0 !== f ? f : G.attributes || !Ba ? a.getAttribute(e) : (f = a.getAttributeNode(e)) && f.specified ? f.value : null
        };
        e.error = function(a) {
            throw Error("Syntax error, unrecognized expression: " + a);
        };
        e.uniqueSort = function(a) {
            var e, f = [],
                h = 0,
                q = 0;
            if (ha = !G.detectDuplicates, L = !G.sortStable && a.slice(0), a.sort(aa), ha) {
                for (; e = a[q++];) e === a[q] && (h = f.push(q));
                for (; h--;) a.splice(f[h], 1)
            }
            return L = null, a
        };
        var Ca =
            e.getText = function(a) {
                var e, f = "",
                    h = 0;
                if (e = a.nodeType)
                    if (1 === e || 9 === e || 11 === e) {
                        if ("string" == typeof a.textContent) return a.textContent;
                        for (a = a.firstChild; a; a = a.nextSibling) f += Ca(a)
                    } else {
                        if (3 === e || 4 === e) return a.nodeValue
                    }
                else
                    for (; e = a[h++];) f += Ca(e);
                return f
            };
        var Y = e.selectors = {
            cacheLength: 50,
            createPseudo: h,
            match: Fa,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(a) {
                    return a[1] =
                        a[1].replace(ia, pa), a[3] = (a[3] || a[4] || a[5] || "").replace(ia, pa), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4)
                },
                CHILD: function(a) {
                    return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || e.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && e.error(a[0]), a
                },
                PSEUDO: function(a) {
                    var e, f = !a[6] && a[2];
                    return Fa.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : f && J.test(f) && (e = la(f, !0)) && (e = f.indexOf(")", f.length - e) - f.length) && (a[0] = a[0].slice(0,
                        e), a[2] = f.slice(0, e)), a.slice(0, 3))
                }
            },
            filter: {
                TAG: function(a) {
                    var e = a.replace(ia, pa).toLowerCase();
                    return "*" === a ? function() {
                        return !0
                    } : function(a) {
                        return a.nodeName && a.nodeName.toLowerCase() === e
                    }
                },
                CLASS: function(a) {
                    var e = C[a + " "];
                    return e || (e = new RegExp("(^|[\\x20\\t\\r\\n\\f])" + a + "([\\x20\\t\\r\\n\\f]|$)"), C(a, function(a) {
                        return e.test("string" == typeof a.className && a.className || "undefined" != typeof a.getAttribute && a.getAttribute("class") || "")
                    }))
                },
                ATTR: function(a, f, h) {
                    return function(q) {
                        q = e.attr(q,
                            a);
                        return null == q ? "!=" === f : f ? (q += "", "=" === f ? q === h : "!=" === f ? q !== h : "^=" === f ? h && 0 === q.indexOf(h) : "*=" === f ? h && -1 < q.indexOf(h) : "$=" === f ? h && q.slice(-h.length) === h : "~=" === f ? -1 < (" " + q.replace(Oa, " ") + " ").indexOf(h) : "|=" === f ? q === h || q.slice(0, h.length + 1) === h + "-" : !1) : !0
                    }
                },
                CHILD: function(a, e, f, h, q) {
                    var g = "nth" !== a.slice(0, 3),
                        k = "last" !== a.slice(-4),
                        l = "of-type" === e;
                    return 1 === h && 0 === q ? function(a) {
                        return !!a.parentNode
                    } : function(e, f, m) {
                        var x, n;
                        f = g !== k ? "nextSibling" : "previousSibling";
                        var p = e.parentNode,
                            W = l && e.nodeName.toLowerCase();
                        m = !m && !l;
                        var z = !1;
                        if (p) {
                            if (g) {
                                for (; f;) {
                                    for (x = e; x = x[f];)
                                        if (l ? x.nodeName.toLowerCase() === W : 1 === x.nodeType) return !1;
                                    var V = f = "only" === a && !V && "nextSibling"
                                }
                                return !0
                            }
                            if (V = [k ? p.firstChild : p.lastChild], k && m) {
                                x = p;
                                var r = x[B] || (x[B] = {});
                                var N = r[x.uniqueID] || (r[x.uniqueID] = {});
                                var Ta = N[a] || [];
                                z = (n = Ta[0] === U && Ta[1]) && Ta[2];
                                for (x = n && p.childNodes[n]; x = ++n && x && x[f] || (z = n = 0) || V.pop();)
                                    if (1 === x.nodeType && ++z && x === e) {
                                        N[a] = [U, n, z];
                                        break
                                    }
                            } else if (m && (x = e, r = x[B] || (x[B] = {}), N = r[x.uniqueID] || (r[x.uniqueID] = {}), Ta = N[a] || [], n = Ta[0] === U && Ta[1], z = n), !1 === z)
                                for (;
                                    (x = ++n && x && x[f] || (z = n = 0) || V.pop()) && ((l ? x.nodeName.toLowerCase() !== W : 1 !== x.nodeType) || !++z || (m && (r = x[B] || (x[B] = {}), N = r[x.uniqueID] || (r[x.uniqueID] = {}), N[a] = [U, z]), x !== e)););
                            return z -= q, z === h || 0 === z % h && 0 <= z / h
                        }
                    }
                },
                PSEUDO: function(a, f) {
                    var q, g = Y.pseudos[a] || Y.setFilters[a.toLowerCase()] || e.error("unsupported pseudo: " + a);
                    return g[B] ? g(f) : 1 < g.length ? (q = [a, a, "", f], Y.setFilters.hasOwnProperty(a.toLowerCase()) ? h(function(a, e) {
                        for (var h, q = g(a, f), k = q.length; k--;) h = qa(a,
                            q[k]), a[h] = !(e[h] = q[k])
                    }) : function(a) {
                        return g(a, 0, q)
                    }) : g
                }
            },
            pseudos: {
                not: h(function(a) {
                    var e = [],
                        f = [],
                        q = w(a.replace(ka, "$1"));
                    return q[B] ? h(function(a, e, f, h) {
                        var g;
                        f = q(a, null, h, []);
                        for (h = a.length; h--;)(g = f[h]) && (a[h] = !(e[h] = g))
                    }) : function(a, h, g) {
                        return e[0] = a, q(e, null, g, f), e[0] = null, !f.pop()
                    }
                }),
                has: h(function(a) {
                    return function(f) {
                        return 0 < e(a, f).length
                    }
                }),
                contains: h(function(a) {
                    return a = a.replace(ia, pa),
                        function(e) {
                            return -1 < (e.textContent || e.innerText || Ca(e)).indexOf(a)
                        }
                }),
                lang: h(function(a) {
                    return ja.test(a ||
                            "") || e.error("unsupported lang: " + a), a = a.replace(ia, pa).toLowerCase(),
                        function(e) {
                            var f;
                            do
                                if (f = Ba ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return f = f.toLowerCase(), f === a || 0 === f.indexOf(a + "-"); while ((e = e.parentNode) && 1 === e.nodeType);
                            return !1
                        }
                }),
                target: function(e) {
                    var f = a.location && a.location.hash;
                    return f && f.slice(1) === e.id
                },
                root: function(a) {
                    return a === K
                },
                focus: function(a) {
                    return a === X.activeElement && (!X.hasFocus || X.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                },
                enabled: function(a) {
                    return !1 ===
                        a.disabled
                },
                disabled: function(a) {
                    return !0 === a.disabled
                },
                checked: function(a) {
                    var e = a.nodeName.toLowerCase();
                    return "input" === e && !!a.checked || "option" === e && !!a.selected
                },
                selected: function(a) {
                    return a.parentNode && a.parentNode.selectedIndex, !0 === a.selected
                },
                empty: function(a) {
                    for (a = a.firstChild; a; a = a.nextSibling)
                        if (6 > a.nodeType) return !1;
                    return !0
                },
                parent: function(a) {
                    return !Y.pseudos.empty(a)
                },
                header: function(a) {
                    return $a.test(a.nodeName)
                },
                input: function(a) {
                    return hb.test(a.nodeName)
                },
                button: function(a) {
                    var e =
                        a.nodeName.toLowerCase();
                    return "input" === e && "button" === a.type || "button" === e
                },
                text: function(a) {
                    var e;
                    return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (e = a.getAttribute("type")) || "text" === e.toLowerCase())
                },
                first: n(function() {
                    return [0]
                }),
                last: n(function(a, e) {
                    return [e - 1]
                }),
                eq: n(function(a, e, f) {
                    return [0 > f ? f + e : f]
                }),
                even: n(function(a, e) {
                    for (var f = 0; e > f; f += 2) a.push(f);
                    return a
                }),
                odd: n(function(a, e) {
                    for (var f = 1; e > f; f += 2) a.push(f);
                    return a
                }),
                lt: n(function(a, e, f) {
                    for (e = 0 > f ? f + e : f; 0 <= --e;) a.push(e);
                    return a
                }),
                gt: n(function(a, e, f) {
                    for (f = 0 > f ? f + e : f; ++f < e;) a.push(f);
                    return a
                })
            }
        };
        Y.pseudos.nth = Y.pseudos.eq;
        for (ra in {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) Y.pseudos[ra] = l(ra);
        for (ra in {
                submit: !0,
                reset: !0
            }) Y.pseudos[ra] = m(ra);
        z.prototype = Y.filters = Y.pseudos;
        Y.setFilters = new z;
        var la = e.tokenize = function(a, f) {
            var h, q, g, k, l;
            if (k = M[a + " "]) return f ? 0 : k.slice(0);
            k = a;
            var m = [];
            for (l = Y.preFilter; k;) {
                x && !(h = db.exec(k)) || (h && (k = k.slice(h[0].length) || k), m.push(q = []));
                var x = !1;
                (h = Ha.exec(k)) && (x = h.shift(),
                    q.push({
                        value: x,
                        type: h[0].replace(ka, " ")
                    }), k = k.slice(x.length));
                for (g in Y.filter) !(h = Fa[g].exec(k)) || l[g] && !(h = l[g](h)) || (x = h.shift(), q.push({
                    value: x,
                    type: g,
                    matches: h
                }), k = k.slice(x.length));
                if (!x) break
            }
            return f ? k.length : k ? e.error(a) : M(a, m).slice(0)
        };
        return w = e.compile = function(a, e) {
            var f, h = [],
                q = [],
                g = wa[a + " "];
            if (!g) {
                e || (e = la(a));
                for (f = e.length; f--;) g = ya(e[f]), g[B] ? h.push(g) : q.push(g);
                g = wa(a, S(q, h));
                g.selector = a
            }
            return g
        }, D = e.select = function(a, e, f, h) {
            var q, g, k, l, m, x = "function" == typeof a && a,
                n = !h &&
                la(a = x.selector || a);
            if (f = f || [], 1 === n.length) {
                if (g = n[0] = n[0].slice(0), 2 < g.length && "ID" === (k = g[0]).type && G.getById && 9 === e.nodeType && Ba && Y.relative[g[1].type]) {
                    if (e = (Y.find.ID(k.matches[0].replace(ia, pa), e) || [])[0], !e) return f;
                    x && (e = e.parentNode);
                    a = a.slice(g.shift().value.length)
                }
                for (q = Fa.needsContext.test(a) ? 0 : g.length; q-- && (k = g[q], !Y.relative[l = k.type]);)
                    if ((m = Y.find[l]) && (h = m(k.matches[0].replace(ia, pa), va.test(g[0].type) && p(e.parentNode) || e))) {
                        if (g.splice(q, 1), a = h.length && r(g), !a) return A.apply(f,
                            h), f;
                        break
                    }
            }
            return (x || w(a, n))(h, e, !Ba, f, !e || va.test(a) && p(e.parentNode) || e), f
        }, G.sortStable = B.split("").sort(aa).join("") === B, G.detectDuplicates = !!ha, Q(), G.sortDetached = q(function(a) {
            return 1 & a.compareDocumentPosition(X.createElement("div"))
        }), q(function(a) {
            return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href")
        }) || g("type|href|height|width", function(a, e, f) {
            return f ? void 0 : a.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2)
        }), G.attributes && q(function(a) {
            return a.innerHTML = "<input/>",
                a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value")
        }) || g("value", function(a, e, f) {
            return f || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue
        }), q(function(a) {
            return null == a.getAttribute("disabled")
        }) || g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", function(a, e, f) {
            var h;
            return f ? void 0 : !0 === a[e] ? e.toLowerCase() : (h = a.getAttributeNode(e)) && h.specified ? h.value : null
        }), e
    }(e);
    m.find = Ca;
    m.expr =
        Ca.selectors;
    m.expr[":"] = m.expr.pseudos;
    m.uniqueSort = m.unique = Ca.uniqueSort;
    m.text = Ca.getText;
    m.isXMLDoc = Ca.isXML;
    m.contains = Ca.contains;
    var Ja = function(a, e, f) {
            for (var h = [], q = void 0 !== f;
                (a = a[e]) && 9 !== a.nodeType;)
                if (1 === a.nodeType) {
                    if (q && m(a).is(f)) break;
                    h.push(a)
                } return h
        },
        Ya = function(a, e) {
            for (var f = []; a; a = a.nextSibling) 1 === a.nodeType && a !== e && f.push(a);
            return f
        },
        Da = m.expr.match.needsContext,
        Ra = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,
        Pa = /^.[^:#\[\.,]*$/;
    m.filter = function(a, e, f) {
        var h = e[0];
        return f && (a = ":not(" +
            a + ")"), 1 === e.length && 1 === h.nodeType ? m.find.matchesSelector(h, a) ? [h] : [] : m.find.matches(a, m.grep(e, function(a) {
            return 1 === a.nodeType
        }))
    };
    m.fn.extend({
        find: function(a) {
            var e, f = this.length,
                h = [],
                g = this;
            if ("string" != typeof a) return this.pushStack(m(a).filter(function() {
                for (e = 0; f > e; e++)
                    if (m.contains(g[e], this)) return !0
            }));
            for (e = 0; f > e; e++) m.find(a, g[e], h);
            return h = this.pushStack(1 < f ? m.unique(h) : h), h.selector = this.selector ? this.selector + " " + a : a, h
        },
        filter: function(a) {
            return this.pushStack(f(this, a || [], !1))
        },
        not: function(a) {
            return this.pushStack(f(this, a || [], !0))
        },
        is: function(a) {
            return !!f(this, "string" == typeof a && Da.test(a) ? m(a) : a || [], !1).length
        }
    });
    var Na = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
    (m.fn.init = function(a, e, f) {
        var h, g;
        if (!a) return this;
        if (f = f || fa, "string" == typeof a) {
            if (h = "<" === a[0] && ">" === a[a.length - 1] && 3 <= a.length ? [null, a, null] : Na.exec(a), !h || !h[1] && e) return !e || e.jquery ? (e || f).find(a) : this.constructor(e).find(a);
            if (h[1]) {
                if (e = e instanceof m ? e[0] : e, m.merge(this, m.parseHTML(h[1], e && e.nodeType ?
                        e.ownerDocument || e : I, !0)), Ra.test(h[1]) && m.isPlainObject(e))
                    for (h in e) m.isFunction(this[h]) ? this[h](e[h]) : this.attr(h, e[h]);
                return this
            }
            return g = I.getElementById(h[2]), g && g.parentNode && (this.length = 1, this[0] = g), this.context = I, this.selector = a, this
        }
        return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : m.isFunction(a) ? void 0 !== f.ready ? f.ready(a) : a(m) : (void 0 !== a.selector && (this.selector = a.selector, this.context = a.context), m.makeArray(a, this))
    }).prototype = m.fn;
    var fa = m(I);
    var Ua = /^(?:parents|prev(?:Until|All))/,
        Q = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    m.fn.extend({
        has: function(a) {
            var e = m(a, this),
                f = e.length;
            return this.filter(function() {
                for (var a = 0; f > a; a++)
                    if (m.contains(this, e[a])) return !0
            })
        },
        closest: function(a, e) {
            for (var f, h = 0, g = this.length, q = [], k = Da.test(a) || "string" != typeof a ? m(a, e || this.context) : 0; g > h; h++)
                for (f = this[h]; f && f !== e; f = f.parentNode)
                    if (11 > f.nodeType && (k ? -1 < k.index(f) : 1 === f.nodeType && m.find.matchesSelector(f, a))) {
                        q.push(f);
                        break
                    } return this.pushStack(1 < q.length ? m.uniqueSort(q) : q)
        },
        index: function(a) {
            return a ?
                "string" == typeof a ? xa.call(m(a), this[0]) : xa.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(a, e) {
            return this.pushStack(m.uniqueSort(m.merge(this.get(), m(a, e))))
        },
        addBack: function(a) {
            return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
        }
    });
    m.each({
        parent: function(a) {
            return (a = a.parentNode) && 11 !== a.nodeType ? a : null
        },
        parents: function(a) {
            return Ja(a, "parentNode")
        },
        parentsUntil: function(a, e, f) {
            return Ja(a, "parentNode", f)
        },
        next: function(a) {
            return h(a,
                "nextSibling")
        },
        prev: function(a) {
            return h(a, "previousSibling")
        },
        nextAll: function(a) {
            return Ja(a, "nextSibling")
        },
        prevAll: function(a) {
            return Ja(a, "previousSibling")
        },
        nextUntil: function(a, e, f) {
            return Ja(a, "nextSibling", f)
        },
        prevUntil: function(a, e, f) {
            return Ja(a, "previousSibling", f)
        },
        siblings: function(a) {
            return Ya((a.parentNode || {}).firstChild, a)
        },
        children: function(a) {
            return Ya(a.firstChild)
        },
        contents: function(a) {
            return a.contentDocument || m.merge([], a.childNodes)
        }
    }, function(a, e) {
        m.fn[a] = function(f, h) {
            var g =
                m.map(this, e, f);
            return "Until" !== a.slice(-5) && (h = f), h && "string" == typeof h && (g = m.filter(h, g)), 1 < this.length && (Q[a] || m.uniqueSort(g), Ua.test(a) && g.reverse()), this.pushStack(g)
        }
    });
    var Qa = /\S+/g;
    m.Callbacks = function(a) {
        a = "string" == typeof a ? k(a) : m.extend({}, a);
        var e, f, h, g, q = [],
            l = [],
            n = -1,
            p = function() {
                g = a.once;
                for (h = e = !0; l.length; n = -1)
                    for (f = l.shift(); ++n < q.length;) !1 === q[n].apply(f[0], f[1]) && a.stopOnFalse && (n = q.length, f = !1);
                a.memory || (f = !1);
                e = !1;
                g && (q = f ? [] : "")
            },
            z = {
                add: function() {
                    return q && (f && !e && (n = q.length -
                        1, l.push(f)), function Jb(e) {
                        m.each(e, function(e, f) {
                            m.isFunction(f) ? a.unique && z.has(f) || q.push(f) : f && f.length && "string" !== m.type(f) && Jb(f)
                        })
                    }(arguments), f && !e && p()), this
                },
                remove: function() {
                    return m.each(arguments, function(a, e) {
                        for (var f; - 1 < (f = m.inArray(e, q, f));) q.splice(f, 1), n >= f && n--
                    }), this
                },
                has: function(a) {
                    return a ? -1 < m.inArray(a, q) : 0 < q.length
                },
                empty: function() {
                    return q && (q = []), this
                },
                disable: function() {
                    return g = l = [], q = f = "", this
                },
                disabled: function() {
                    return !q
                },
                lock: function() {
                    return g = l = [], f || (q = f =
                        ""), this
                },
                locked: function() {
                    return !!g
                },
                fireWith: function(a, f) {
                    return g || (f = f || [], f = [a, f.slice ? f.slice() : f], l.push(f), e || p()), this
                },
                fire: function() {
                    return z.fireWith(this, arguments), this
                },
                fired: function() {
                    return !!h
                }
            };
        return z
    };
    m.extend({
        Deferred: function(a) {
            var e = [
                    ["resolve", "done", m.Callbacks("once memory"), "resolved"],
                    ["reject", "fail", m.Callbacks("once memory"), "rejected"],
                    ["notify", "progress", m.Callbacks("memory")]
                ],
                f = "pending",
                h = {
                    state: function() {
                        return f
                    },
                    always: function() {
                        return g.done(arguments).fail(arguments),
                            this
                    },
                    then: function() {
                        var a = arguments;
                        return m.Deferred(function(f) {
                            m.each(e, function(e, k) {
                                var q = m.isFunction(a[e]) && a[e];
                                g[k[1]](function() {
                                    var a = q && q.apply(this, arguments);
                                    a && m.isFunction(a.promise) ? a.promise().progress(f.notify).done(f.resolve).fail(f.reject) : f[k[0] + "With"](this === h ? f.promise() : this, q ? [a] : arguments)
                                })
                            });
                            a = null
                        }).promise()
                    },
                    promise: function(a) {
                        return null != a ? m.extend(a, h) : h
                    }
                },
                g = {};
            return h.pipe = h.then, m.each(e, function(a, k) {
                var q = k[2],
                    l = k[3];
                h[k[1]] = q.add;
                l && q.add(function() {
                    f =
                        l
                }, e[1 ^ a][2].disable, e[2][2].lock);
                g[k[0]] = function() {
                    return g[k[0] + "With"](this === g ? h : this, arguments), this
                };
                g[k[0] + "With"] = q.fireWith
            }), h.promise(g), a && a.call(g, g), g
        },
        when: function(a) {
            var e = 0,
                f = ta.call(arguments),
                h = f.length,
                g = 1 !== h || a && m.isFunction(a.promise) ? h : 0,
                k = 1 === g ? a : m.Deferred(),
                q = function(a, e, f) {
                    return function(h) {
                        e[a] = this;
                        f[a] = 1 < arguments.length ? ta.call(arguments) : h;
                        f === n ? k.notifyWith(e, f) : --g || k.resolveWith(e, f)
                    }
                },
                l;
            if (1 < h) {
                var n = Array(h);
                var p = Array(h);
                for (l = Array(h); h > e; e++) f[e] && m.isFunction(f[e].promise) ?
                    f[e].promise().progress(q(e, p, n)).done(q(e, l, f)).fail(k.reject) : --g
            }
            return g || k.resolveWith(l, f), k.promise()
        }
    });
    var G;
    m.fn.ready = function(a) {
        return m.ready.promise().done(a), this
    };
    m.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(a) {
            a ? m.readyWait++ : m.ready(!0)
        },
        ready: function(a) {
            (!0 === a ? --m.readyWait : m.isReady) || (m.isReady = !0, !0 !== a && 0 < --m.readyWait || (G.resolveWith(I, [m]), m.fn.triggerHandler && (m(I).triggerHandler("ready"), m(I).off("ready"))))
        }
    });
    m.ready.promise = function(a) {
        return G || (G = m.Deferred(),
            "complete" === I.readyState || "loading" !== I.readyState && !I.documentElement.doScroll ? e.setTimeout(m.ready) : (I.addEventListener("DOMContentLoaded", l), e.addEventListener("load", l))), G.promise(a)
    };
    m.ready.promise();
    var Ga = function(a, e, f, h, g, k, l) {
            var q = 0,
                n = a.length,
                x = null == f;
            if ("object" === m.type(f))
                for (q in g = !0, f) Ga(a, e, q, f[q], !0, k, l);
            else if (void 0 !== h && (g = !0, m.isFunction(h) || (l = !0), x && (l ? (e.call(a, h), e = null) : (x = e, e = function(a, e, f) {
                    return x.call(m(a), f)
                })), e))
                for (; n > q; q++) e(a[q], f, l ? h : h.call(a[q], q, e(a[q],
                    f)));
            return g ? a : x ? e.call(a) : n ? e(a[0], f) : k
        },
        Aa = function(a) {
            return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType
        };
    n.uid = 1;
    n.prototype = {
        register: function(a, e) {
            e = e || {};
            return a.nodeType ? a[this.expando] = e : Object.defineProperty(a, this.expando, {
                value: e,
                writable: !0,
                configurable: !0
            }), a[this.expando]
        },
        cache: function(a) {
            if (!Aa(a)) return {};
            var e = a[this.expando];
            return e || (e = {}, Aa(a) && (a.nodeType ? a[this.expando] = e : Object.defineProperty(a, this.expando, {
                value: e,
                configurable: !0
            }))), e
        },
        set: function(a, e, f) {
            var h;
            a =
                this.cache(a);
            if ("string" == typeof e) a[e] = f;
            else
                for (h in e) a[h] = e[h];
            return a
        },
        get: function(a, e) {
            return void 0 === e ? this.cache(a) : a[this.expando] && a[this.expando][e]
        },
        access: function(a, e, f) {
            var h;
            return void 0 === e || e && "string" == typeof e && void 0 === f ? (h = this.get(a, e), void 0 !== h ? h : this.get(a, m.camelCase(e))) : (this.set(a, e, f), void 0 !== f ? f : e)
        },
        remove: function(a, e) {
            var f, h, g = a[this.expando];
            if (void 0 !== g) {
                if (void 0 === e) this.register(a);
                else
                    for (m.isArray(e) ? h = e.concat(e.map(m.camelCase)) : (f = m.camelCase(e),
                            e in g ? h = [e, f] : (h = f, h = h in g ? [h] : h.match(Qa) || [])), f = h.length; f--;) delete g[h[f]];
                (void 0 === e || m.isEmptyObject(g)) && (a.nodeType ? a[this.expando] = void 0 : delete a[this.expando])
            }
        },
        hasData: function(a) {
            a = a[this.expando];
            return void 0 !== a && !m.isEmptyObject(a)
        }
    };
    var z = new n,
        T = new n,
        X = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        za = /[A-Z]/g;
    m.extend({
        hasData: function(a) {
            return T.hasData(a) || z.hasData(a)
        },
        data: function(a, e, f) {
            return T.access(a, e, f)
        },
        removeData: function(a, e) {
            T.remove(a, e)
        },
        _data: function(a, e, f) {
            return z.access(a,
                e, f)
        },
        _removeData: function(a, e) {
            z.remove(a, e)
        }
    });
    m.fn.extend({
        data: function(a, e) {
            var f, h, g, k = this[0],
                q = k && k.attributes;
            if (void 0 === a) {
                if (this.length && (g = T.get(k), 1 === k.nodeType && !z.get(k, "hasDataAttrs"))) {
                    for (f = q.length; f--;) q[f] && (h = q[f].name, 0 === h.indexOf("data-") && (h = m.camelCase(h.slice(5)), p(k, h, g[h])));
                    z.set(k, "hasDataAttrs", !0)
                }
                return g
            }
            return "object" == typeof a ? this.each(function() {
                T.set(this, a)
            }) : Ga(this, function(e) {
                var f, h;
                if (k && void 0 === e) {
                    if ((f = T.get(k, a) || T.get(k, a.replace(za, "-$&").toLowerCase()),
                            void 0 !== f) || (h = m.camelCase(a), f = T.get(k, h), void 0 !== f) || (f = p(k, h, void 0), void 0 !== f)) return f
                } else h = m.camelCase(a), this.each(function() {
                    var f = T.get(this, h);
                    T.set(this, h, e); - 1 < a.indexOf("-") && void 0 !== f && T.set(this, a, e)
                })
            }, null, e, 1 < arguments.length, null, !0)
        },
        removeData: function(a) {
            return this.each(function() {
                T.remove(this, a)
            })
        }
    });
    m.extend({
        queue: function(a, e, f) {
            var h;
            return a ? (e = (e || "fx") + "queue", h = z.get(a, e), f && (!h || m.isArray(f) ? h = z.access(a, e, m.makeArray(f)) : h.push(f)), h || []) : void 0
        },
        dequeue: function(a,
            e) {
            e = e || "fx";
            var f = m.queue(a, e),
                h = f.length,
                g = f.shift(),
                k = m._queueHooks(a, e),
                q = function() {
                    m.dequeue(a, e)
                };
            "inprogress" === g && (g = f.shift(), h--);
            g && ("fx" === e && f.unshift("inprogress"), delete k.stop, g.call(a, q, k));
            !h && k && k.empty.fire()
        },
        _queueHooks: function(a, e) {
            var f = e + "queueHooks";
            return z.get(a, f) || z.access(a, f, {
                empty: m.Callbacks("once memory").add(function() {
                    z.remove(a, [e + "queue", f])
                })
            })
        }
    });
    m.fn.extend({
        queue: function(a, e) {
            var f = 2;
            return "string" != typeof a && (e = a, a = "fx", f--), arguments.length < f ? m.queue(this[0],
                a) : void 0 === e ? this : this.each(function() {
                var f = m.queue(this, a, e);
                m._queueHooks(this, a);
                "fx" === a && "inprogress" !== f[0] && m.dequeue(this, a)
            })
        },
        dequeue: function(a) {
            return this.each(function() {
                m.dequeue(this, a)
            })
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", [])
        },
        promise: function(a, e) {
            var f, h = 1,
                g = m.Deferred(),
                k = this,
                q = this.length,
                l = function() {
                    --h || g.resolveWith(k, [k])
                };
            "string" != typeof a && (e = a, a = void 0);
            for (a = a || "fx"; q--;)(f = z.get(k[q], a + "queueHooks")) && f.empty && (h++, f.empty.add(l));
            return l(), g.promise(e)
        }
    });
    var Oa = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        Y = new RegExp("^(?:([+-])=|)(" + Oa + ")([a-z%]*)$", "i"),
        Sa = ["Top", "Right", "Bottom", "Left"],
        N = function(a, e) {
            return a = e || a, "none" === m.css(a, "display") || !m.contains(a.ownerDocument, a)
        },
        ya = /^(?:checkbox|radio)$/i,
        ra = /<([\w:-]+)/,
        Ba = /^$|\/(?:java|ecma)script/i,
        Ka = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>",
                "</tr></tbody></table>"
            ],
            _default: [0, "", ""]
        };
    Ka.optgroup = Ka.option;
    Ka.tbody = Ka.tfoot = Ka.colgroup = Ka.caption = Ka.thead;
    Ka.th = Ka.td;
    var db = /<|&#?\w+;/;
    ! function() {
        var a = I.createDocumentFragment().appendChild(I.createElement("div")),
            e = I.createElement("input");
        e.setAttribute("type", "radio");
        e.setAttribute("checked", "checked");
        e.setAttribute("name", "t");
        a.appendChild(e);
        H.checkClone = a.cloneNode(!0).cloneNode(!0).lastChild.checked;
        a.innerHTML = "<textarea>x</textarea>";
        H.noCloneChecked = !!a.cloneNode(!0).lastChild.defaultValue
    }();
    var $a = /^key/,
        fb = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        ab = /^([^.]*)(?:\.(.+)|)/;
    m.event = {
        global: {},
        add: function(a, e, f, h, g) {
            var k, q, l, n, x, p, r, N;
            if (n = z.get(a))
                for (f.handler && (k = f, f = k.handler, g = k.selector), f.guid || (f.guid = m.guid++), (l = n.events) || (l = n.events = {}), (q = n.handle) || (q = n.handle = function(e) {
                        return "undefined" != typeof m && m.event.triggered !== e.type ? m.event.dispatch.apply(a, arguments) : void 0
                    }), e = (e || "").match(Qa) || [""], n = e.length; n--;) {
                    var W = ab.exec(e[n]) || [];
                    var V = N = W[1];
                    W = (W[2] || "").split(".").sort();
                    V && (p = m.event.special[V] || {}, V = (g ? p.delegateType : p.bindType) || V, p = m.event.special[V] || {}, x = m.extend({
                        type: V,
                        origType: N,
                        data: h,
                        handler: f,
                        guid: f.guid,
                        selector: g,
                        needsContext: g && m.expr.match.needsContext.test(g),
                        namespace: W.join(".")
                    }, k), (r = l[V]) || (r = l[V] = [], r.delegateCount = 0, p.setup && !1 !== p.setup.call(a, h, W, q) || a.addEventListener && a.addEventListener(V, q)), p.add && (p.add.call(a, x), x.handler.guid || (x.handler.guid = f.guid)), g ? r.splice(r.delegateCount++, 0, x) : r.push(x), m.event.global[V] = !0)
                }
        },
        remove: function(a,
            e, f, h, g) {
            var k, q, l, n, x, p, r, N, W = z.hasData(a) && z.get(a);
            if (W && (n = W.events)) {
                e = (e || "").match(Qa) || [""];
                for (x = e.length; x--;)
                    if (l = ab.exec(e[x]) || [], p = N = l[1], r = (l[2] || "").split(".").sort(), p) {
                        var V = m.event.special[p] || {};
                        p = (h ? V.delegateType : V.bindType) || p;
                        var u = n[p] || [];
                        l = l[2] && new RegExp("(^|\\.)" + r.join("\\.(?:.*\\.|)") + "(\\.|$)");
                        for (q = k = u.length; k--;) {
                            var R = u[k];
                            !g && N !== R.origType || f && f.guid !== R.guid || l && !l.test(R.namespace) || h && h !== R.selector && ("**" !== h || !R.selector) || (u.splice(k, 1), R.selector && u.delegateCount--,
                                V.remove && V.remove.call(a, R))
                        }
                        q && !u.length && (V.teardown && !1 !== V.teardown.call(a, r, W.handle) || m.removeEvent(a, p, W.handle), delete n[p])
                    } else
                        for (p in n) m.event.remove(a, p + e[x], f, h, !0);
                m.isEmptyObject(n) && z.remove(a, "handle events")
            }
        },
        dispatch: function(a) {
            a = m.event.fix(a);
            var e, f, h, g, k = ta.call(arguments);
            var q = (z.get(this, "events") || {})[a.type] || [];
            var l = m.event.special[a.type] || {};
            if (k[0] = a, a.delegateTarget = this, !l.preDispatch || !1 !== l.preDispatch.call(this, a)) {
                var n = m.event.handlers.call(this, a, q);
                for (q = 0;
                    (h = n[q++]) && !a.isPropagationStopped();)
                    for (a.currentTarget = h.elem, e = 0;
                        (g = h.handlers[e++]) && !a.isImmediatePropagationStopped();) a.rnamespace && !a.rnamespace.test(g.namespace) || (a.handleObj = g, a.data = g.data, f = ((m.event.special[g.origType] || {}).handle || g.handler).apply(h.elem, k), void 0 !== f && !1 === (a.result = f) && (a.preventDefault(), a.stopPropagation()));
                return l.postDispatch && l.postDispatch.call(this, a), a.result
            }
        },
        handlers: function(a, e) {
            var f, h = [],
                g = e.delegateCount,
                k = a.target;
            if (g && k.nodeType && ("click" !==
                    a.type || isNaN(a.button) || 1 > a.button))
                for (; k !== this; k = k.parentNode || this)
                    if (1 === k.nodeType && (!0 !== k.disabled || "click" !== a.type)) {
                        var q = [];
                        for (f = 0; g > f; f++) {
                            var l = e[f];
                            var n = l.selector + " ";
                            void 0 === q[n] && (q[n] = l.needsContext ? -1 < m(n, this).index(k) : m.find(n, this, null, [k]).length);
                            q[n] && q.push(l)
                        }
                        q.length && h.push({
                            elem: k,
                            handlers: q
                        })
                    } return g < e.length && h.push({
                elem: this,
                handlers: e.slice(g)
            }), h
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: ["char", "charCode", "key", "keyCode"],
            filter: function(a, e) {
                return null == a.which && (a.which = null != e.charCode ? e.charCode : e.keyCode), a
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(a, e) {
                var f, h, g, k = e.button;
                return null == a.pageX && null != e.clientX && (f = a.target.ownerDocument || I, h = f.documentElement, g = f.body, a.pageX = e.clientX + (h && h.scrollLeft || g && g.scrollLeft || 0) - (h && h.clientLeft || g && g.clientLeft ||
                    0), a.pageY = e.clientY + (h && h.scrollTop || g && g.scrollTop || 0) - (h && h.clientTop || g && g.clientTop || 0)), a.which || void 0 === k || (a.which = 1 & k ? 1 : 2 & k ? 3 : 4 & k ? 2 : 0), a
            }
        },
        fix: function(a) {
            if (a[m.expando]) return a;
            var e = a.type;
            var f = a,
                h = this.fixHooks[e];
            h || (this.fixHooks[e] = h = fb.test(e) ? this.mouseHooks : $a.test(e) ? this.keyHooks : {});
            var g = h.props ? this.props.concat(h.props) : this.props;
            a = new m.Event(f);
            for (e = g.length; e--;) {
                var k = g[e];
                a[k] = f[k]
            }
            return a.target || (a.target = I), 3 === a.target.nodeType && (a.target = a.target.parentNode),
                h.filter ? h.filter(a, f) : a
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    return this !== K() && this.focus ? (this.focus(), !1) : void 0
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    return this === K() && this.blur ? (this.blur(), !1) : void 0
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    return "checkbox" === this.type && this.click && m.nodeName(this, "input") ? (this.click(), !1) : void 0
                },
                _default: function(a) {
                    return m.nodeName(a.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(a) {
                    void 0 !== a.result && a.originalEvent &&
                        (a.originalEvent.returnValue = a.result)
                }
            }
        }
    };
    m.removeEvent = function(a, e, f) {
        a.removeEventListener && a.removeEventListener(e, f)
    };
    m.Event = function(a, e) {
        return this instanceof m.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && !1 === a.returnValue ? C : D) : this.type = a, e && m.extend(this, e), this.timeStamp = a && a.timeStamp || m.now(), void(this[m.expando] = !0)) : new m.Event(a, e)
    };
    m.Event.prototype = {
        constructor: m.Event,
        isDefaultPrevented: D,
        isPropagationStopped: D,
        isImmediatePropagationStopped: D,
        preventDefault: function() {
            var a = this.originalEvent;
            this.isDefaultPrevented = C;
            a && a.preventDefault()
        },
        stopPropagation: function() {
            var a = this.originalEvent;
            this.isPropagationStopped = C;
            a && a.stopPropagation()
        },
        stopImmediatePropagation: function() {
            var a = this.originalEvent;
            this.isImmediatePropagationStopped = C;
            a && a.stopImmediatePropagation();
            this.stopPropagation()
        }
    };
    m.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(a,
        e) {
        m.event.special[a] = {
            delegateType: e,
            bindType: e,
            handle: function(a) {
                var f, h = a.relatedTarget,
                    g = a.handleObj;
                return h && (h === this || m.contains(this, h)) || (a.type = g.origType, f = g.handler.apply(this, arguments), a.type = e), f
            }
        }
    });
    m.fn.extend({
        on: function(a, e, f, h) {
            return L(this, a, e, f, h)
        },
        one: function(a, e, f, h) {
            return L(this, a, e, f, h, 1)
        },
        off: function(a, e, f) {
            var h, g;
            if (a && a.preventDefault && a.handleObj) return h = a.handleObj, m(a.delegateTarget).off(h.namespace ? h.origType + "." + h.namespace : h.origType, h.selector, h.handler),
                this;
            if ("object" == typeof a) {
                for (g in a) this.off(g, e, a[g]);
                return this
            }
            return !1 !== e && "function" != typeof e || (f = e, e = void 0), !1 === f && (f = D), this.each(function() {
                m.event.remove(this, a, f, e)
            })
        }
    });
    var gb = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
        bb = /<script|<style|<link/i,
        cb = /checked\s*(?:[^=]|=\s*.checked.)/i,
        pb = /^true\/(.*)/,
        Za = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
    m.extend({
        htmlPrefilter: function(a) {
            return a.replace(gb, "<$1></$2>")
        },
        clone: function(a, e, f) {
            var h, g = a.cloneNode(!0),
                k = m.contains(a.ownerDocument, a);
            if (!(H.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || m.isXMLDoc(a))) {
                var l = u(g);
                var q = u(a);
                var n = 0;
                for (h = q.length; h > n; n++) {
                    var x = q[n],
                        p = l[n],
                        z = p.nodeName.toLowerCase();
                    "input" === z && ya.test(x.type) ? p.checked = x.checked : "input" !== z && "textarea" !== z || (p.defaultValue = x.defaultValue)
                }
            }
            if (e)
                if (f)
                    for (q = q || u(a), l = l || u(g), n = 0, h = q.length; h > n; n++) aa(q[n], l[n]);
                else aa(a, g);
            return l = u(g, "script"), 0 < l.length && y(l, !k && u(a, "script")), g
        },
        cleanData: function(a) {
            for (var e, f, h, g = m.event.special,
                    k = 0; void 0 !== (f = a[k]); k++)
                if (Aa(f)) {
                    if (e = f[z.expando]) {
                        if (e.events)
                            for (h in e.events) g[h] ? m.event.remove(f, h) : m.removeEvent(f, h, e.handle);
                        f[z.expando] = void 0
                    }
                    f[T.expando] && (f[T.expando] = void 0)
                }
        }
    });
    m.fn.extend({
        domManip: ka,
        detach: function(a) {
            return ja(this, a, !0)
        },
        remove: function(a) {
            return ja(this, a)
        },
        text: function(a) {
            return Ga(this, function(a) {
                return void 0 === a ? m.text(this) : this.empty().each(function() {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = a)
                })
            }, null, a, arguments.length)
        },
        append: function() {
            return ka(this, arguments, function(a) {
                1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || F(this, a).appendChild(a)
            })
        },
        prepend: function() {
            return ka(this, arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var e = F(this, a);
                    e.insertBefore(a, e.firstChild)
                }
            })
        },
        before: function() {
            return ka(this, arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this)
            })
        },
        after: function() {
            return ka(this, arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a,
                    this.nextSibling)
            })
        },
        empty: function() {
            for (var a, e = 0; null != (a = this[e]); e++) 1 === a.nodeType && (m.cleanData(u(a, !1)), a.textContent = "");
            return this
        },
        clone: function(a, e) {
            return a = null == a ? !1 : a, e = null == e ? a : e, this.map(function() {
                return m.clone(this, a, e)
            })
        },
        html: function(a) {
            return Ga(this, function(a) {
                var e = this[0] || {},
                    f = 0,
                    h = this.length;
                if (void 0 === a && 1 === e.nodeType) return e.innerHTML;
                if ("string" == typeof a && !bb.test(a) && !Ka[(ra.exec(a) || ["", ""])[1].toLowerCase()]) {
                    a = m.htmlPrefilter(a);
                    try {
                        for (; h > f; f++) e = this[f] || {}, 1 === e.nodeType && (m.cleanData(u(e, !1)), e.innerHTML = a);
                        e = 0
                    } catch (ec) {}
                }
                e && this.empty().append(a)
            }, null, a, arguments.length)
        },
        replaceWith: function() {
            var a = [];
            return ka(this, arguments, function(e) {
                var f = this.parentNode;
                0 > m.inArray(this, a) && (m.cleanData(u(this)), f && f.replaceChild(e, this))
            }, a)
        }
    });
    m.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(a, e) {
        m.fn[a] = function(a) {
            for (var f = [], h = m(a), g = h.length - 1, k = 0; g >= k; k++) a = k === g ? this : this.clone(!0),
                m(h[k])[e](a), na.apply(f, a.get());
            return this.pushStack(f)
        }
    });
    var Wa, eb = {
            HTML: "block",
            BODY: "block"
        },
        nb = /^margin/,
        Xa = new RegExp("^(" + Oa + ")(?!px)[a-z%]+$", "i"),
        hb = function(a) {
            var f = a.ownerDocument.defaultView;
            return f && f.opener || (f = e), f.getComputedStyle(a)
        },
        sb = function(a, e, f, h) {
            var g, k = {};
            for (g in e) k[g] = a.style[g], a.style[g] = e[g];
            f = f.apply(a, h || []);
            for (g in e) a.style[g] = k[g];
            return f
        },
        jb = I.documentElement;
    ! function() {
        var a, f, h, g, k = I.createElement("div"),
            l = I.createElement("div");
        if (l.style) {
            var n = function() {
                l.style.cssText =
                    "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";
                l.innerHTML = "";
                jb.appendChild(k);
                var q = e.getComputedStyle(l);
                a = "1%" !== q.top;
                g = "2px" === q.marginLeft;
                f = "4px" === q.width;
                l.style.marginRight = "50%";
                h = "4px" === q.marginRight;
                jb.removeChild(k)
            };
            l.style.backgroundClip = "content-box";
            l.cloneNode(!0).style.backgroundClip = "";
            H.clearCloneStyle = "content-box" === l.style.backgroundClip;
            k.style.cssText =
                "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute";
            k.appendChild(l);
            m.extend(H, {
                pixelPosition: function() {
                    return n(), a
                },
                boxSizingReliable: function() {
                    return null == f && n(), f
                },
                pixelMarginRight: function() {
                    return null == f && n(), h
                },
                reliableMarginLeft: function() {
                    return null == f && n(), g
                },
                reliableMarginRight: function() {
                    var a, f = l.appendChild(I.createElement("div"));
                    return f.style.cssText = l.style.cssText = "-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",
                        f.style.marginRight = f.style.width = "0", l.style.width = "1px", jb.appendChild(k), a = !parseFloat(e.getComputedStyle(f).marginRight), jb.removeChild(k), l.removeChild(f), a
                }
            })
        }
    }();
    var Mb = /^(none|table(?!-c[ea]).+)/,
        Nb = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Ab = {
            letterSpacing: "0",
            fontWeight: "400"
        },
        zb = ["Webkit", "O", "Moz", "ms"],
        yb = I.createElement("div").style;
    m.extend({
        cssHooks: {
            opacity: {
                get: function(a, e) {
                    if (e) return a = Z(a, "opacity"), "" === a ? "1" : a
                }
            }
        },
        cssNumber: {
            animationIterationCount: !0,
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function(a, e, f, h) {
            if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                var g, k, l, q = m.camelCase(e),
                    n = a.style;
                return e = m.cssProps[q] || (m.cssProps[q] = Ha(q) || q), l = m.cssHooks[e] || m.cssHooks[q], void 0 === f ? l && "get" in l && void 0 !== (g = l.get(a, !1, h)) ? g : n[e] : (k = typeof f, "string" === k && (g = Y.exec(f)) && g[1] && (f = r(a, e, g), k = "number"), null != f && f === f && ("number" ===
                    k && (f += g && g[3] || (m.cssNumber[q] ? "" : "px")), H.clearCloneStyle || "" !== f || 0 !== e.indexOf("background") || (n[e] = "inherit"), l && "set" in l && void 0 === (f = l.set(a, f, h)) || (n[e] = f)), void 0)
            }
        },
        css: function(a, e, f, h) {
            var g, k, l, q = m.camelCase(e);
            return e = m.cssProps[q] || (m.cssProps[q] = Ha(q) || q), l = m.cssHooks[e] || m.cssHooks[q], l && "get" in l && (g = l.get(a, !0, f)), void 0 === g && (g = Z(a, e, h)), "normal" === g && e in Ab && (g = Ab[e]), "" === f || f ? (k = parseFloat(g), !0 === f || isFinite(k) ? k || 0 : g) : g
        }
    });
    m.each(["height", "width"], function(a, e) {
        m.cssHooks[e] = {
            get: function(a, f, h) {
                return f ? Mb.test(m.css(a, "display")) && 0 === a.offsetWidth ? sb(a, Nb, function() {
                    return La(a, e, h)
                }) : La(a, e, h) : void 0
            },
            set: function(a, f, h) {
                var g, k = h && hb(a);
                h = h && Ia(a, e, h, "border-box" === m.css(a, "boxSizing", !1, k), k);
                return h && (g = Y.exec(f)) && "px" !== (g[3] || "px") && (a.style[e] = f, f = m.css(a, e)), Ea(a, f, h)
            }
        }
    });
    m.cssHooks.marginLeft = qa(H.reliableMarginLeft, function(a, e) {
        return e ? (parseFloat(Z(a, "marginLeft")) || a.getBoundingClientRect().left - sb(a, {
                marginLeft: 0
            }, function() {
                return a.getBoundingClientRect().left
            })) +
            "px" : void 0
    });
    m.cssHooks.marginRight = qa(H.reliableMarginRight, function(a, e) {
        return e ? sb(a, {
            display: "inline-block"
        }, Z, [a, "marginRight"]) : void 0
    });
    m.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(a, e) {
        m.cssHooks[a + e] = {
            expand: function(f) {
                var h = 0,
                    g = {};
                for (f = "string" == typeof f ? f.split(" ") : [f]; 4 > h; h++) g[a + Sa[h] + e] = f[h] || f[h - 2] || f[0];
                return g
            }
        };
        nb.test(a) || (m.cssHooks[a + e].set = Ea)
    });
    m.fn.extend({
        css: function(a, e) {
            return Ga(this, function(a, e, f) {
                var h, g = {},
                    k = 0;
                if (m.isArray(e)) {
                    f = hb(a);
                    for (h = e.length; h >
                        k; k++) g[e[k]] = m.css(a, e[k], !1, f);
                    return g
                }
                return void 0 !== f ? m.style(a, e, f) : m.css(a, e)
            }, a, e, 1 < arguments.length)
        },
        show: function() {
            return la(this, !0)
        },
        hide: function() {
            return la(this)
        },
        toggle: function(a) {
            return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
                N(this) ? m(this).show() : m(this).hide()
            })
        }
    });
    m.Tween = O;
    O.prototype = {
        constructor: O,
        init: function(a, e, f, h, g, k) {
            this.elem = a;
            this.prop = f;
            this.easing = g || m.easing._default;
            this.options = e;
            this.start = this.now = this.cur();
            this.end = h;
            this.unit =
                k || (m.cssNumber[f] ? "" : "px")
        },
        cur: function() {
            var a = O.propHooks[this.prop];
            return a && a.get ? a.get(this) : O.propHooks._default.get(this)
        },
        run: function(a) {
            var e, f = O.propHooks[this.prop];
            return this.options.duration ? this.pos = e = m.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : this.pos = e = a, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), f && f.set ? f.set(this) : O.propHooks._default.set(this), this
        }
    };
    O.prototype.init.prototype =
        O.prototype;
    O.propHooks = {
        _default: {
            get: function(a) {
                var e;
                return 1 !== a.elem.nodeType || null != a.elem[a.prop] && null == a.elem.style[a.prop] ? a.elem[a.prop] : (e = m.css(a.elem, a.prop, ""), e && "auto" !== e ? e : 0)
            },
            set: function(a) {
                m.fx.step[a.prop] ? m.fx.step[a.prop](a) : 1 !== a.elem.nodeType || null == a.elem.style[m.cssProps[a.prop]] && !m.cssHooks[a.prop] ? a.elem[a.prop] = a.now : m.style(a.elem, a.prop, a.now + a.unit)
            }
        }
    };
    O.propHooks.scrollTop = O.propHooks.scrollLeft = {
        set: function(a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] =
                a.now)
        }
    };
    m.easing = {
        linear: function(a) {
            return a
        },
        swing: function(a) {
            return .5 - Math.cos(a * Math.PI) / 2
        },
        _default: "swing"
    };
    m.fx = O.prototype.init;
    m.fx.step = {};
    var ib, ob, Ob = /^(?:toggle|show|hide)$/,
        Pb = /queueHooks$/;
    m.Animation = m.extend(da, {
        tweeners: {
            "*": [function(a, e) {
                var f = this.createTween(a, e);
                return r(f.elem, a, Y.exec(e), f), f
            }]
        },
        tweener: function(a, e) {
            m.isFunction(a) ? (e = a, a = ["*"]) : a = a.match(Qa);
            for (var f, h = 0, g = a.length; g > h; h++) f = a[h], da.tweeners[f] = da.tweeners[f] || [], da.tweeners[f].unshift(e)
        },
        prefilters: [function(a,
            e, f) {
            var h, g, k, l, q, n, p, r = this,
                x = {},
                u = a.style,
                R = a.nodeType && N(a),
                T = z.get(a, "fxshow");
            f.queue || (l = m._queueHooks(a, "fx"), null == l.unqueued && (l.unqueued = 0, q = l.empty.fire, l.empty.fire = function() {
                l.unqueued || q()
            }), l.unqueued++, r.always(function() {
                r.always(function() {
                    l.unqueued--;
                    m.queue(a, "fx").length || l.empty.fire()
                })
            }));
            1 === a.nodeType && ("height" in e || "width" in e) && (f.overflow = [u.overflow, u.overflowX, u.overflowY], n = m.css(a, "display"), p = "none" === n ? z.get(a, "olddisplay") || S(a.nodeName) : n, "inline" === p && "none" ===
                m.css(a, "float") && (u.display = "inline-block"));
            f.overflow && (u.overflow = "hidden", r.always(function() {
                u.overflow = f.overflow[0];
                u.overflowX = f.overflow[1];
                u.overflowY = f.overflow[2]
            }));
            for (h in e)
                if (g = e[h], Ob.exec(g)) {
                    if (delete e[h], k = k || "toggle" === g, g === (R ? "hide" : "show")) {
                        if ("show" !== g || !T || void 0 === T[h]) continue;
                        R = !0
                    }
                    x[h] = T && T[h] || m.style(a, h)
                } else n = void 0;
            if (m.isEmptyObject(x)) "inline" === ("none" === n ? S(a.nodeName) : n) && (u.display = n);
            else
                for (h in T ? "hidden" in T && (R = T.hidden) : T = z.access(a, "fxshow", {}),
                    k && (T.hidden = !R), R ? m(a).show() : r.done(function() {
                        m(a).hide()
                    }), r.done(function() {
                        var e;
                        z.remove(a, "fxshow");
                        for (e in x) m.style(a, e, x[e])
                    }), x) e = M(R ? T[h] : 0, h, r), h in T || (T[h] = e.start, R && (e.end = e.start, e.start = "width" === h || "height" === h ? 1 : 0))
        }],
        prefilter: function(a, e) {
            e ? da.prefilters.unshift(a) : da.prefilters.push(a)
        }
    });
    m.speed = function(a, e, f) {
        var h = a && "object" == typeof a ? m.extend({}, a) : {
            complete: f || !f && e || m.isFunction(a) && a,
            duration: a,
            easing: f && e || e && !m.isFunction(e) && e
        };
        return h.duration = m.fx.off ? 0 : "number" ==
            typeof h.duration ? h.duration : h.duration in m.fx.speeds ? m.fx.speeds[h.duration] : m.fx.speeds._default, null != h.queue && !0 !== h.queue || (h.queue = "fx"), h.old = h.complete, h.complete = function() {
                m.isFunction(h.old) && h.old.call(this);
                h.queue && m.dequeue(this, h.queue)
            }, h
    };
    m.fn.extend({
        fadeTo: function(a, e, f, h) {
            return this.filter(N).css("opacity", 0).show().end().animate({
                opacity: e
            }, a, f, h)
        },
        animate: function(a, e, f, h) {
            var g = m.isEmptyObject(a),
                k = m.speed(e, f, h);
            e = function() {
                var e = da(this, m.extend({}, a), k);
                (g || z.get(this,
                    "finish")) && e.stop(!0)
            };
            return e.finish = e, g || !1 === k.queue ? this.each(e) : this.queue(k.queue, e)
        },
        stop: function(a, e, f) {
            var h = function(a) {
                var e = a.stop;
                delete a.stop;
                e(f)
            };
            return "string" != typeof a && (f = e, e = a, a = void 0), e && !1 !== a && this.queue(a || "fx", []), this.each(function() {
                var e = !0,
                    g = null != a && a + "queueHooks",
                    k = m.timers,
                    l = z.get(this);
                if (g) l[g] && l[g].stop && h(l[g]);
                else
                    for (g in l) l[g] && l[g].stop && Pb.test(g) && h(l[g]);
                for (g = k.length; g--;) k[g].elem !== this || null != a && k[g].queue !== a || (k[g].anim.stop(f), e = !1, k.splice(g,
                    1));
                !e && f || m.dequeue(this, a)
            })
        },
        finish: function(a) {
            return !1 !== a && (a = a || "fx"), this.each(function() {
                var e = z.get(this),
                    f = e[a + "queue"];
                var h = e[a + "queueHooks"];
                var g = m.timers,
                    k = f ? f.length : 0;
                e.finish = !0;
                m.queue(this, a, []);
                h && h.stop && h.stop.call(this, !0);
                for (h = g.length; h--;) g[h].elem === this && g[h].queue === a && (g[h].anim.stop(!0), g.splice(h, 1));
                for (h = 0; k > h; h++) f[h] && f[h].finish && f[h].finish.call(this);
                delete e.finish
            })
        }
    });
    m.each(["toggle", "show", "hide"], function(a, e) {
        var f = m.fn[e];
        m.fn[e] = function(a, h, g) {
            return null ==
                a || "boolean" == typeof a ? f.apply(this, arguments) : this.animate(P(e, !0), a, h, g)
        }
    });
    m.each({
        slideDown: P("show"),
        slideUp: P("hide"),
        slideToggle: P("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(a, e) {
        m.fn[a] = function(a, f, h) {
            return this.animate(e, a, f, h)
        }
    });
    m.timers = [];
    m.fx.tick = function() {
        var a = 0,
            e = m.timers;
        for (ib = m.now(); a < e.length; a++) {
            var f = e[a];
            f() || e[a] !== f || e.splice(a--, 1)
        }
        e.length || m.fx.stop();
        ib = void 0
    };
    m.fx.timer = function(a) {
        m.timers.push(a);
        a() ? m.fx.start() :
            m.timers.pop()
    };
    m.fx.interval = 13;
    m.fx.start = function() {
        ob || (ob = e.setInterval(m.fx.tick, m.fx.interval))
    };
    m.fx.stop = function() {
        e.clearInterval(ob);
        ob = null
    };
    m.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    };
    m.fn.delay = function(a, f) {
        return a = m.fx ? m.fx.speeds[a] || a : a, f = f || "fx", this.queue(f, function(f, h) {
            var g = e.setTimeout(f, a);
            h.stop = function() {
                e.clearTimeout(g)
            }
        })
    };
    (function() {
        var a = I.createElement("input"),
            e = I.createElement("select"),
            f = e.appendChild(I.createElement("option"));
        a.type = "checkbox";
        H.checkOn =
            "" !== a.value;
        H.optSelected = f.selected;
        e.disabled = !0;
        H.optDisabled = !f.disabled;
        a = I.createElement("input");
        a.value = "t";
        a.type = "radio";
        H.radioValue = "t" === a.value
    })();
    var kb = m.expr.attrHandle;
    m.fn.extend({
        attr: function(a, e) {
            return Ga(this, m.attr, a, e, 1 < arguments.length)
        },
        removeAttr: function(a) {
            return this.each(function() {
                m.removeAttr(this, a)
            })
        }
    });
    m.extend({
        attr: function(a, e, f) {
            var h, g, k = a.nodeType;
            if (3 !== k && 8 !== k && 2 !== k) return "undefined" == typeof a.getAttribute ? m.prop(a, e, f) : (1 === k && m.isXMLDoc(a) || (e = e.toLowerCase(),
                g = m.attrHooks[e] || (m.expr.match.bool.test(e) ? Qb : void 0)), void 0 !== f ? null === f ? void m.removeAttr(a, e) : g && "set" in g && void 0 !== (h = g.set(a, f, e)) ? h : (a.setAttribute(e, f + ""), f) : g && "get" in g && null !== (h = g.get(a, e)) ? h : (h = m.find.attr(a, e), null == h ? void 0 : h))
        },
        attrHooks: {
            type: {
                set: function(a, e) {
                    if (!H.radioValue && "radio" === e && m.nodeName(a, "input")) {
                        var f = a.value;
                        return a.setAttribute("type", e), f && (a.value = f), e
                    }
                }
            }
        },
        removeAttr: function(a, e) {
            var f = 0,
                h = e && e.match(Qa);
            if (h && 1 === a.nodeType)
                for (; e = h[f++];) {
                    var g = m.propFix[e] ||
                        e;
                    m.expr.match.bool.test(e) && (a[g] = !1);
                    a.removeAttribute(e)
                }
        }
    });
    var Qb = {
        set: function(a, e, f) {
            return !1 === e ? m.removeAttr(a, f) : a.setAttribute(f, f), f
        }
    };
    m.each(m.expr.match.bool.source.match(/\w+/g), function(a, e) {
        var f = kb[e] || m.find.attr;
        kb[e] = function(a, e, h) {
            var g, k;
            return h || (k = kb[e], kb[e] = g, g = null != f(a, e, h) ? e.toLowerCase() : null, kb[e] = k), g
        }
    });
    var Rb = /^(?:input|select|textarea|button)$/i,
        Sb = /^(?:a|area)$/i;
    m.fn.extend({
        prop: function(a, e) {
            return Ga(this, m.prop, a, e, 1 < arguments.length)
        },
        removeProp: function(a) {
            return this.each(function() {
                delete this[m.propFix[a] ||
                    a]
            })
        }
    });
    m.extend({
        prop: function(a, e, f) {
            var h, g, k = a.nodeType;
            if (3 !== k && 8 !== k && 2 !== k) return 1 === k && m.isXMLDoc(a) || (e = m.propFix[e] || e, g = m.propHooks[e]), void 0 !== f ? g && "set" in g && void 0 !== (h = g.set(a, f, e)) ? h : a[e] = f : g && "get" in g && null !== (h = g.get(a, e)) ? h : a[e]
        },
        propHooks: {
            tabIndex: {
                get: function(a) {
                    var e = m.find.attr(a, "tabindex");
                    return e ? parseInt(e, 10) : Rb.test(a.nodeName) || Sb.test(a.nodeName) && a.href ? 0 : -1
                }
            }
        },
        propFix: {
            "for": "htmlFor",
            "class": "className"
        }
    });
    H.optSelected || (m.propHooks.selected = {
        get: function(a) {
            a =
                a.parentNode;
            return a && a.parentNode && a.parentNode.selectedIndex, null
        },
        set: function(a) {
            a = a.parentNode;
            a && (a.selectedIndex, a.parentNode && a.parentNode.selectedIndex)
        }
    });
    m.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "), function() {
        m.propFix[this.toLowerCase()] = this
    });
    var tb = /[\t\r\n\f]/g;
    m.fn.extend({
        addClass: function(a) {
            var e, f, h, g, k, l, n = 0;
            if (m.isFunction(a)) return this.each(function(e) {
                m(this).addClass(a.call(this, e, sa(this)))
            });
            if ("string" == typeof a && a)
                for (e = a.match(Qa) || []; f = this[n++];)
                    if (g = sa(f), h = 1 === f.nodeType && (" " + g + " ").replace(tb, " ")) {
                        for (l = 0; k = e[l++];) 0 > h.indexOf(" " + k + " ") && (h += k + " ");
                        h = m.trim(h);
                        g !== h && f.setAttribute("class", h)
                    } return this
        },
        removeClass: function(a) {
            var e, f, h, g, k, l, n = 0;
            if (m.isFunction(a)) return this.each(function(e) {
                m(this).removeClass(a.call(this, e, sa(this)))
            });
            if (!arguments.length) return this.attr("class", "");
            if ("string" == typeof a && a)
                for (e = a.match(Qa) || []; f = this[n++];)
                    if (g = sa(f), h = 1 === f.nodeType &&
                        (" " + g + " ").replace(tb, " ")) {
                        for (l = 0; k = e[l++];)
                            for (; - 1 < h.indexOf(" " + k + " ");) h = h.replace(" " + k + " ", " ");
                        h = m.trim(h);
                        g !== h && f.setAttribute("class", h)
                    } return this
        },
        toggleClass: function(a, e) {
            var f = typeof a;
            return "boolean" == typeof e && "string" === f ? e ? this.addClass(a) : this.removeClass(a) : m.isFunction(a) ? this.each(function(f) {
                m(this).toggleClass(a.call(this, f, sa(this), e), e)
            }) : this.each(function() {
                var e, h;
                if ("string" === f) {
                    var g = 0;
                    var k = m(this);
                    for (h = a.match(Qa) || []; e = h[g++];) k.hasClass(e) ? k.removeClass(e) :
                        k.addClass(e)
                } else void 0 !== a && "boolean" !== f || (e = sa(this), e && z.set(this, "__className__", e), this.setAttribute && this.setAttribute("class", e || !1 === a ? "" : z.get(this, "__className__") || ""))
            })
        },
        hasClass: function(a) {
            var e, f = 0;
            for (a = " " + a + " "; e = this[f++];)
                if (1 === e.nodeType && -1 < (" " + sa(e) + " ").replace(tb, " ").indexOf(a)) return !0;
            return !1
        }
    });
    var Tb = /\r/g,
        Ub = /[\x20\t\r\n\f]+/g;
    m.fn.extend({
        val: function(a) {
            var e, f, h, g = this[0];
            if (arguments.length) return h = m.isFunction(a), this.each(function(f) {
                var g;
                1 === this.nodeType &&
                    (g = h ? a.call(this, f, m(this).val()) : a, null == g ? g = "" : "number" == typeof g ? g += "" : m.isArray(g) && (g = m.map(g, function(a) {
                        return null == a ? "" : a + ""
                    })), e = m.valHooks[this.type] || m.valHooks[this.nodeName.toLowerCase()], e && "set" in e && void 0 !== e.set(this, g, "value") || (this.value = g))
            });
            if (g) return e = m.valHooks[g.type] || m.valHooks[g.nodeName.toLowerCase()], e && "get" in e && void 0 !== (f = e.get(g, "value")) ? f : (f = g.value, "string" == typeof f ? f.replace(Tb, "") : null == f ? "" : f)
        }
    });
    m.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var e = m.find.attr(a,
                        "value");
                    return null != e ? e : m.trim(m.text(a)).replace(Ub, " ")
                }
            },
            select: {
                get: function(a) {
                    for (var e, f = a.options, h = a.selectedIndex, g = "select-one" === a.type || 0 > h, k = g ? null : [], l = g ? h + 1 : f.length, n = 0 > h ? l : g ? h : 0; l > n; n++)
                        if (e = f[n], !(!e.selected && n !== h || (H.optDisabled ? e.disabled : null !== e.getAttribute("disabled")) || e.parentNode.disabled && m.nodeName(e.parentNode, "optgroup"))) {
                            if (a = m(e).val(), g) return a;
                            k.push(a)
                        } return k
                },
                set: function(a, e) {
                    for (var f, h = a.options, g = m.makeArray(e), k = h.length; k--;) e = h[k], (e.selected = -1 <
                        m.inArray(m.valHooks.option.get(e), g)) && (f = !0);
                    return f || (a.selectedIndex = -1), g
                }
            }
        }
    });
    m.each(["radio", "checkbox"], function() {
        m.valHooks[this] = {
            set: function(a, e) {
                return m.isArray(e) ? a.checked = -1 < m.inArray(m(a).val(), e) : void 0
            }
        };
        H.checkOn || (m.valHooks[this].get = function(a) {
            return null === a.getAttribute("value") ? "on" : a.value
        })
    });
    var Bb = /^(?:focusinfocus|focusoutblur)$/;
    m.extend(m.event, {
        trigger: function(a, f, h, g) {
            var k, l, n, q, p, r = [h || I],
                N = ha.call(a, "type") ? a.type : a;
            var u = ha.call(a, "namespace") ? a.namespace.split(".") : [];
            if (k = l = h = h || I, 3 !== h.nodeType && 8 !== h.nodeType && !Bb.test(N + m.event.triggered) && (-1 < N.indexOf(".") && (u = N.split("."), N = u.shift(), u.sort()), n = 0 > N.indexOf(":") && "on" + N, a = a[m.expando] ? a : new m.Event(N, "object" == typeof a && a), a.isTrigger = g ? 2 : 3, a.namespace = u.join("."), a.rnamespace = a.namespace ? new RegExp("(^|\\.)" + u.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, a.result = void 0, a.target || (a.target = h), f = null == f ? [a] : m.makeArray(f, [a]), p = m.event.special[N] || {}, g || !p.trigger || !1 !== p.trigger.apply(h, f))) {
                if (!g && !p.noBubble &&
                    !m.isWindow(h)) {
                    var x = p.delegateType || N;
                    for (Bb.test(x + N) || (k = k.parentNode); k; k = k.parentNode) r.push(k), l = k;
                    l === (h.ownerDocument || I) && r.push(l.defaultView || l.parentWindow || e)
                }
                for (u = 0;
                    (k = r[u++]) && !a.isPropagationStopped();) a.type = 1 < u ? x : p.bindType || N, (q = (z.get(k, "events") || {})[a.type] && z.get(k, "handle")) && q.apply(k, f), (q = n && k[n]) && q.apply && Aa(k) && (a.result = q.apply(k, f), !1 === a.result && a.preventDefault());
                return a.type = N, g || a.isDefaultPrevented() || p._default && !1 !== p._default.apply(r.pop(), f) || !Aa(h) || n &&
                    m.isFunction(h[N]) && !m.isWindow(h) && (l = h[n], l && (h[n] = null), m.event.triggered = N, h[N](), m.event.triggered = void 0, l && (h[n] = l)), a.result
            }
        },
        simulate: function(a, e, f) {
            a = m.extend(new m.Event, f, {
                type: a,
                isSimulated: !0
            });
            m.event.trigger(a, null, e);
            a.isDefaultPrevented() && f.preventDefault()
        }
    });
    m.fn.extend({
        trigger: function(a, e) {
            return this.each(function() {
                m.event.trigger(a, e, this)
            })
        },
        triggerHandler: function(a, e) {
            var f = this[0];
            return f ? m.event.trigger(a, e, f, !0) : void 0
        }
    });
    m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
        function(a, e) {
            m.fn[e] = function(a, f) {
                return 0 < arguments.length ? this.on(e, null, a, f) : this.trigger(e)
            }
        });
    m.fn.extend({
        hover: function(a, e) {
            return this.mouseenter(a).mouseleave(e || a)
        }
    });
    H.focusin = "onfocusin" in e;
    H.focusin || m.each({
        focus: "focusin",
        blur: "focusout"
    }, function(a, e) {
        var f = function(a) {
            m.event.simulate(e, a.target, m.event.fix(a))
        };
        m.event.special[e] = {
            setup: function() {
                var h = this.ownerDocument || this,
                    g = z.access(h, e);
                g || h.addEventListener(a, f, !0);
                z.access(h, e, (g || 0) + 1)
            },
            teardown: function() {
                var h = this.ownerDocument ||
                    this,
                    g = z.access(h, e) - 1;
                g ? z.access(h, e, g) : (h.removeEventListener(a, f, !0), z.remove(h, e))
            }
        }
    });
    var lb = e.location,
        ub = m.now(),
        vb = /\?/;
    m.parseJSON = function(a) {
        return JSON.parse(a + "")
    };
    m.parseXML = function(a) {
        if (!a || "string" != typeof a) return null;
        try {
            var f = (new e.DOMParser).parseFromString(a, "text/xml")
        } catch (W) {
            f = void 0
        }
        return f && !f.getElementsByTagName("parsererror").length || m.error("Invalid XML: " + a), f
    };
    var Vb = /#.*$/,
        Cb = /([?&])_=[^&]*/,
        Wb = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        Xb = /^(?:GET|HEAD)$/,
        Yb = /^\/\//,
        Db = {},
        qb = {},
        Eb = "*/".concat("*"),
        wb = I.createElement("a");
    wb.href = lb.href;
    m.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: lb.href,
            type: "GET",
            isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(lb.protocol),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Eb,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": m.parseJSON,
                "text xml": m.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(a, e) {
            return e ? ma(ma(a, m.ajaxSettings), e) : ma(m.ajaxSettings, a)
        },
        ajaxPrefilter: Va(Db),
        ajaxTransport: Va(qb),
        ajax: function(a, f) {
            function h(a, f, h, l) {
                var q, x, ya, ra = f;
                if (2 !== S) {
                    S = 2;
                    n && e.clearTimeout(n);
                    g = void 0;
                    k = l || "";
                    w.readyState = 0 < a ? 4 : 0;
                    l = 200 <= a && 300 > a || 304 === a;
                    if (h) {
                        var y = z;
                        for (var X = w,
                                L, K, ha, H, Ba = y.contents, B = y.dataTypes;
                            "*" === B[0];) B.shift(), void 0 === L && (L = y.mimeType || X.getResponseHeader("Content-Type"));
                        if (L)
                            for (K in Ba)
                                if (Ba[K] && Ba[K].test(L)) {
                                    B.unshift(K);
                                    break
                                } if (B[0] in h) ha = B[0];
                        else {
                            for (K in h) {
                                if (!B[0] || y.converters[K + " " + B[0]]) {
                                    ha = K;
                                    break
                                }
                                H || (H = K)
                            }
                            ha = ha || H
                        }
                        y = ha ? (ha !== B[0] && B.unshift(ha), h[ha]) : void 0
                    }
                    a: {
                        h = z;L = y;K = w;ha = l;
                        var F, za, Z;y = {};X = h.dataTypes.slice();
                        if (X[1])
                            for (F in h.converters) y[F.toLowerCase()] = h.converters[F];
                        for (H = X.shift(); H;)
                            if (h.responseFields[H] && (K[h.responseFields[H]] =
                                    L), !Z && ha && h.dataFilter && (L = h.dataFilter(L, h.dataType)), Z = H, H = X.shift())
                                if ("*" === H) H = Z;
                                else if ("*" !== Z && Z !== H) {
                            if (F = y[Z + " " + H] || y["* " + H], !F)
                                for (O in y)
                                    if (za = O.split(" "), za[1] === H && (F = y[Z + " " + za[0]] || y["* " + za[0]])) {
                                        !0 === F ? F = y[O] : !0 !== y[O] && (H = za[0], X.unshift(za[1]));
                                        break
                                    } if (!0 !== F)
                                if (F && h["throws"]) L = F(L);
                                else try {
                                    L = F(L)
                                } catch (Lb) {
                                    var O = {
                                        state: "parsererror",
                                        error: F ? Lb : "No conversion from " + Z + " to " + H
                                    };
                                    break a
                                }
                        }
                        O = {
                            state: "success",
                            data: L
                        }
                    }
                    y = O;
                    l ? (z.ifModified && (ya = w.getResponseHeader("Last-Modified"),
                        ya && (m.lastModified[D] = ya), ya = w.getResponseHeader("etag"), ya && (m.etag[D] = ya)), 204 === a || "HEAD" === z.type ? ra = "nocontent" : 304 === a ? ra = "notmodified" : (ra = y.state, q = y.data, x = y.error, l = !x)) : (x = ra, !a && ra || (ra = "error", 0 > a && (a = 0)));
                    w.status = a;
                    w.statusText = (f || ra) + "";
                    l ? u.resolveWith(r, [q, ra, w]) : u.rejectWith(r, [w, ra, x]);
                    w.statusCode(T);
                    T = void 0;
                    p && N.trigger(l ? "ajaxSuccess" : "ajaxError", [w, z, l ? q : x]);
                    R.fireWith(r, [w, ra]);
                    p && (N.trigger("ajaxComplete", [w, z]), --m.active || m.event.trigger("ajaxStop"))
                }
            }
            "object" == typeof a &&
                (f = a, a = void 0);
            f = f || {};
            var g, k, l, n, p, q, z = m.ajaxSetup({}, f),
                r = z.context || z,
                N = z.context && (r.nodeType || r.jquery) ? m(r) : m.event,
                u = m.Deferred(),
                R = m.Callbacks("once memory"),
                T = z.statusCode || {},
                x = {},
                ya = {},
                S = 0,
                ra = "canceled",
                w = {
                    readyState: 0,
                    getResponseHeader: function(a) {
                        var e;
                        if (2 === S) {
                            if (!l)
                                for (l = {}; e = Wb.exec(k);) l[e[1].toLowerCase()] = e[2];
                            e = l[a.toLowerCase()]
                        }
                        return null == e ? null : e
                    },
                    getAllResponseHeaders: function() {
                        return 2 === S ? k : null
                    },
                    setRequestHeader: function(a, e) {
                        var f = a.toLowerCase();
                        return S || (a = ya[f] =
                            ya[f] || a, x[a] = e), this
                    },
                    overrideMimeType: function(a) {
                        return S || (z.mimeType = a), this
                    },
                    statusCode: function(a) {
                        var e;
                        if (a)
                            if (2 > S)
                                for (e in a) T[e] = [T[e], a[e]];
                            else w.always(a[w.status]);
                        return this
                    },
                    abort: function(a) {
                        a = a || ra;
                        return g && g.abort(a), h(0, a), this
                    }
                };
            if (u.promise(w).complete = R.add, w.success = w.done, w.error = w.fail, z.url = ((a || z.url || lb.href) + "").replace(Vb, "").replace(Yb, lb.protocol + "//"), z.type = f.method || f.type || z.method || z.type, z.dataTypes = m.trim(z.dataType || "*").toLowerCase().match(Qa) || [""], null ==
                z.crossDomain) {
                a = I.createElement("a");
                try {
                    a.href = z.url, a.href = a.href, z.crossDomain = wb.protocol + "//" + wb.host != a.protocol + "//" + a.host
                } catch (rb) {
                    z.crossDomain = !0
                }
            }
            if (z.data && z.processData && "string" != typeof z.data && (z.data = m.param(z.data, z.traditional)), A(Db, z, f, w), 2 === S) return w;
            (p = m.event && z.global) && 0 === m.active++ && m.event.trigger("ajaxStart");
            z.type = z.type.toUpperCase();
            z.hasContent = !Xb.test(z.type);
            var D = z.url;
            z.hasContent || (z.data && (D = z.url += (vb.test(D) ? "&" : "?") + z.data, delete z.data), !1 === z.cache &&
                (z.url = Cb.test(D) ? D.replace(Cb, "$1_=" + ub++) : D + (vb.test(D) ? "&" : "?") + "_=" + ub++));
            z.ifModified && (m.lastModified[D] && w.setRequestHeader("If-Modified-Since", m.lastModified[D]), m.etag[D] && w.setRequestHeader("If-None-Match", m.etag[D]));
            (z.data && z.hasContent && !1 !== z.contentType || f.contentType) && w.setRequestHeader("Content-Type", z.contentType);
            w.setRequestHeader("Accept", z.dataTypes[0] && z.accepts[z.dataTypes[0]] ? z.accepts[z.dataTypes[0]] + ("*" !== z.dataTypes[0] ? ", " + Eb + "; q=0.01" : "") : z.accepts["*"]);
            for (q in z.headers) w.setRequestHeader(q,
                z.headers[q]);
            if (z.beforeSend && (!1 === z.beforeSend.call(r, w, z) || 2 === S)) return w.abort();
            ra = "abort";
            for (q in {
                    success: 1,
                    error: 1,
                    complete: 1
                }) w[q](z[q]);
            if (g = A(qb, z, f, w)) {
                if (w.readyState = 1, p && N.trigger("ajaxSend", [w, z]), 2 === S) return w;
                z.async && 0 < z.timeout && (n = e.setTimeout(function() {
                    w.abort("timeout")
                }, z.timeout));
                try {
                    S = 1, g.send(x, h)
                } catch (rb) {
                    if (!(2 > S)) throw rb;
                    h(-1, rb)
                }
            } else h(-1, "No Transport");
            return w
        },
        getJSON: function(a, e, f) {
            return m.get(a, e, f, "json")
        },
        getScript: function(a, e) {
            return m.get(a, void 0,
                e, "script")
        }
    });
    m.each(["get", "post"], function(a, e) {
        m[e] = function(a, f, h, g) {
            return m.isFunction(f) && (g = g || h, h = f, f = void 0), m.ajax(m.extend({
                url: a,
                type: e,
                dataType: g,
                data: f,
                success: h
            }, m.isPlainObject(a) && a))
        }
    });
    m._evalUrl = function(a) {
        return m.ajax({
            url: a,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            "throws": !0
        })
    };
    m.fn.extend({
        wrapAll: function(a) {
            var e;
            return m.isFunction(a) ? this.each(function(e) {
                m(this).wrapAll(a.call(this, e))
            }) : (this[0] && (e = m(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode &&
                e.insertBefore(this[0]), e.map(function() {
                    for (var a = this; a.firstElementChild;) a = a.firstElementChild;
                    return a
                }).append(this)), this)
        },
        wrapInner: function(a) {
            return m.isFunction(a) ? this.each(function(e) {
                m(this).wrapInner(a.call(this, e))
            }) : this.each(function() {
                var e = m(this),
                    f = e.contents();
                f.length ? f.wrapAll(a) : e.append(a)
            })
        },
        wrap: function(a) {
            var e = m.isFunction(a);
            return this.each(function(f) {
                m(this).wrapAll(e ? a.call(this, f) : a)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                m.nodeName(this, "body") ||
                    m(this).replaceWith(this.childNodes)
            }).end()
        }
    });
    m.expr.filters.hidden = function(a) {
        return !m.expr.filters.visible(a)
    };
    m.expr.filters.visible = function(a) {
        return 0 < a.offsetWidth || 0 < a.offsetHeight || 0 < a.getClientRects().length
    };
    var Zb = /%20/g,
        Kb = /\[\]$/,
        Fb = /\r?\n/g,
        $b = /^(?:submit|button|image|reset|file)$/i,
        ac = /^(?:input|select|textarea|keygen)/i;
    m.param = function(a, e) {
        var f, h = [],
            g = function(a, e) {
                e = m.isFunction(e) ? e() : null == e ? "" : e;
                h[h.length] = encodeURIComponent(a) + "=" + encodeURIComponent(e)
            };
        if (void 0 === e &&
            (e = m.ajaxSettings && m.ajaxSettings.traditional), m.isArray(a) || a.jquery && !m.isPlainObject(a)) m.each(a, function() {
            g(this.name, this.value)
        });
        else
            for (f in a) Ma(f, a[f], e, g);
        return h.join("&").replace(Zb, "+")
    };
    m.fn.extend({
        serialize: function() {
            return m.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var a = m.prop(this, "elements");
                return a ? m.makeArray(a) : this
            }).filter(function() {
                var a = this.type;
                return this.name && !m(this).is(":disabled") && ac.test(this.nodeName) && !$b.test(a) &&
                    (this.checked || !ya.test(a))
            }).map(function(a, e) {
                a = m(this).val();
                return null == a ? null : m.isArray(a) ? m.map(a, function(a) {
                    return {
                        name: e.name,
                        value: a.replace(Fb, "\r\n")
                    }
                }) : {
                    name: e.name,
                    value: a.replace(Fb, "\r\n")
                }
            }).get()
        }
    });
    m.ajaxSettings.xhr = function() {
        try {
            return new e.XMLHttpRequest
        } catch (q) {}
    };
    var bc = {
            0: 200,
            1223: 204
        },
        mb = m.ajaxSettings.xhr();
    H.cors = !!mb && "withCredentials" in mb;
    H.ajax = mb = !!mb;
    m.ajaxTransport(function(a) {
        var f, h;
        return H.cors || mb && !a.crossDomain ? {
            send: function(g, k) {
                var l, n = a.xhr();
                if (n.open(a.type,
                        a.url, a.async, a.username, a.password), a.xhrFields)
                    for (l in a.xhrFields) n[l] = a.xhrFields[l];
                a.mimeType && n.overrideMimeType && n.overrideMimeType(a.mimeType);
                a.crossDomain || g["X-Requested-With"] || (g["X-Requested-With"] = "XMLHttpRequest");
                for (l in g) n.setRequestHeader(l, g[l]);
                f = function(a) {
                    return function() {
                        f && (f = h = n.onload = n.onerror = n.onabort = n.onreadystatechange = null, "abort" === a ? n.abort() : "error" === a ? "number" != typeof n.status ? k(0, "error") : k(n.status, n.statusText) : k(bc[n.status] || n.status, n.statusText,
                            "text" !== (n.responseType || "text") || "string" != typeof n.responseText ? {
                                binary: n.response
                            } : {
                                text: n.responseText
                            }, n.getAllResponseHeaders()))
                    }
                };
                n.onload = f();
                h = n.onerror = f("error");
                void 0 !== n.onabort ? n.onabort = h : n.onreadystatechange = function() {
                    4 === n.readyState && e.setTimeout(function() {
                        f && h()
                    })
                };
                f = f("abort");
                try {
                    n.send(a.hasContent && a.data || null)
                } catch (Ib) {
                    if (f) throw Ib;
                }
            },
            abort: function() {
                f && f()
            }
        } : void 0
    });
    m.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function(a) {
                return m.globalEval(a), a
            }
        }
    });
    m.ajaxPrefilter("script", function(a) {
        void 0 === a.cache && (a.cache = !1);
        a.crossDomain && (a.type = "GET")
    });
    m.ajaxTransport("script", function(a) {
        if (a.crossDomain) {
            var e, f;
            return {
                send: function(h, g) {
                    e = m("<script>").prop({
                        charset: a.scriptCharset,
                        src: a.url
                    }).on("load error", f = function(a) {
                        e.remove();
                        f = null;
                        a && g("error" === a.type ? 404 : 200, a.type)
                    });
                    I.head.appendChild(e[0])
                },
                abort: function() {
                    f && f()
                }
            }
        }
    });
    var Gb = [],
        xb = /(=)\?(?=&|$)|\?\?/;
    m.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var a = Gb.pop() || m.expando + "_" + ub++;
            return this[a] = !0, a
        }
    });
    m.ajaxPrefilter("json jsonp", function(a, f, h) {
        var g, k, l, n = !1 !== a.jsonp && (xb.test(a.url) ? "url" : "string" == typeof a.data && 0 === (a.contentType || "").indexOf("application/x-www-form-urlencoded") && xb.test(a.data) && "data");
        return n || "jsonp" === a.dataTypes[0] ? (g = a.jsonpCallback = m.isFunction(a.jsonpCallback) ? a.jsonpCallback() : a.jsonpCallback, n ? a[n] = a[n].replace(xb, "$1" +
            g) : !1 !== a.jsonp && (a.url += (vb.test(a.url) ? "&" : "?") + a.jsonp + "=" + g), a.converters["script json"] = function() {
            return l || m.error(g + " was not called"), l[0]
        }, a.dataTypes[0] = "json", k = e[g], e[g] = function() {
            l = arguments
        }, h.always(function() {
            void 0 === k ? m(e).removeProp(g) : e[g] = k;
            a[g] && (a.jsonpCallback = f.jsonpCallback, Gb.push(g));
            l && m.isFunction(k) && k(l[0]);
            l = k = void 0
        }), "script") : void 0
    });
    m.parseHTML = function(a, e, f) {
        if (!a || "string" != typeof a) return null;
        "boolean" == typeof e && (f = e, e = !1);
        e = e || I;
        var h = Ra.exec(a);
        f = !f && [];
        return h ? [e.createElement(h[1])] : (h = w([a], e, f), f && f.length && m(f).remove(), m.merge([], h.childNodes))
    };
    var Hb = m.fn.load;
    m.fn.load = function(a, e, f) {
        if ("string" != typeof a && Hb) return Hb.apply(this, arguments);
        var h, g, k, l = this,
            n = a.indexOf(" ");
        return -1 < n && (h = m.trim(a.slice(n)), a = a.slice(0, n)), m.isFunction(e) ? (f = e, e = void 0) : e && "object" == typeof e && (g = "POST"), 0 < l.length && m.ajax({
            url: a,
            type: g || "GET",
            dataType: "html",
            data: e
        }).done(function(a) {
            k = arguments;
            l.html(h ? m("<div>").append(m.parseHTML(a)).find(h) : a)
        }).always(f &&
            function(a, e) {
                l.each(function() {
                    f.apply(this, k || [a.responseText, e, a])
                })
            }), this
    };
    m.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function(a, e) {
        m.fn[e] = function(a) {
            return this.on(e, a)
        }
    });
    m.expr.filters.animated = function(a) {
        return m.grep(m.timers, function(e) {
            return a === e.elem
        }).length
    };
    m.offset = {
        setOffset: function(a, e, f) {
            var h, g, k, l = m.css(a, "position"),
                n = m(a),
                z = {};
            "static" === l && (a.style.position = "relative");
            var p = n.offset();
            var r = m.css(a, "top");
            var N = m.css(a, "left");
            ("absolute" === l || "fixed" === l) && -1 < (r + N).indexOf("auto") ? (h = n.position(), k = h.top, g = h.left) : (k = parseFloat(r) || 0, g = parseFloat(N) || 0);
            m.isFunction(e) && (e = e.call(a, f, m.extend({}, p)));
            null != e.top && (z.top = e.top - p.top + k);
            null != e.left && (z.left = e.left - p.left + g);
            "using" in e ? e.using.call(a, z) : n.css(z)
        }
    };
    m.fn.extend({
        offset: function(a) {
            if (arguments.length) return void 0 === a ? this : this.each(function(e) {
                m.offset.setOffset(this, a, e)
            });
            var e, f, h = this[0],
                g = {
                    top: 0,
                    left: 0
                },
                k = h && h.ownerDocument;
            if (k) return e = k.documentElement,
                m.contains(e, h) ? (g = h.getBoundingClientRect(), f = J(k), {
                    top: g.top + f.pageYOffset - e.clientTop,
                    left: g.left + f.pageXOffset - e.clientLeft
                }) : g
        },
        position: function() {
            if (this[0]) {
                var a, e, f = this[0],
                    h = {
                        top: 0,
                        left: 0
                    };
                return "fixed" === m.css(f, "position") ? e = f.getBoundingClientRect() : (a = this.offsetParent(), e = this.offset(), m.nodeName(a[0], "html") || (h = a.offset()), h.top += m.css(a[0], "borderTopWidth", !0), h.left += m.css(a[0], "borderLeftWidth", !0)), {
                    top: e.top - h.top - m.css(f, "marginTop", !0),
                    left: e.left - h.left - m.css(f, "marginLeft",
                        !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var a = this.offsetParent; a && "static" === m.css(a, "position");) a = a.offsetParent;
                return a || jb
            })
        }
    });
    m.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(a, e) {
        var f = "pageYOffset" === e;
        m.fn[a] = function(h) {
            return Ga(this, function(a, h, g) {
                var k = J(a);
                return void 0 === g ? k ? k[e] : a[h] : void(k ? k.scrollTo(f ? k.pageXOffset : g, f ? g : k.pageYOffset) : a[h] = g)
            }, a, h, arguments.length)
        }
    });
    m.each(["top", "left"], function(a, e) {
        m.cssHooks[e] = qa(H.pixelPosition,
            function(a, f) {
                return f ? (f = Z(a, e), Xa.test(f) ? m(a).position()[e] + "px" : f) : void 0
            })
    });
    m.each({
        Height: "height",
        Width: "width"
    }, function(a, e) {
        m.each({
            padding: "inner" + a,
            content: e,
            "": "outer" + a
        }, function(f, h) {
            m.fn[h] = function(h, g) {
                var k = arguments.length && (f || "boolean" != typeof h),
                    l = f || (!0 === h || !0 === g ? "margin" : "border");
                return Ga(this, function(e, f, h) {
                    var g;
                    return m.isWindow(e) ? e.document.documentElement["client" + a] : 9 === e.nodeType ? (g = e.documentElement, Math.max(e.body["scroll" + a], g["scroll" + a], e.body["offset" +
                        a], g["offset" + a], g["client" + a])) : void 0 === h ? m.css(e, f, l) : m.style(e, f, h, l)
                }, e, k ? h : void 0, k, null)
            }
        })
    });
    m.fn.extend({
        bind: function(a, e, f) {
            return this.on(a, null, e, f)
        },
        unbind: function(a, e) {
            return this.off(a, null, e)
        },
        delegate: function(a, e, f, h) {
            return this.on(e, a, f, h)
        },
        undelegate: function(a, e, f) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(e, a || "**", f)
        },
        size: function() {
            return this.length
        }
    });
    m.fn.andSelf = m.fn.addBack;
    "function" == typeof define && define.amd && define("jquery", [], function() {
        return m
    });
    var cc = e.jQuery,
        dc = e.$;
    return m.noConflict = function(a) {
        return e.$ === m && (e.$ = dc), a && e.jQuery === m && (e.jQuery = cc), m
    }, g || (e.jQuery = e.$ = m), m
});
(function(e, g) {
    function a(a, h) {
        var g, k, l, n = a.nodeName.toLowerCase();
        return "area" === n ? (g = a.parentNode, k = g.name, a.href && k && "map" === g.nodeName.toLowerCase() ? (l = e("img[usemap=#" + k + "]")[0], !!l && f(l)) : !1) : (/input|select|textarea|button|object/.test(n) ? !a.disabled : "a" === n ? a.href || h : h) && f(a)
    }

    function f(a) {
        return e.expr.filters.visible(a) && !e(a).parents().addBack().filter(function() {
            return "hidden" === e.css(this, "visibility")
        }).length
    }
    var h = 0,
        k = /^ui-id-\d+$/;
    e.ui = e.ui || {};
    e.ui.version || (e.extend(e.ui, {
            version: "1.10.0",
            keyCode: {
                BACKSPACE: 8,
                COMMA: 188,
                DELETE: 46,
                DOWN: 40,
                END: 35,
                ENTER: 13,
                ESCAPE: 27,
                HOME: 36,
                LEFT: 37,
                NUMPAD_ADD: 107,
                NUMPAD_DECIMAL: 110,
                NUMPAD_DIVIDE: 111,
                NUMPAD_ENTER: 108,
                NUMPAD_MULTIPLY: 106,
                NUMPAD_SUBTRACT: 109,
                PAGE_DOWN: 34,
                PAGE_UP: 33,
                PERIOD: 190,
                RIGHT: 39,
                SPACE: 32,
                TAB: 9,
                UP: 38
            }
        }), e.fn.extend({
            _focus: e.fn.focus,
            focus: function(a, f) {
                return "number" == typeof a ? this.each(function() {
                    var h = this;
                    setTimeout(function() {
                        e(h).focus();
                        f && f.call(h)
                    }, a)
                }) : this._focus.apply(this, arguments)
            },
            scrollParent: function() {
                var a;
                return e.ui.ie &&
                    /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? a = this.parents().filter(function() {
                        return /(relative|absolute|fixed)/.test(e.css(this, "position")) && /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
                    }).eq(0) : a = this.parents().filter(function() {
                        return /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
                    }).eq(0), /fixed/.test(this.css("position")) || !a.length ? e(document) : a
            },
            zIndex: function(a) {
                if (a !==
                    g) return this.css("zIndex", a);
                if (this.length) {
                    a = e(this[0]);
                    for (var f; a.length && a[0] !== document;) {
                        f = a.css("position");
                        if ("absolute" === f || "relative" === f || "fixed" === f)
                            if (f = parseInt(a.css("zIndex"), 10), !isNaN(f) && 0 !== f) return f;
                        a = a.parent()
                    }
                }
                return 0
            },
            uniqueId: function() {
                return this.each(function() {
                    this.id || (this.id = "ui-id-" + ++h)
                })
            },
            removeUniqueId: function() {
                return this.each(function() {
                    k.test(this.id) && e(this).removeAttr("id")
                })
            }
        }), e.extend(e.expr[":"], {
            data: e.expr.createPseudo ? e.expr.createPseudo(function(a) {
                return function(f) {
                    return !!e.data(f,
                        a)
                }
            }) : function(a, f, h) {
                return !!e.data(a, h[3])
            },
            focusable: function(f) {
                return a(f, !isNaN(e.attr(f, "tabindex")))
            },
            tabbable: function(f) {
                var h = e.attr(f, "tabindex"),
                    g = isNaN(h);
                return (g || 0 <= h) && a(f, !g)
            }
        }), e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function(a, f) {
            function h(a, f, h, g) {
                return e.each(k, function() {
                    f -= parseFloat(e.css(a, "padding" + this)) || 0;
                    h && (f -= parseFloat(e.css(a, "border" + this + "Width")) || 0);
                    g && (f -= parseFloat(e.css(a, "margin" + this)) || 0)
                }), f
            }
            var k = "Width" === f ? ["Left", "Right"] : ["Top",
                    "Bottom"
                ],
                l = f.toLowerCase(),
                n = {
                    innerWidth: e.fn.innerWidth,
                    innerHeight: e.fn.innerHeight,
                    outerWidth: e.fn.outerWidth,
                    outerHeight: e.fn.outerHeight
                };
            e.fn["inner" + f] = function(a) {
                return a === g ? n["inner" + f].call(this) : this.each(function() {
                    e(this).css(l, h(this, a) + "px")
                })
            };
            e.fn["outer" + f] = function(a, g) {
                return "number" != typeof a ? n["outer" + f].call(this, a) : this.each(function() {
                    e(this).css(l, h(this, a, !0, g) + "px")
                })
            }
        }), e.fn.addBack || (e.fn.addBack = function(a) {
            return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
        }),
        e("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function(a) {
            return function(f) {
                return arguments.length ? a.call(this, e.camelCase(f)) : a.call(this)
            }
        }(e.fn.removeData)), e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), e.support.selectstart = "onselectstart" in document.createElement("div"), e.fn.extend({
            disableSelection: function() {
                return this.bind((e.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function(a) {
                    a.preventDefault()
                })
            },
            enableSelection: function() {
                return this.unbind(".ui-disableSelection")
            }
        }),
        e.extend(e.ui, {
            plugin: {
                add: function(a, f, h) {
                    var g;
                    a = e.ui[a].prototype;
                    for (g in h) a.plugins[g] = a.plugins[g] || [], a.plugins[g].push([f, h[g]])
                },
                call: function(a, e, f) {
                    var h = a.plugins[e];
                    if (h && a.element[0].parentNode && 11 !== a.element[0].parentNode.nodeType)
                        for (e = 0; e < h.length; e++) a.options[h[e][0]] && h[e][1].apply(a.element, f)
                }
            },
            hasScroll: function(a, f) {
                if ("hidden" === e(a).css("overflow")) return !1;
                f = f && "left" === f ? "scrollLeft" : "scrollTop";
                var h = !1;
                return 0 < a[f] ? !0 : (a[f] = 1, h = 0 < a[f], a[f] = 0, h)
            }
        }))
})(jQuery);
(function(e, g) {
    var a = 0,
        f = Array.prototype.slice,
        h = e.cleanData;
    e.cleanData = function(a) {
        for (var f = 0, g; null != (g = a[f]); f++) try {
            e(g).triggerHandler("remove")
        } catch (p) {}
        h(a)
    };
    e.widget = function(a, f, h) {
        var g = {},
            k = a.split(".")[0];
        a = a.split(".")[1];
        var l = k + "-" + a;
        h || (h = f, f = e.Widget);
        e.expr[":"][l.toLowerCase()] = function(a) {
            return !!e.data(a, l)
        };
        e[k] = e[k] || {};
        var n = e[k][a];
        var w = e[k][a] = function(a, e) {
            if (!this._createWidget) return new w(a, e);
            arguments.length && this._createWidget(a, e)
        };
        e.extend(w, n, {
            version: h.version,
            _proto: e.extend({}, h),
            _childConstructors: []
        });
        var C = new f;
        C.options = e.widget.extend({}, C.options);
        e.each(h, function(a, h) {
            e.isFunction(h) ? g[a] = function() {
                var e = function() {
                        return f.prototype[a].apply(this, arguments)
                    },
                    g = function(e) {
                        return f.prototype[a].apply(this, e)
                    };
                return function() {
                    var a = this._super,
                        f = this._superApply,
                        k;
                    return this._super = e, this._superApply = g, k = h.apply(this, arguments), this._super = a, this._superApply = f, k
                }
            }() : g[a] = h
        });
        w.prototype = e.widget.extend(C, {
            widgetEventPrefix: n ? C.widgetEventPrefix : a
        }, g, {
            constructor: w,
            namespace: k,
            widgetName: a,
            widgetFullName: l
        });
        n ? (e.each(n._childConstructors, function(a, f) {
            a = f.prototype;
            e.widget(a.namespace + "." + a.widgetName, w, f._proto)
        }), delete n._childConstructors) : f._childConstructors.push(w);
        e.widget.bridge(a, w)
    };
    e.widget.extend = function(a) {
        for (var h = f.call(arguments, 1), k = 0, p = h.length, r, u; k < p; k++)
            for (r in h[k]) u = h[k][r], h[k].hasOwnProperty(r) && u !== g && (e.isPlainObject(u) ? a[r] = e.isPlainObject(a[r]) ? e.widget.extend({}, a[r], u) : e.widget.extend({}, u) : a[r] = u);
        return a
    };
    e.widget.bridge = function(a, h) {
        var k = h.prototype.widgetFullName || a;
        e.fn[a] = function(l) {
            var n = "string" == typeof l,
                p = f.call(arguments, 1),
                y = this;
            return l = !n && p.length ? e.widget.extend.apply(null, [l].concat(p)) : l, n ? this.each(function() {
                var f = e.data(this, k);
                if (!f) return e.error("cannot call methods on " + a + " prior to initialization; attempted to call method '" + l + "'");
                if (!e.isFunction(f[l]) || "_" === l.charAt(0)) return e.error("no such method '" + l + "' for " + a + " widget instance");
                var h = f[l].apply(f, p);
                if (h !== f &&
                    h !== g) return y = h && h.jquery ? y.pushStack(h.get()) : h, !1
            }) : this.each(function() {
                var a = e.data(this, k);
                a ? a.option(l || {})._init() : e.data(this, k, new h(l, this))
            }), y
        }
    };
    e.Widget = function() {};
    e.Widget._childConstructors = [];
    e.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(f, h) {
            h = e(h || this.defaultElement || this)[0];
            this.element = e(h);
            this.uuid = a++;
            this.eventNamespace = "." + this.widgetName + this.uuid;
            this.options = e.widget.extend({},
                this.options, this._getCreateOptions(), f);
            this.bindings = e();
            this.hoverable = e();
            this.focusable = e();
            h !== this && (e.data(h, this.widgetFullName, this), this._on(!0, this.element, {
                remove: function(a) {
                    a.target === h && this.destroy()
                }
            }), this.document = e(h.style ? h.ownerDocument : h.document || h), this.window = e(this.document[0].defaultView || this.document[0].parentWindow));
            this._create();
            this._trigger("create", null, this._getCreateEventData());
            this._init()
        },
        _getCreateOptions: e.noop,
        _getCreateEventData: e.noop,
        _create: e.noop,
        _init: e.noop,
        destroy: function() {
            this._destroy();
            this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName));
            this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled");
            this.bindings.unbind(this.eventNamespace);
            this.hoverable.removeClass("ui-state-hover");
            this.focusable.removeClass("ui-state-focus")
        },
        _destroy: e.noop,
        widget: function() {
            return this.element
        },
        option: function(a, f) {
            var h = a,
                k;
            if (0 === arguments.length) return e.widget.extend({}, this.options);
            if ("string" == typeof a) {
                h = {};
                var l = a.split(".");
                a = l.shift();
                if (l.length) {
                    var u = h[a] = e.widget.extend({}, this.options[a]);
                    for (k = 0; k < l.length - 1; k++) u[l[k]] = u[l[k]] || {}, u = u[l[k]];
                    a = l.pop();
                    if (f === g) return u[a] === g ? null : u[a];
                    u[a] = f
                } else {
                    if (f === g) return this.options[a] === g ? null : this.options[a];
                    h[a] = f
                }
            }
            return this._setOptions(h), this
        },
        _setOptions: function(a) {
            for (var e in a) this._setOption(e, a[e]);
            return this
        },
        _setOption: function(a,
            e) {
            return this.options[a] = e, "disabled" === a && (this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!e).attr("aria-disabled", e), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")), this
        },
        enable: function() {
            return this._setOption("disabled", !1)
        },
        disable: function() {
            return this._setOption("disabled", !0)
        },
        _on: function(a, f, h) {
            var g, k = this;
            "boolean" != typeof a && (h = f, f = a, a = !1);
            h ? (f = g = e(f), this.bindings = this.bindings.add(f)) : (h = f, f = this.element, g =
                this.widget());
            e.each(h, function(h, l) {
                function n() {
                    if (a || !0 !== k.options.disabled && !e(this).hasClass("ui-state-disabled")) return ("string" == typeof l ? k[l] : l).apply(k, arguments)
                }
                "string" != typeof l && (n.guid = l.guid = l.guid || n.guid || e.guid++);
                var p = h.match(/^(\w+)\s*(.*)$/);
                h = p[1] + k.eventNamespace;
                (p = p[2]) ? g.delegate(p, h, n): f.bind(h, n)
            })
        },
        _off: function(a, e) {
            e = (e || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace;
            a.unbind(e).undelegate(e)
        },
        _delay: function(a, e) {
            var f = this;
            return setTimeout(function() {
                return ("string" ==
                    typeof a ? f[a] : a).apply(f, arguments)
            }, e || 0)
        },
        _hoverable: function(a) {
            this.hoverable = this.hoverable.add(a);
            this._on(a, {
                mouseenter: function(a) {
                    e(a.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(a) {
                    e(a.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(a) {
            this.focusable = this.focusable.add(a);
            this._on(a, {
                focusin: function(a) {
                    e(a.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(a) {
                    e(a.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(a, f, h) {
            var g,
                k = this.options[a];
            h = h || {};
            f = e.Event(f);
            f.type = (a === this.widgetEventPrefix ? a : this.widgetEventPrefix + a).toLowerCase();
            f.target = this.element[0];
            if (a = f.originalEvent)
                for (g in a) g in f || (f[g] = a[g]);
            return this.element.trigger(f, h), !(e.isFunction(k) && !1 === k.apply(this.element[0], [f].concat(h)) || f.isDefaultPrevented())
        }
    };
    e.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(a, f) {
        e.Widget.prototype["_" + a] = function(h, g, k) {
            "string" == typeof g && (g = {
                effect: g
            });
            var l = g ? !0 === g || "number" == typeof g ? f : g.effect || f : a;
            g = g || {};
            "number" == typeof g && (g = {
                duration: g
            });
            var n = !e.isEmptyObject(g);
            g.complete = k;
            g.delay && h.delay(g.delay);
            n && e.effects && e.effects.effect[l] ? h[a](g) : l !== a && h[l] ? h[l](g.duration, g.easing, k) : h.queue(function(f) {
                e(this)[a]();
                k && k.call(h[0]);
                f()
            })
        }
    })
})(jQuery);
(function(e, g) {
    var a = !1;
    e(document).mouseup(function() {
        a = !1
    });
    e.widget("ui.mouse", {
        version: "1.10.0",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var a = this;
            this.element.bind("mousedown." + this.widgetName, function(e) {
                return a._mouseDown(e)
            }).bind("click." + this.widgetName, function(f) {
                if (!0 === e.data(f.target, a.widgetName + ".preventClickEvent")) return e.removeData(f.target, a.widgetName + ".preventClickEvent"), f.stopImmediatePropagation(), !1
            });
            this.started = !1
        },
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName);
            this._mouseMoveDelegate && e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(f) {
            if (!a) {
                this._mouseStarted && this._mouseUp(f);
                this._mouseDownEvent = f;
                var h = this,
                    g = 1 === f.which,
                    l = "string" == typeof this.options.cancel && f.target.nodeName ? e(f.target).closest(this.options.cancel).length : !1;
                if (!g || l || !this._mouseCapture(f)) return !0;
                (this.mouseDelayMet = !this.options.delay) || (this._mouseDelayTimer = setTimeout(function() {
                    h.mouseDelayMet = !0
                }, this.options.delay));
                return this._mouseDistanceMet(f) && this._mouseDelayMet(f) && (this._mouseStarted = !1 !== this._mouseStart(f), !this._mouseStarted) ? (f.preventDefault(), !0) : (!0 === e.data(f.target, this.widgetName + ".preventClickEvent") && e.removeData(f.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(a) {
                    return h._mouseMove(a)
                }, this._mouseUpDelegate = function(a) {
                    return h._mouseUp(a)
                }, e(document).bind("mousemove." +
                    this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), f.preventDefault(), a = !0, !0)
            }
        },
        _mouseMove: function(a) {
            return e.ui.ie && (!document.documentMode || 9 > document.documentMode) && !a.button ? this._mouseUp(a) : this._mouseStarted ? (this._mouseDrag(a), a.preventDefault()) : (this._mouseDistanceMet(a) && this._mouseDelayMet(a) && (this._mouseStarted = !1 !== this._mouseStart(this._mouseDownEvent, a), this._mouseStarted ? this._mouseDrag(a) : this._mouseUp(a)), !this._mouseStarted)
        },
        _mouseUp: function(a) {
            return e(document).unbind("mousemove." +
                this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, a.target === this._mouseDownEvent.target && e.data(a.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(a)), !1
        },
        _mouseDistanceMet: function(a) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - a.pageX), Math.abs(this._mouseDownEvent.pageY - a.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return !0
        }
    })
})(jQuery);
(function(e, g) {
    function a(a, e, f) {
        return [parseInt(a[0], 10) * (w.test(a[0]) ? e / 100 : 1), parseInt(a[1], 10) * (w.test(a[1]) ? f / 100 : 1)]
    }

    function f(a) {
        var f = a[0];
        return 9 === f.nodeType ? {
            width: a.width(),
            height: a.height(),
            offset: {
                top: 0,
                left: 0
            }
        } : e.isWindow(f) ? {
            width: a.width(),
            height: a.height(),
            offset: {
                top: a.scrollTop(),
                left: a.scrollLeft()
            }
        } : f.preventDefault ? {
            width: 0,
            height: 0,
            offset: {
                top: f.pageY,
                left: f.pageX
            }
        } : {
            width: a.outerWidth(),
            height: a.outerHeight(),
            offset: a.offset()
        }
    }
    e.ui = e.ui || {};
    var h, k = Math.max,
        l = Math.abs,
        n = Math.round,
        p = /left|center|right/,
        r = /top|center|bottom/,
        u = /[\+\-]\d+%?/,
        y = /^\w+/,
        w = /%$/,
        C = e.fn.position;
    e.position = {
        scrollbarWidth: function() {
            if (h !== g) return h;
            var a, f, k = e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                l = k.children()[0];
            return e("body").append(k), a = l.offsetWidth, k.css("overflow", "scroll"), f = l.offsetWidth, a === f && (f = k[0].clientWidth), k.remove(), h = a - f
        },
        getScrollInfo: function(a) {
            var f = a.isWindow ? "" : a.element.css("overflow-x"),
                h = a.isWindow ? "" : a.element.css("overflow-y");
            h = "scroll" === h || "auto" === h && a.height < a.element[0].scrollHeight;
            return {
                width: "scroll" === f || "auto" === f && a.width < a.element[0].scrollWidth ? e.position.scrollbarWidth() : 0,
                height: h ? e.position.scrollbarWidth() : 0
            }
        },
        getWithinInfo: function(a) {
            a = e(a || window);
            var f = e.isWindow(a[0]);
            return {
                element: a,
                isWindow: f,
                offset: a.offset() || {
                    left: 0,
                    top: 0
                },
                scrollLeft: a.scrollLeft(),
                scrollTop: a.scrollTop(),
                width: f ? a.width() : a.outerWidth(),
                height: f ? a.height() : a.outerHeight()
            }
        }
    };
    e.fn.position =
        function(h) {
            if (!h || !h.of) return C.apply(this, arguments);
            h = e.extend({}, h);
            var g, w, D, U, B, aa, ka = e(h.of),
                ja = e.position.getWithinInfo(h.within),
                va = e.position.getScrollInfo(ja),
                S = (h.collision || "flip").split(" "),
                Z = {};
            return aa = f(ka), ka[0].preventDefault && (h.at = "left top"), w = aa.width, D = aa.height, U = aa.offset, B = e.extend({}, U), e.each(["my", "at"], function() {
                var a = (h[this] || "").split(" ");
                1 === a.length && (a = p.test(a[0]) ? a.concat(["center"]) : r.test(a[0]) ? ["center"].concat(a) : ["center", "center"]);
                a[0] = p.test(a[0]) ?
                    a[0] : "center";
                a[1] = r.test(a[1]) ? a[1] : "center";
                var e = u.exec(a[0]);
                var f = u.exec(a[1]);
                Z[this] = [e ? e[0] : 0, f ? f[0] : 0];
                h[this] = [y.exec(a[0])[0], y.exec(a[1])[0]]
            }), 1 === S.length && (S[1] = S[0]), "right" === h.at[0] ? B.left += w : "center" === h.at[0] && (B.left += w / 2), "bottom" === h.at[1] ? B.top += D : "center" === h.at[1] && (B.top += D / 2), g = a(Z.at, w, D), B.left += g[0], B.top += g[1], this.each(function() {
                var f, p = e(this),
                    r = p.outerWidth(),
                    u = p.outerHeight(),
                    y = parseInt(e.css(this, "marginLeft"), 10) || 0,
                    L = parseInt(e.css(this, "marginTop"), 10) || 0,
                    K = r + y + (parseInt(e.css(this, "marginRight"), 10) || 0) + va.width,
                    F = u + L + (parseInt(e.css(this, "marginBottom"), 10) || 0) + va.height,
                    P = e.extend({}, B),
                    M = a(Z.my, p.outerWidth(), p.outerHeight());
                "right" === h.my[0] ? P.left -= r : "center" === h.my[0] && (P.left -= r / 2);
                "bottom" === h.my[1] ? P.top -= u : "center" === h.my[1] && (P.top -= u / 2);
                P.left += M[0];
                P.top += M[1];
                e.support.offsetFractions || (P.left = n(P.left), P.top = n(P.top));
                var aa = {
                    marginLeft: y,
                    marginTop: L
                };
                e.each(["left", "top"], function(a, f) {
                    e.ui.position[S[a]] && e.ui.position[S[a]][f](P, {
                        targetWidth: w,
                        targetHeight: D,
                        elemWidth: r,
                        elemHeight: u,
                        collisionPosition: aa,
                        collisionWidth: K,
                        collisionHeight: F,
                        offset: [g[0] + M[0], g[1] + M[1]],
                        my: h.my,
                        at: h.at,
                        within: ja,
                        elem: p
                    })
                });
                h.using && (f = function(a) {
                    var e = U.left - P.left,
                        f = e + w - r,
                        g = U.top - P.top,
                        n = g + D - u,
                        S = {
                            target: {
                                element: ka,
                                left: U.left,
                                top: U.top,
                                width: w,
                                height: D
                            },
                            element: {
                                element: p,
                                left: P.left,
                                top: P.top,
                                width: r,
                                height: u
                            },
                            horizontal: 0 > f ? "left" : 0 < e ? "right" : "center",
                            vertical: 0 > n ? "top" : 0 < g ? "bottom" : "middle"
                        };
                    w < r && l(e + f) < w && (S.horizontal = "center");
                    D < u &&
                        l(g + n) < D && (S.vertical = "middle");
                    k(l(e), l(f)) > k(l(g), l(n)) ? S.important = "horizontal" : S.important = "vertical";
                    h.using.call(this, a, S)
                });
                p.offset(e.extend(P, {
                    using: f
                }))
            })
        };
    e.ui.position = {
        fit: {
            left: function(a, e) {
                var f = e.within,
                    h = f.isWindow ? f.scrollLeft : f.offset.left;
                f = f.width;
                var g = a.left - e.collisionPosition.marginLeft,
                    l = h - g,
                    n = g + e.collisionWidth - f - h,
                    p;
                e.collisionWidth > f ? 0 < l && 0 >= n ? (p = a.left + l + e.collisionWidth - f - h, a.left += l - p) : 0 < n && 0 >= l ? a.left = h : l > n ? a.left = h + f - e.collisionWidth : a.left = h : 0 < l ? a.left += l : 0 < n ? a.left -=
                    n : a.left = k(a.left - g, a.left)
            },
            top: function(a, e) {
                var f = e.within;
                f = f.isWindow ? f.scrollTop : f.offset.top;
                var h = e.within.height,
                    g = a.top - e.collisionPosition.marginTop,
                    l = f - g,
                    n = g + e.collisionHeight - h - f,
                    p;
                e.collisionHeight > h ? 0 < l && 0 >= n ? (p = a.top + l + e.collisionHeight - h - f, a.top += l - p) : 0 < n && 0 >= l ? a.top = f : l > n ? a.top = f + h - e.collisionHeight : a.top = f : 0 < l ? a.top += l : 0 < n ? a.top -= n : a.top = k(a.top - g, a.top)
            }
        },
        flip: {
            left: function(a, e) {
                var f = e.within,
                    h = f.offset.left + f.scrollLeft,
                    g = f.width,
                    k = f.isWindow ? f.scrollLeft : f.offset.left,
                    n = a.left -
                    e.collisionPosition.marginLeft;
                f = n - k;
                var p = n + e.collisionWidth - g - k;
                n = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0;
                var r = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0,
                    u = -2 * e.offset[0];
                if (0 > f) {
                    if (e = a.left + n + r + u + e.collisionWidth - g - h, 0 > e || e < l(f)) a.left += n + r + u
                } else 0 < p && (e = a.left - e.collisionPosition.marginLeft + n + r + u - k, 0 < e || l(e) < p) && (a.left += n + r + u)
            },
            top: function(a, e) {
                var f = e.within,
                    h = f.offset.top + f.scrollTop,
                    g = f.height;
                f = f.isWindow ? f.scrollTop : f.offset.top;
                var k = a.top -
                    e.collisionPosition.marginTop,
                    n = k - f;
                k = k + e.collisionHeight - g - f;
                var p = "top" === e.my[1] ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0,
                    r = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0,
                    u = -2 * e.offset[1],
                    S, w;
                0 > n ? (w = a.top + p + r + u + e.collisionHeight - g - h, a.top + p + r + u > n && (0 > w || w < l(n)) && (a.top += p + r + u)) : 0 < k && (S = a.top - e.collisionPosition.marginTop + p + r + u - f, a.top + p + r + u > k && (0 < S || l(S) < k) && (a.top += p + r + u))
            }
        },
        flipfit: {
            left: function() {
                e.ui.position.flip.left.apply(this, arguments);
                e.ui.position.fit.left.apply(this,
                    arguments)
            },
            top: function() {
                e.ui.position.flip.top.apply(this, arguments);
                e.ui.position.fit.top.apply(this, arguments)
            }
        }
    };
    (function() {
        var a, f = document.getElementsByTagName("body")[0];
        var h = document.createElement("div");
        var g = document.createElement(f ? "div" : "body");
        var k = {
            visibility: "hidden",
            width: 0,
            height: 0,
            border: 0,
            margin: 0,
            background: "none"
        };
        f && e.extend(k, {
            position: "absolute",
            left: "-1000px",
            top: "-1000px"
        });
        for (a in k) g.style[a] = k[a];
        g.appendChild(h);
        k = f || document.documentElement;
        k.insertBefore(g, k.firstChild);
        h.style.cssText = "position: absolute; left: 10.7432222px;";
        h = e(h).offset().left;
        e.support.offsetFractions = 10 < h && 11 > h;
        g.innerHTML = "";
        k.removeChild(g)
    })()
})(jQuery);
(function(e, g) {
    e.widget("ui.draggable", e.ui.mouse, {
        version: "1.10.0",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            "original" === this.options.helper &&
                !/^(?:r|a|f)/.test(this.element.css("position")) && (this.element[0].style.position = "relative");
            this.options.addClasses && this.element.addClass("ui-draggable");
            this.options.disabled && this.element.addClass("ui-draggable-disabled");
            this._mouseInit()
        },
        _destroy: function() {
            this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");
            this._mouseDestroy()
        },
        _mouseCapture: function(a) {
            var f = this.options;
            return this.helper || f.disabled || 0 < e(a.target).closest(".ui-resizable-handle").length ?
                !1 : (this.handle = this._getHandle(a), this.handle ? (e(!0 === f.iframeFix ? "iframe" : f.iframeFix).each(function() {
                    e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({
                        width: this.offsetWidth + "px",
                        height: this.offsetHeight + "px",
                        position: "absolute",
                        opacity: "0.001",
                        zIndex: 1E3
                    }).css(e(this).offset()).appendTo("body")
                }), !0) : !1)
        },
        _mouseStart: function(a) {
            var f = this.options;
            return this.helper = this._createHelper(a), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(),
                e.ui.ddmanager && (e.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(), this.offset = this.positionAbs = this.element.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                }, e.extend(this.offset, {
                    click: {
                        left: a.pageX - this.offset.left,
                        top: a.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.originalPosition = this.position = this._generatePosition(a),
                this.originalPageX = a.pageX, this.originalPageY = a.pageY, f.cursorAt && this._adjustOffsetFromHelper(f.cursorAt), f.containment && this._setContainment(), !1 === this._trigger("start", a) ? (this._clear(), !1) : (this._cacheHelperProportions(), e.ui.ddmanager && !f.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, a), this._mouseDrag(a, !0), e.ui.ddmanager && e.ui.ddmanager.dragStart(this, a), !0)
        },
        _mouseDrag: function(a, f) {
            this.position = this._generatePosition(a);
            this.positionAbs = this._convertPositionTo("absolute");
            if (!f) {
                f =
                    this._uiHash();
                if (!1 === this._trigger("drag", a, f)) return this._mouseUp({}), !1;
                this.position = f.position
            }
            this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px");
            this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px");
            return e.ui.ddmanager && e.ui.ddmanager.drag(this, a), !1
        },
        _mouseStop: function(a) {
            var f, h = this,
                g = !1,
                l = !1;
            e.ui.ddmanager && !this.options.dropBehaviour && (l = e.ui.ddmanager.drop(this, a));
            this.dropped && (l = this.dropped, this.dropped = !1);
            for (f = this.element[0]; f && (f = f.parentNode);) f === document && (g = !0);
            return g || "original" !== this.options.helper ? ("invalid" === this.options.revert && !l || "valid" === this.options.revert && l || !0 === this.options.revert || e.isFunction(this.options.revert) && this.options.revert.call(this.element, l) ? e(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                !1 !== h._trigger("stop", a) && h._clear()
            }) : !1 !== this._trigger("stop", a) && this._clear(), !1) : !1
        },
        _mouseUp: function(a) {
            return e("div.ui-draggable-iframeFix").each(function() {
                    this.parentNode.removeChild(this)
                }),
                e.ui.ddmanager && e.ui.ddmanager.dragStop(this, a), e.ui.mouse.prototype._mouseUp.call(this, a)
        },
        cancel: function() {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this
        },
        _getHandle: function(a) {
            var f = this.options.handle && e(this.options.handle, this.element).length ? !1 : !0;
            return e(this.options.handle, this.element).find("*").addBack().each(function() {
                this === a.target && (f = !0)
            }), f
        },
        _createHelper: function(a) {
            var f = this.options;
            a = e.isFunction(f.helper) ? e(f.helper.apply(this.element[0],
                [a])) : "clone" === f.helper ? this.element.clone().removeAttr("id") : this.element;
            return a.parents("body").length || a.appendTo("parent" === f.appendTo ? this.element[0].parentNode : f.appendTo), a[0] !== this.element[0] && !/(fixed|absolute)/.test(a.css("position")) && a.css("position", "absolute"), a
        },
        _adjustOffsetFromHelper: function(a) {
            "string" == typeof a && (a = a.split(" "));
            e.isArray(a) && (a = {
                left: +a[0],
                top: +a[1] || 0
            });
            "left" in a && (this.offset.click.left = a.left + this.margins.left);
            "right" in a && (this.offset.click.left = this.helperProportions.width -
                a.right + this.margins.left);
            "top" in a && (this.offset.click.top = a.top + this.margins.top);
            "bottom" in a && (this.offset.click.top = this.helperProportions.height - a.bottom + this.margins.top)
        },
        _getParentOffset: function() {
            this.offsetParent = this.helper.offsetParent();
            var a = this.offsetParent.offset();
            "absolute" === this.cssPosition && this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) && (a.left += this.scrollParent.scrollLeft(), a.top += this.scrollParent.scrollTop());
            if (this.offsetParent[0] ===
                document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && e.ui.ie) a = {
                top: 0,
                left: 0
            };
            return {
                top: a.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: a.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" === this.cssPosition) {
                var a = this.element.position();
                return {
                    top: a.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: a.left - (parseInt(this.helper.css("left"), 10) ||
                        0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var a;
            var f = this.options;
            "parent" === f.containment &&
                (f.containment = this.helper[0].parentNode);
            if ("document" === f.containment || "window" === f.containment) this.containment = ["document" === f.containment ? 0 : e(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, "document" === f.containment ? 0 : e(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, ("document" === f.containment ? 0 : e(window).scrollLeft()) + e("document" === f.containment ? document : window).width() - this.helperProportions.width - this.margins.left, ("document" === f.containment ? 0 :
                e(window).scrollTop()) + (e("document" === f.containment ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
            if (/^(document|window|parent)$/.test(f.containment) || f.containment.constructor === Array) f.containment.constructor === Array && (this.containment = f.containment);
            else {
                var h = e(f.containment);
                if (a = h[0]) f = "hidden" !== e(a).css("overflow"), this.containment = [(parseInt(e(a).css("borderLeftWidth"), 10) || 0) + (parseInt(e(a).css("paddingLeft"), 10) || 0), (parseInt(e(a).css("borderTopWidth"),
                    10) || 0) + (parseInt(e(a).css("paddingTop"), 10) || 0), (f ? Math.max(a.scrollWidth, a.offsetWidth) : a.offsetWidth) - (parseInt(e(a).css("borderLeftWidth"), 10) || 0) - (parseInt(e(a).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (f ? Math.max(a.scrollHeight, a.offsetHeight) : a.offsetHeight) - (parseInt(e(a).css("borderTopWidth"), 10) || 0) - (parseInt(e(a).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relative_container = h
            }
        },
        _convertPositionTo: function(a, f) {
            f || (f = this.position);
            a = "absolute" === a ? 1 : -1;
            var h = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                g = /(html|body)/i.test(h[0].tagName);
            return {
                top: f.top + this.offset.relative.top * a + this.offset.parent.top * a - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : g ? 0 : h.scrollTop()) * a,
                left: f.left + this.offset.relative.left * a + this.offset.parent.left * a - ("fixed" === this.cssPosition ?
                    -this.scrollParent.scrollLeft() : g ? 0 : h.scrollLeft()) * a
            }
        },
        _generatePosition: function(a) {
            var f, h, g, l, n = this.options,
                p = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                r = /(html|body)/i.test(p[0].tagName),
                u = a.pageX,
                y = a.pageY;
            return this.originalPosition && (this.containment && (this.relative_container ? (h = this.relative_container.offset(), f = [this.containment[0] + h.left, this.containment[1] + h.top, this.containment[2] +
                h.left, this.containment[3] + h.top
            ]) : f = this.containment, a.pageX - this.offset.click.left < f[0] && (u = f[0] + this.offset.click.left), a.pageY - this.offset.click.top < f[1] && (y = f[1] + this.offset.click.top), a.pageX - this.offset.click.left > f[2] && (u = f[2] + this.offset.click.left), a.pageY - this.offset.click.top > f[3] && (y = f[3] + this.offset.click.top)), n.grid && (g = n.grid[1] ? this.originalPageY + Math.round((y - this.originalPageY) / n.grid[1]) * n.grid[1] : this.originalPageY, y = f ? g - this.offset.click.top >= f[1] || g - this.offset.click.top > f[3] ?
                g : g - this.offset.click.top >= f[1] ? g - n.grid[1] : g + n.grid[1] : g, l = n.grid[0] ? this.originalPageX + Math.round((u - this.originalPageX) / n.grid[0]) * n.grid[0] : this.originalPageX, u = f ? l - this.offset.click.left >= f[0] || l - this.offset.click.left > f[2] ? l : l - this.offset.click.left >= f[0] ? l - n.grid[0] : l + n.grid[0] : l)), {
                top: y - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : r ? 0 : p.scrollTop()),
                left: u - this.offset.click.left - this.offset.relative.left -
                    this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : r ? 0 : p.scrollLeft())
            }
        },
        _clear: function() {
            this.helper.removeClass("ui-draggable-dragging");
            this.helper[0] !== this.element[0] && !this.cancelHelperRemoval && this.helper.remove();
            this.helper = null;
            this.cancelHelperRemoval = !1
        },
        _trigger: function(a, f, h) {
            return h = h || this._uiHash(), e.ui.plugin.call(this, a, [f, h]), "drag" === a && (this.positionAbs = this._convertPositionTo("absolute")), e.Widget.prototype._trigger.call(this, a, f, h)
        },
        plugins: {},
        _uiHash: function() {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    });
    e.ui.plugin.add("draggable", "connectToSortable", {
        start: function(a, f) {
            var h = e(this).data("ui-draggable"),
                g = h.options,
                l = e.extend({}, f, {
                    item: h.element
                });
            h.sortables = [];
            e(g.connectToSortable).each(function() {
                var f = e.data(this, "ui-sortable");
                f && !f.options.disabled && (h.sortables.push({
                    instance: f,
                    shouldRevert: f.options.revert
                }), f.refreshPositions(), f._trigger("activate",
                    a, l))
            })
        },
        stop: function(a, f) {
            var h = e(this).data("ui-draggable"),
                g = e.extend({}, f, {
                    item: h.element
                });
            e.each(h.sortables, function() {
                this.instance.isOver ? (this.instance.isOver = 0, h.cancelHelperRemoval = !0, this.instance.cancelHelperRemoval = !1, this.shouldRevert && (this.instance.options.revert = !0), this.instance._mouseStop(a), this.instance.options.helper = this.instance.options._helper, "original" === h.options.helper && this.instance.currentItem.css({
                    top: "auto",
                    left: "auto"
                })) : (this.instance.cancelHelperRemoval = !1, this.instance._trigger("deactivate",
                    a, g))
            })
        },
        drag: function(a, f) {
            var h = e(this).data("ui-draggable"),
                g = this;
            e.each(h.sortables, function() {
                var k = !1,
                    n = this;
                this.instance.positionAbs = h.positionAbs;
                this.instance.helperProportions = h.helperProportions;
                this.instance.offset.click = h.offset.click;
                this.instance._intersectsWith(this.instance.containerCache) && (k = !0, e.each(h.sortables, function() {
                    return this.instance.positionAbs = h.positionAbs, this.instance.helperProportions = h.helperProportions, this.instance.offset.click = h.offset.click, this !== n && this.instance._intersectsWith(this.instance.containerCache) &&
                        e.ui.contains(n.instance.element[0], this.instance.element[0]) && (k = !1), k
                }));
                k ? (this.instance.isOver || (this.instance.isOver = 1, this.instance.currentItem = e(g).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", !0), this.instance.options._helper = this.instance.options.helper, this.instance.options.helper = function() {
                        return f.helper[0]
                    }, a.target = this.instance.currentItem[0], this.instance._mouseCapture(a, !0), this.instance._mouseStart(a, !0, !0), this.instance.offset.click.top = h.offset.click.top,
                    this.instance.offset.click.left = h.offset.click.left, this.instance.offset.parent.left -= h.offset.parent.left - this.instance.offset.parent.left, this.instance.offset.parent.top -= h.offset.parent.top - this.instance.offset.parent.top, h._trigger("toSortable", a), h.dropped = this.instance.element, h.currentItem = h.element, this.instance.fromOutside = h), this.instance.currentItem && this.instance._mouseDrag(a)) : this.instance.isOver && (this.instance.isOver = 0, this.instance.cancelHelperRemoval = !0, this.instance.options.revert = !1, this.instance._trigger("out", a, this.instance._uiHash(this.instance)), this.instance._mouseStop(a, !0), this.instance.options.helper = this.instance.options._helper, this.instance.currentItem.remove(), this.instance.placeholder && this.instance.placeholder.remove(), h._trigger("fromSortable", a), h.dropped = !1)
            })
        }
    });
    e.ui.plugin.add("draggable", "cursor", {
        start: function() {
            var a = e("body"),
                f = e(this).data("ui-draggable").options;
            a.css("cursor") && (f._cursor = a.css("cursor"));
            a.css("cursor", f.cursor)
        },
        stop: function() {
            var a =
                e(this).data("ui-draggable").options;
            a._cursor && e("body").css("cursor", a._cursor)
        }
    });
    e.ui.plugin.add("draggable", "opacity", {
        start: function(a, f) {
            a = e(f.helper);
            f = e(this).data("ui-draggable").options;
            a.css("opacity") && (f._opacity = a.css("opacity"));
            a.css("opacity", f.opacity)
        },
        stop: function(a, f) {
            a = e(this).data("ui-draggable").options;
            a._opacity && e(f.helper).css("opacity", a._opacity)
        }
    });
    e.ui.plugin.add("draggable", "scroll", {
        start: function() {
            var a = e(this).data("ui-draggable");
            a.scrollParent[0] !== document &&
                "HTML" !== a.scrollParent[0].tagName && (a.overflowOffset = a.scrollParent.offset())
        },
        drag: function(a) {
            var f = e(this).data("ui-draggable"),
                h = f.options,
                g = !1;
            f.scrollParent[0] !== document && "HTML" !== f.scrollParent[0].tagName ? (h.axis && "x" === h.axis || (f.overflowOffset.top + f.scrollParent[0].offsetHeight - a.pageY < h.scrollSensitivity ? f.scrollParent[0].scrollTop = g = f.scrollParent[0].scrollTop + h.scrollSpeed : a.pageY - f.overflowOffset.top < h.scrollSensitivity && (f.scrollParent[0].scrollTop = g = f.scrollParent[0].scrollTop - h.scrollSpeed)),
                h.axis && "y" === h.axis || (f.overflowOffset.left + f.scrollParent[0].offsetWidth - a.pageX < h.scrollSensitivity ? f.scrollParent[0].scrollLeft = g = f.scrollParent[0].scrollLeft + h.scrollSpeed : a.pageX - f.overflowOffset.left < h.scrollSensitivity && (f.scrollParent[0].scrollLeft = g = f.scrollParent[0].scrollLeft - h.scrollSpeed))) : (h.axis && "x" === h.axis || (a.pageY - e(document).scrollTop() < h.scrollSensitivity ? g = e(document).scrollTop(e(document).scrollTop() - h.scrollSpeed) : e(window).height() - (a.pageY - e(document).scrollTop()) < h.scrollSensitivity &&
                (g = e(document).scrollTop(e(document).scrollTop() + h.scrollSpeed))), h.axis && "y" === h.axis || (a.pageX - e(document).scrollLeft() < h.scrollSensitivity ? g = e(document).scrollLeft(e(document).scrollLeft() - h.scrollSpeed) : e(window).width() - (a.pageX - e(document).scrollLeft()) < h.scrollSensitivity && (g = e(document).scrollLeft(e(document).scrollLeft() + h.scrollSpeed))));
            !1 !== g && e.ui.ddmanager && !h.dropBehaviour && e.ui.ddmanager.prepareOffsets(f, a)
        }
    });
    e.ui.plugin.add("draggable", "snap", {
        start: function() {
            var a = e(this).data("ui-draggable"),
                f = a.options;
            a.snapElements = [];
            e(f.snap.constructor !== String ? f.snap.items || ":data(ui-draggable)" : f.snap).each(function() {
                var f = e(this),
                    g = f.offset();
                this !== a.element[0] && a.snapElements.push({
                    item: this,
                    width: f.outerWidth(),
                    height: f.outerHeight(),
                    top: g.top,
                    left: g.left
                })
            })
        },
        drag: function(a, f) {
            var h, g, l, n, p, r = e(this).data("ui-draggable"),
                u = r.options,
                y = u.snapTolerance,
                w = f.offset.left,
                C = w + r.helperProportions.width,
                D = f.offset.top,
                K = D + r.helperProportions.height;
            for (p = r.snapElements.length - 1; 0 <= p; p--) {
                var L =
                    r.snapElements[p].left;
                var F = L + r.snapElements[p].width;
                var U = r.snapElements[p].top;
                var B = U + r.snapElements[p].height;
                if (L - y < w && w < F + y && U - y < D && D < B + y || L - y < w && w < F + y && U - y < K && K < B + y || L - y < C && C < F + y && U - y < D && D < B + y || L - y < C && C < F + y && U - y < K && K < B + y) {
                    "inner" !== u.snapMode && (h = Math.abs(U - K) <= y, g = Math.abs(B - D) <= y, l = Math.abs(L - C) <= y, n = Math.abs(F - w) <= y, h && (f.position.top = r._convertPositionTo("relative", {
                        top: U - r.helperProportions.height,
                        left: 0
                    }).top - r.margins.top), g && (f.position.top = r._convertPositionTo("relative", {
                        top: B,
                        left: 0
                    }).top - r.margins.top), l && (f.position.left = r._convertPositionTo("relative", {
                        top: 0,
                        left: L - r.helperProportions.width
                    }).left - r.margins.left), n && (f.position.left = r._convertPositionTo("relative", {
                        top: 0,
                        left: F
                    }).left - r.margins.left));
                    var aa = h || g || l || n;
                    "outer" !== u.snapMode && (h = Math.abs(U - D) <= y, g = Math.abs(B - K) <= y, l = Math.abs(L - w) <= y, n = Math.abs(F - C) <= y, h && (f.position.top = r._convertPositionTo("relative", {
                        top: U,
                        left: 0
                    }).top - r.margins.top), g && (f.position.top = r._convertPositionTo("relative", {
                        top: B - r.helperProportions.height,
                        left: 0
                    }).top - r.margins.top), l && (f.position.left = r._convertPositionTo("relative", {
                        top: 0,
                        left: L
                    }).left - r.margins.left), n && (f.position.left = r._convertPositionTo("relative", {
                        top: 0,
                        left: F - r.helperProportions.width
                    }).left - r.margins.left));
                    !r.snapElements[p].snapping && (h || g || l || n || aa) && r.options.snap.snap && r.options.snap.snap.call(r.element, a, e.extend(r._uiHash(), {
                        snapItem: r.snapElements[p].item
                    }));
                    r.snapElements[p].snapping = h || g || l || n || aa
                } else r.snapElements[p].snapping && r.options.snap.release && r.options.snap.release.call(r.element,
                    a, e.extend(r._uiHash(), {
                        snapItem: r.snapElements[p].item
                    })), r.snapElements[p].snapping = !1
            }
        }
    });
    e.ui.plugin.add("draggable", "stack", {
        start: function() {
            var a = e(this).data("ui-draggable").options;
            a = e.makeArray(e(a.stack)).sort(function(a, f) {
                return (parseInt(e(a).css("zIndex"), 10) || 0) - (parseInt(e(f).css("zIndex"), 10) || 0)
            });
            if (a.length) {
                var f = parseInt(a[0].style.zIndex, 10) || 0;
                e(a).each(function(a) {
                    this.style.zIndex = f + a
                });
                this[0].style.zIndex = f + a.length
            }
        }
    });
    e.ui.plugin.add("draggable", "zIndex", {
        start: function(a,
            f) {
            a = e(f.helper);
            f = e(this).data("ui-draggable").options;
            a.css("zIndex") && (f._zIndex = a.css("zIndex"));
            a.css("zIndex", f.zIndex)
        },
        stop: function(a, f) {
            a = e(this).data("ui-draggable").options;
            a._zIndex && e(f.helper).css("zIndex", a._zIndex)
        }
    })
})(jQuery);
(function(e, g) {
    e.widget("ui.droppable", {
        version: "1.10.0",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            activeClass: !1,
            addClasses: !0,
            greedy: !1,
            hoverClass: !1,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function() {
            var a = this.options,
                f = a.accept;
            this.isover = !1;
            this.isout = !0;
            this.accept = e.isFunction(f) ? f : function(a) {
                return a.is(f)
            };
            this.proportions = {
                width: this.element[0].offsetWidth,
                height: this.element[0].offsetHeight
            };
            e.ui.ddmanager.droppables[a.scope] =
                e.ui.ddmanager.droppables[a.scope] || [];
            e.ui.ddmanager.droppables[a.scope].push(this);
            a.addClasses && this.element.addClass("ui-droppable")
        },
        _destroy: function() {
            for (var a = 0, f = e.ui.ddmanager.droppables[this.options.scope]; a < f.length; a++) f[a] === this && f.splice(a, 1);
            this.element.removeClass("ui-droppable ui-droppable-disabled")
        },
        _setOption: function(a, f) {
            "accept" === a && (this.accept = e.isFunction(f) ? f : function(a) {
                return a.is(f)
            });
            e.Widget.prototype._setOption.apply(this, arguments)
        },
        _activate: function(a) {
            var f =
                e.ui.ddmanager.current;
            this.options.activeClass && this.element.addClass(this.options.activeClass);
            f && this._trigger("activate", a, this.ui(f))
        },
        _deactivate: function(a) {
            var f = e.ui.ddmanager.current;
            this.options.activeClass && this.element.removeClass(this.options.activeClass);
            f && this._trigger("deactivate", a, this.ui(f))
        },
        _over: function(a) {
            var f = e.ui.ddmanager.current;
            f && (f.currentItem || f.element)[0] !== this.element[0] && this.accept.call(this.element[0], f.currentItem || f.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass),
                this._trigger("over", a, this.ui(f)))
        },
        _out: function(a) {
            var f = e.ui.ddmanager.current;
            f && (f.currentItem || f.element)[0] !== this.element[0] && this.accept.call(this.element[0], f.currentItem || f.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", a, this.ui(f)))
        },
        _drop: function(a, f) {
            var h = f || e.ui.ddmanager.current,
                g = !1;
            return h && (h.currentItem || h.element)[0] !== this.element[0] ? (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                var a =
                    e.data(this, "ui-droppable");
                if (a.options.greedy && !a.options.disabled && a.options.scope === h.options.scope && a.accept.call(a.element[0], h.currentItem || h.element) && e.ui.intersect(h, e.extend(a, {
                        offset: a.element.offset()
                    }), a.options.tolerance)) return g = !0, !1
            }), g ? !1 : this.accept.call(this.element[0], h.currentItem || h.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", a, this.ui(h)),
                this.element) : !1) : !1
        },
        ui: function(a) {
            return {
                draggable: a.currentItem || a.element,
                helper: a.helper,
                position: a.position,
                offset: a.positionAbs
            }
        }
    });
    e.ui.intersect = function(a, e, h) {
        if (!e.offset) return !1;
        var f, g, n = (a.positionAbs || a.position.absolute).left,
            p = n + a.helperProportions.width,
            r = (a.positionAbs || a.position.absolute).top,
            u = r + a.helperProportions.height,
            y = e.offset.left,
            w = y + e.proportions.width,
            C = e.offset.top,
            D = C + e.proportions.height;
        switch (h) {
            case "fit":
                return y <= n && p <= w && C <= r && u <= D;
            case "intersect":
                return y <
                    n + a.helperProportions.width / 2 && p - a.helperProportions.width / 2 < w && C < r + a.helperProportions.height / 2 && u - a.helperProportions.height / 2 < D;
            case "pointer":
                return f = (a.positionAbs || a.position.absolute).left + (a.clickOffset || a.offset.click).left, g = (a.positionAbs || a.position.absolute).top + (a.clickOffset || a.offset.click).top, g > C && g < C + e.proportions.height && f > y && f < y + e.proportions.width;
            case "touch":
                return (r >= C && r <= D || u >= C && u <= D || r < C && u > D) && (n >= y && n <= w || p >= y && p <= w || n < y && p > w);
            default:
                return !1
        }
    };
    e.ui.ddmanager = {
        current: null,
        droppables: {
            "default": []
        },
        prepareOffsets: function(a, f) {
            var h, g = e.ui.ddmanager.droppables[a.options.scope] || [],
                l = f ? f.type : null,
                n = (a.currentItem || a.element).find(":data(ui-droppable)").addBack();
            var p = 0;
            a: for (; p < g.length; p++)
                if (!(g[p].options.disabled || a && !g[p].accept.call(g[p].element[0], a.currentItem || a.element))) {
                    for (h = 0; h < n.length; h++)
                        if (n[h] === g[p].element[0]) {
                            g[p].proportions.height = 0;
                            continue a
                        } g[p].visible = "none" !== g[p].element.css("display");
                    g[p].visible && ("mousedown" === l && g[p]._activate.call(g[p],
                        f), g[p].offset = g[p].element.offset(), g[p].proportions = {
                        width: g[p].element[0].offsetWidth,
                        height: g[p].element[0].offsetHeight
                    })
                }
        },
        drop: function(a, f) {
            var h = !1;
            return e.each(e.ui.ddmanager.droppables[a.options.scope] || [], function() {
                this.options && (!this.options.disabled && this.visible && e.ui.intersect(a, this, this.options.tolerance) && (h = this._drop.call(this, f) || h), !this.options.disabled && this.visible && this.accept.call(this.element[0], a.currentItem || a.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this,
                    f)))
            }), h
        },
        dragStart: function(a, f) {
            a.element.parentsUntil("body").bind("scroll.droppable", function() {
                a.options.refreshPositions || e.ui.ddmanager.prepareOffsets(a, f)
            })
        },
        drag: function(a, f) {
            a.options.refreshPositions && e.ui.ddmanager.prepareOffsets(a, f);
            e.each(e.ui.ddmanager.droppables[a.options.scope] || [], function() {
                if (!this.options.disabled && !this.greedyChild && this.visible) {
                    var h, g, l, n = e.ui.intersect(a, this, this.options.tolerance);
                    if (n = !n && this.isover ? "isout" : n && !this.isover ? "isover" : null) this.options.greedy &&
                        (g = this.options.scope, l = this.element.parents(":data(ui-droppable)").filter(function() {
                            return e.data(this, "ui-droppable").options.scope === g
                        }), l.length && (h = e.data(l[0], "ui-droppable"), h.greedyChild = "isover" === n)), h && "isover" === n && (h.isover = !1, h.isout = !0, h._out.call(h, f)), this[n] = !0, this["isout" === n ? "isover" : "isout"] = !1, this["isover" === n ? "_over" : "_out"].call(this, f), h && "isout" === n && (h.isout = !1, h.isover = !0, h._over.call(h, f))
                }
            })
        },
        dragStop: function(a, f) {
            a.element.parentsUntil("body").unbind("scroll.droppable");
            a.options.refreshPositions || e.ui.ddmanager.prepareOffsets(a, f)
        }
    }
})(jQuery);
(function(e, g) {
    function a(a) {
        return parseInt(a, 10) || 0
    }

    function f(a) {
        return !isNaN(parseInt(a, 10))
    }
    e.widget("ui.resizable", e.ui.mouse, {
        version: "1.10.0",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _create: function() {
            var a, f = this,
                g = this.options;
            this.element.addClass("ui-resizable");
            e.extend(this, {
                _aspectRatio: !!g.aspectRatio,
                aspectRatio: g.aspectRatio,
                originalElement: this.element,
                _proportionallyResizeElements: [],
                _helper: g.helper || g.ghost || g.animate ? g.helper || "ui-resizable-helper" : null
            });
            this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i) && (this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                    position: this.element.css("position"),
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight(),
                    top: this.element.css("top"),
                    left: this.element.css("left")
                })), this.element = this.element.parent().data("ui-resizable", this.element.data("ui-resizable")), this.elementIsWrapper = !0, this.element.css({
                    marginLeft: this.originalElement.css("marginLeft"),
                    marginTop: this.originalElement.css("marginTop"),
                    marginRight: this.originalElement.css("marginRight"),
                    marginBottom: this.originalElement.css("marginBottom")
                }), this.originalElement.css({
                    marginLeft: 0,
                    marginTop: 0,
                    marginRight: 0,
                    marginBottom: 0
                }), this.originalResizeStyle = this.originalElement.css("resize"),
                this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({
                    position: "static",
                    zoom: 1,
                    display: "block"
                })), this.originalElement.css({
                    margin: this.originalElement.css("margin")
                }), this._proportionallyResize());
            this.handles = g.handles || (e(".ui-resizable-handle", this.element).length ? {
                n: ".ui-resizable-n",
                e: ".ui-resizable-e",
                s: ".ui-resizable-s",
                w: ".ui-resizable-w",
                se: ".ui-resizable-se",
                sw: ".ui-resizable-sw",
                ne: ".ui-resizable-ne",
                nw: ".ui-resizable-nw"
            } : "e,s,se");
            if (this.handles.constructor === String) {
                "all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw");
                var n = this.handles.split(",");
                this.handles = {};
                for (a = 0; a < n.length; a++) {
                    var p = e.trim(n[a]);
                    var r = "ui-resizable-" + p;
                    var u = e("<div class='ui-resizable-handle " + r + "'></div>");
                    u.css({
                        zIndex: g.zIndex
                    });
                    "se" === p && u.addClass("ui-icon ui-icon-gripsmall-diagonal-se");
                    this.handles[p] = ".ui-resizable-" + p;
                    this.element.append(u)
                }
            }
            this._renderAxis = function(a) {
                var f, h, g, k;
                a = a || this.element;
                for (f in this.handles) this.handles[f].constructor ===
                    String && (this.handles[f] = e(this.handles[f], this.element).show()), this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i) && (h = e(this.handles[f], this.element), k = /sw|ne|nw|se|n|s/.test(f) ? h.outerHeight() : h.outerWidth(), g = ["padding", /ne|nw|n/.test(f) ? "Top" : /se|sw|s/.test(f) ? "Bottom" : /^e$/.test(f) ? "Right" : "Left"].join(""), a.css(g, k), this._proportionallyResize()), e(this.handles[f])
            };
            this._renderAxis(this.element);
            this._handles = e(".ui-resizable-handle", this.element).disableSelection();
            this._handles.mouseover(function() {
                f.resizing || (this.className && (u = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), f.axis = u && u[1] ? u[1] : "se")
            });
            g.autoHide && (this._handles.hide(), e(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                g.disabled || (e(this).removeClass("ui-resizable-autohide"), f._handles.show())
            }).mouseleave(function() {
                g.disabled || f.resizing || (e(this).addClass("ui-resizable-autohide"), f._handles.hide())
            }));
            this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy();
            var a, f = function(a) {
                e(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
            };
            return this.elementIsWrapper && (f(this.element), a = this.element, this.originalElement.css({
                    position: a.css("position"),
                    width: a.outerWidth(),
                    height: a.outerHeight(),
                    top: a.css("top"),
                    left: a.css("left")
                }).insertAfter(a), a.remove()), this.originalElement.css("resize", this.originalResizeStyle), f(this.originalElement),
                this
        },
        _mouseCapture: function(a) {
            var f, h = !1;
            for (f in this.handles) {
                var g = e(this.handles[f])[0];
                if (g === a.target || e.contains(g, a.target)) h = !0
            }
            return !this.options.disabled && h
        },
        _mouseStart: function(f) {
            var h, g, n, p = this.options,
                r = this.element.position(),
                u = this.element;
            return this.resizing = !0, /absolute/.test(u.css("position")) ? u.css({
                    position: "absolute",
                    top: u.css("top"),
                    left: u.css("left")
                }) : u.is(".ui-draggable") && u.css({
                    position: "absolute",
                    top: r.top,
                    left: r.left
                }), this._renderProxy(), h = a(this.helper.css("left")),
                g = a(this.helper.css("top")), p.containment && (h += e(p.containment).scrollLeft() || 0, g += e(p.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = {
                    left: h,
                    top: g
                }, this.size = this._helper ? {
                    width: u.outerWidth(),
                    height: u.outerHeight()
                } : {
                    width: u.width(),
                    height: u.height()
                }, this.originalSize = this._helper ? {
                    width: u.outerWidth(),
                    height: u.outerHeight()
                } : {
                    width: u.width(),
                    height: u.height()
                }, this.originalPosition = {
                    left: h,
                    top: g
                }, this.sizeDiff = {
                    width: u.outerWidth() - u.width(),
                    height: u.outerHeight() -
                        u.height()
                }, this.originalMousePosition = {
                    left: f.pageX,
                    top: f.pageY
                }, this.aspectRatio = "number" == typeof p.aspectRatio ? p.aspectRatio : this.originalSize.width / this.originalSize.height || 1, n = e(".ui-resizable-" + this.axis).css("cursor"), e("body").css("cursor", "auto" === n ? this.axis + "-resize" : n), u.addClass("ui-resizable-resizing"), this._propagate("start", f), !0
        },
        _mouseDrag: function(a) {
            var f = this.helper,
                h = {};
            var g = this.originalMousePosition;
            var p = this.position.top,
                r = this.position.left,
                u = this.size.width,
                y = this.size.height,
                w = this._change[this.axis];
            if (!w) return !1;
            g = w.apply(this, [a, a.pageX - g.left || 0, a.pageY - g.top || 0]);
            this._updateVirtualBoundaries(a.shiftKey);
            if (this._aspectRatio || a.shiftKey) g = this._updateRatio(g, a);
            return g = this._respectSize(g, a), this._updateCache(g), this._propagate("resize", a), this.position.top !== p && (h.top = this.position.top + "px"), this.position.left !== r && (h.left = this.position.left + "px"), this.size.width !== u && (h.width = this.size.width + "px"), this.size.height !== y && (h.height = this.size.height + "px"), f.css(h),
                !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), e.isEmptyObject(h) || this._trigger("resize", a, this.ui()), !1
        },
        _mouseStop: function(a) {
            this.resizing = !1;
            var f, h, g, p, r, u, y, w = this.options;
            return this._helper && (f = this._proportionallyResizeElements, h = f.length && /textarea/i.test(f[0].nodeName), g = h && e.ui.hasScroll(f[0], "left") ? 0 : this.sizeDiff.height, p = h ? 0 : this.sizeDiff.width, r = {
                width: this.helper.width() - p,
                height: this.helper.height() - g
            }, u = parseInt(this.element.css("left"),
                10) + (this.position.left - this.originalPosition.left) || null, y = parseInt(this.element.css("top"), 10) + (this.position.top - this.originalPosition.top) || null, w.animate || this.element.css(e.extend(r, {
                top: y,
                left: u
            })), this.helper.height(this.size.height), this.helper.width(this.size.width), this._helper && !w.animate && this._proportionallyResize()), e("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", a), this._helper && this.helper.remove(), !1
        },
        _updateVirtualBoundaries: function(a) {
            var e =
                this.options;
            e = {
                minWidth: f(e.minWidth) ? e.minWidth : 0,
                maxWidth: f(e.maxWidth) ? e.maxWidth : Infinity,
                minHeight: f(e.minHeight) ? e.minHeight : 0,
                maxHeight: f(e.maxHeight) ? e.maxHeight : Infinity
            };
            if (this._aspectRatio || a) {
                a = e.minHeight * this.aspectRatio;
                var h = e.minWidth / this.aspectRatio;
                var g = e.maxHeight * this.aspectRatio;
                var p = e.maxWidth / this.aspectRatio;
                a > e.minWidth && (e.minWidth = a);
                h > e.minHeight && (e.minHeight = h);
                g < e.maxWidth && (e.maxWidth = g);
                p < e.maxHeight && (e.maxHeight = p)
            }
            this._vBoundaries = e
        },
        _updateCache: function(a) {
            this.offset =
                this.helper.offset();
            f(a.left) && (this.position.left = a.left);
            f(a.top) && (this.position.top = a.top);
            f(a.height) && (this.size.height = a.height);
            f(a.width) && (this.size.width = a.width)
        },
        _updateRatio: function(a) {
            var e = this.position,
                h = this.size,
                g = this.axis;
            return f(a.height) ? a.width = a.height * this.aspectRatio : f(a.width) && (a.height = a.width / this.aspectRatio), "sw" === g && (a.left = e.left + (h.width - a.width), a.top = null), "nw" === g && (a.top = e.top + (h.height - a.height), a.left = e.left + (h.width - a.width)), a
        },
        _respectSize: function(a) {
            var e =
                this._vBoundaries,
                h = this.axis,
                g = f(a.width) && e.maxWidth && e.maxWidth < a.width,
                p = f(a.height) && e.maxHeight && e.maxHeight < a.height,
                r = f(a.width) && e.minWidth && e.minWidth > a.width,
                u = f(a.height) && e.minHeight && e.minHeight > a.height,
                y = this.originalPosition.left + this.originalSize.width,
                w = this.position.top + this.size.height,
                C = /sw|nw|w/.test(h);
            h = /nw|ne|n/.test(h);
            return r && (a.width = e.minWidth), u && (a.height = e.minHeight), g && (a.width = e.maxWidth), p && (a.height = e.maxHeight), r && C && (a.left = y - e.minWidth), g && C && (a.left = y - e.maxWidth),
                u && h && (a.top = w - e.minHeight), p && h && (a.top = w - e.maxHeight), a.width || a.height || a.left || !a.top ? !a.width && !a.height && !a.top && a.left && (a.left = null) : a.top = null, a
        },
        _proportionallyResize: function() {
            if (this._proportionallyResizeElements.length) {
                var a, e, f = this.helper || this.element;
                for (a = 0; a < this._proportionallyResizeElements.length; a++) {
                    var g = this._proportionallyResizeElements[a];
                    if (!this.borderDif) {
                        this.borderDif = [];
                        var p = [g.css("borderTopWidth"), g.css("borderRightWidth"), g.css("borderBottomWidth"), g.css("borderLeftWidth")];
                        var r = [g.css("paddingTop"), g.css("paddingRight"), g.css("paddingBottom"), g.css("paddingLeft")];
                        for (e = 0; e < p.length; e++) this.borderDif[e] = (parseInt(p[e], 10) || 0) + (parseInt(r[e], 10) || 0)
                    }
                    g.css({
                        height: f.height() - this.borderDif[0] - this.borderDif[2] || 0,
                        width: f.width() - this.borderDif[1] - this.borderDif[3] || 0
                    })
                }
            }
        },
        _renderProxy: function() {
            var a = this.options;
            this.elementOffset = this.element.offset();
            this._helper ? (this.helper = this.helper || e("<div style='overflow:hidden;'></div>"), this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() -
                    1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++a.zIndex
            }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function(a, e) {
                return {
                    width: this.originalSize.width + e
                }
            },
            w: function(a, e) {
                return {
                    left: this.originalPosition.left + e,
                    width: this.originalSize.width - e
                }
            },
            n: function(a, e, f) {
                return {
                    top: this.originalPosition.top + f,
                    height: this.originalSize.height - f
                }
            },
            s: function(a, e, f) {
                return {
                    height: this.originalSize.height +
                        f
                }
            },
            se: function(a, f, g) {
                return e.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [a, f, g]))
            },
            sw: function(a, f, g) {
                return e.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [a, f, g]))
            },
            ne: function(a, f, g) {
                return e.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [a, f, g]))
            },
            nw: function(a, f, g) {
                return e.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [a, f, g]))
            }
        },
        _propagate: function(a, f) {
            e.ui.plugin.call(this, a, [f, this.ui()]);
            "resize" !== a && this._trigger(a, f, this.ui())
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    });
    e.ui.plugin.add("resizable", "animate", {
        stop: function(a) {
            var f = e(this).data("ui-resizable"),
                h = f.options,
                g = f._proportionallyResizeElements,
                p = g.length && /textarea/i.test(g[0].nodeName),
                r = p && e.ui.hasScroll(g[0], "left") ? 0 : f.sizeDiff.height;
            p = {
                width: f.size.width - (p ? 0 : f.sizeDiff.width),
                height: f.size.height - r
            };
            r = parseInt(f.element.css("left"), 10) + (f.position.left - f.originalPosition.left) || null;
            var u = parseInt(f.element.css("top"), 10) + (f.position.top - f.originalPosition.top) || null;
            f.element.animate(e.extend(p, u && r ? {
                top: u,
                left: r
            } : {}), {
                duration: h.animateDuration,
                easing: h.animateEasing,
                step: function() {
                    var h = {
                        width: parseInt(f.element.css("width"), 10),
                        height: parseInt(f.element.css("height"), 10),
                        top: parseInt(f.element.css("top"), 10),
                        left: parseInt(f.element.css("left"),
                            10)
                    };
                    g && g.length && e(g[0]).css({
                        width: h.width,
                        height: h.height
                    });
                    f._updateCache(h);
                    f._propagate("resize", a)
                }
            })
        }
    });
    e.ui.plugin.add("resizable", "containment", {
        start: function() {
            var f, g, l, n, p, r, u, y = e(this).data("ui-resizable"),
                w = y.element,
                C = y.options.containment;
            if (w = C instanceof e ? C.get(0) : /parent/.test(C) ? w.parent().get(0) : C) y.containerElement = e(w), /document/.test(C) || C === document ? (y.containerOffset = {
                left: 0,
                top: 0
            }, y.containerPosition = {
                left: 0,
                top: 0
            }, y.parentData = {
                element: e(document),
                left: 0,
                top: 0,
                width: e(document).width(),
                height: e(document).height() || document.body.parentNode.scrollHeight
            }) : (f = e(w), g = [], e(["Top", "Right", "Left", "Bottom"]).each(function(e, h) {
                g[e] = a(f.css("padding" + h))
            }), y.containerOffset = f.offset(), y.containerPosition = f.position(), y.containerSize = {
                height: f.innerHeight() - g[3],
                width: f.innerWidth() - g[1]
            }, l = y.containerOffset, n = y.containerSize.height, p = y.containerSize.width, r = e.ui.hasScroll(w, "left") ? w.scrollWidth : p, u = e.ui.hasScroll(w) ? w.scrollHeight : n, y.parentData = {
                element: w,
                left: l.left,
                top: l.top,
                width: r,
                height: u
            })
        },
        resize: function(a) {
            var f = e(this).data("ui-resizable");
            var h = f.options;
            var g = f.containerOffset;
            var p = f.position;
            a = f._aspectRatio || a.shiftKey;
            var r = {
                top: 0,
                left: 0
            };
            var u = f.containerElement;
            u[0] !== document && /static/.test(u.css("position")) && (r = g);
            p.left < (f._helper ? g.left : 0) && (f.size.width += f._helper ? f.position.left - g.left : f.position.left - r.left, a && (f.size.height = f.size.width / f.aspectRatio), f.position.left = h.helper ? g.left : 0);
            p.top < (f._helper ? g.top : 0) && (f.size.height += f._helper ? f.position.top -
                g.top : f.position.top, a && (f.size.width = f.size.height * f.aspectRatio), f.position.top = f._helper ? g.top : 0);
            f.offset.left = f.parentData.left + f.position.left;
            f.offset.top = f.parentData.top + f.position.top;
            h = Math.abs(f.offset.left - r.left + f.sizeDiff.width);
            g = Math.abs((f._helper ? f.offset.top - r.top : f.offset.top - g.top) + f.sizeDiff.height);
            p = f.containerElement.get(0) === f.element.parent().get(0);
            r = /relative|absolute/.test(f.containerElement.css("position"));
            p && r && (h -= f.parentData.left);
            h + f.size.width >= f.parentData.width &&
                (f.size.width = f.parentData.width - h, a && (f.size.height = f.size.width / f.aspectRatio));
            g + f.size.height >= f.parentData.height && (f.size.height = f.parentData.height - g, a && (f.size.width = f.size.height * f.aspectRatio))
        },
        stop: function() {
            var a = e(this).data("ui-resizable"),
                f = a.options,
                g = a.containerOffset,
                n = a.containerPosition,
                p = a.containerElement,
                r = e(a.helper),
                u = r.offset(),
                y = r.outerWidth() - a.sizeDiff.width;
            r = r.outerHeight() - a.sizeDiff.height;
            a._helper && !f.animate && /relative/.test(p.css("position")) && e(this).css({
                left: u.left -
                    n.left - g.left,
                width: y,
                height: r
            });
            a._helper && !f.animate && /static/.test(p.css("position")) && e(this).css({
                left: u.left - n.left - g.left,
                width: y,
                height: r
            })
        }
    });
    e.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
            var a = e(this).data("ui-resizable").options,
                f = function(a) {
                    e(a).each(function() {
                        var a = e(this);
                        a.data("ui-resizable-alsoresize", {
                            width: parseInt(a.width(), 10),
                            height: parseInt(a.height(), 10),
                            left: parseInt(a.css("left"), 10),
                            top: parseInt(a.css("top"), 10)
                        })
                    })
                };
            "object" != typeof a.alsoResize || a.alsoResize.parentNode ?
                f(a.alsoResize) : a.alsoResize.length ? (a.alsoResize = a.alsoResize[0], f(a.alsoResize)) : e.each(a.alsoResize, function(a) {
                    f(a)
                })
        },
        resize: function(a, f) {
            a = e(this).data("ui-resizable");
            var h = a.options,
                g = a.originalSize,
                k = a.originalPosition,
                r = {
                    height: a.size.height - g.height || 0,
                    width: a.size.width - g.width || 0,
                    top: a.position.top - k.top || 0,
                    left: a.position.left - k.left || 0
                },
                u = function(a, h) {
                    e(a).each(function() {
                        var a = e(this),
                            g = e(this).data("ui-resizable-alsoresize"),
                            k = {},
                            l = h && h.length ? h : a.parents(f.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                        e.each(l, function(a, e) {
                            (a = (g[e] || 0) + (r[e] || 0)) && 0 <= a && (k[e] = a || null)
                        });
                        a.css(k)
                    })
                };
            "object" != typeof h.alsoResize || h.alsoResize.nodeType ? u(h.alsoResize) : e.each(h.alsoResize, function(a, e) {
                u(a, e)
            })
        },
        stop: function() {
            e(this).removeData("resizable-alsoresize")
        }
    });
    e.ui.plugin.add("resizable", "ghost", {
        start: function() {
            var a = e(this).data("ui-resizable"),
                f = a.options,
                g = a.size;
            a.ghost = a.originalElement.clone();
            a.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: g.height,
                width: g.width,
                margin: 0,
                left: 0,
                top: 0
            }).addClass("ui-resizable-ghost").addClass("string" == typeof f.ghost ? f.ghost : "");
            a.ghost.appendTo(a.helper)
        },
        resize: function() {
            var a = e(this).data("ui-resizable");
            a.ghost && a.ghost.css({
                position: "relative",
                height: a.size.height,
                width: a.size.width
            })
        },
        stop: function() {
            var a = e(this).data("ui-resizable");
            a.ghost && a.helper && a.helper.get(0).removeChild(a.ghost.get(0))
        }
    });
    e.ui.plugin.add("resizable", "grid", {
        resize: function() {
            var a = e(this).data("ui-resizable"),
                f = a.options,
                g = a.size,
                n = a.originalSize,
                p = a.originalPosition,
                r = a.axis,
                u = "number" == typeof f.grid ? [f.grid, f.grid] : f.grid,
                y = u[0] || 1,
                w = u[1] || 1,
                C = Math.round((g.width - n.width) / y) * y;
            g = Math.round((g.height - n.height) / w) * w;
            var D = n.width + C;
            n = n.height + g;
            var K = f.maxWidth && f.maxWidth < D,
                L = f.maxHeight && f.maxHeight < n,
                F = f.minWidth && f.minWidth > D,
                U = f.minHeight && f.minHeight > n;
            f.grid = u;
            F && (D += y);
            U && (n += w);
            K && (D -= y);
            L && (n -= w);
            /^(se|s|e)$/.test(r) ? (a.size.width = D, a.size.height = n) : /^(ne)$/.test(r) ? (a.size.width = D, a.size.height =
                n, a.position.top = p.top - g) : /^(sw)$/.test(r) ? (a.size.width = D, a.size.height = n, a.position.left = p.left - C) : (a.size.width = D, a.size.height = n, a.position.top = p.top - g, a.position.left = p.left - C)
        }
    })
})(jQuery);
(function(e, g) {
    e.widget("ui.selectable", e.ui.mouse, {
        version: "1.10.0",
        options: {
            appendTo: "body",
            autoRefresh: !0,
            distance: 0,
            filter: "*",
            tolerance: "touch",
            selected: null,
            selecting: null,
            start: null,
            stop: null,
            unselected: null,
            unselecting: null
        },
        _create: function() {
            var a, f = this;
            this.element.addClass("ui-selectable");
            this.dragged = !1;
            this.refresh = function() {
                a = e(f.options.filter, f.element[0]);
                a.addClass("ui-selectee");
                a.each(function() {
                    var a = e(this),
                        f = a.offset();
                    e.data(this, "selectable-item", {
                        element: this,
                        $element: a,
                        left: f.left,
                        top: f.top,
                        right: f.left + a.outerWidth(),
                        bottom: f.top + a.outerHeight(),
                        startselected: !1,
                        selected: a.hasClass("ui-selected"),
                        selecting: a.hasClass("ui-selecting"),
                        unselecting: a.hasClass("ui-unselecting")
                    })
                })
            };
            this.refresh();
            this.selectees = a.addClass("ui-selectee");
            this._mouseInit();
            this.helper = e("<div class='ui-selectable-helper'></div>")
        },
        _destroy: function() {
            this.selectees.removeClass("ui-selectee").removeData("selectable-item");
            this.element.removeClass("ui-selectable ui-selectable-disabled");
            this._mouseDestroy()
        },
        _mouseStart: function(a) {
            var f = this,
                g = this.options;
            this.opos = [a.pageX, a.pageY];
            this.options.disabled || (this.selectees = e(g.filter, this.element[0]), this._trigger("start", a), e(g.appendTo).append(this.helper), this.helper.css({
                left: a.pageX,
                top: a.pageY,
                width: 0,
                height: 0
            }), g.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function() {
                var g = e.data(this, "selectable-item");
                g.startselected = !0;
                a.metaKey || a.ctrlKey || (g.$element.removeClass("ui-selected"), g.selected = !1,
                    g.$element.addClass("ui-unselecting"), g.unselecting = !0, f._trigger("unselecting", a, {
                        unselecting: g.element
                    }))
            }), e(a.target).parents().addBack().each(function() {
                var g, h = e.data(this, "selectable-item");
                if (h) return g = !a.metaKey && !a.ctrlKey || !h.$element.hasClass("ui-selected"), h.$element.removeClass(g ? "ui-unselecting" : "ui-selected").addClass(g ? "ui-selecting" : "ui-unselecting"), h.unselecting = !g, h.selecting = g, h.selected = g, g ? f._trigger("selecting", a, {
                        selecting: h.element
                    }) : f._trigger("unselecting", a, {
                        unselecting: h.element
                    }),
                    !1
            }))
        },
        _mouseDrag: function(a) {
            this.dragged = !0;
            if (!this.options.disabled) {
                var f, g = this,
                    k = this.options,
                    l = this.opos[0],
                    n = this.opos[1],
                    p = a.pageX,
                    r = a.pageY;
                return l > p && (f = p, p = l, l = f), n > r && (f = r, r = n, n = f), this.helper.css({
                    left: l,
                    top: n,
                    width: p - l,
                    height: r - n
                }), this.selectees.each(function() {
                    var f = e.data(this, "selectable-item"),
                        h = !1;
                    f && f.element !== g.element[0] && ("touch" === k.tolerance ? h = !(f.left > p || f.right < l || f.top > r || f.bottom < n) : "fit" === k.tolerance && (h = f.left > l && f.right < p && f.top > n && f.bottom < r), h ? (f.selected &&
                        (f.$element.removeClass("ui-selected"), f.selected = !1), f.unselecting && (f.$element.removeClass("ui-unselecting"), f.unselecting = !1), f.selecting || (f.$element.addClass("ui-selecting"), f.selecting = !0, g._trigger("selecting", a, {
                            selecting: f.element
                        }))) : (f.selecting && ((a.metaKey || a.ctrlKey) && f.startselected ? (f.$element.removeClass("ui-selecting"), f.selecting = !1, f.$element.addClass("ui-selected"), f.selected = !0) : (f.$element.removeClass("ui-selecting"), f.selecting = !1, f.startselected && (f.$element.addClass("ui-unselecting"),
                        f.unselecting = !0), g._trigger("unselecting", a, {
                        unselecting: f.element
                    }))), f.selected && !a.metaKey && !a.ctrlKey && !f.startselected && (f.$element.removeClass("ui-selected"), f.selected = !1, f.$element.addClass("ui-unselecting"), f.unselecting = !0, g._trigger("unselecting", a, {
                        unselecting: f.element
                    }))))
                }), !1
            }
        },
        _mouseStop: function(a) {
            var f = this;
            return this.dragged = !1, e(".ui-unselecting", this.element[0]).each(function() {
                var g = e.data(this, "selectable-item");
                g.$element.removeClass("ui-unselecting");
                g.unselecting = !1;
                g.startselected = !1;
                f._trigger("unselected", a, {
                    unselected: g.element
                })
            }), e(".ui-selecting", this.element[0]).each(function() {
                var g = e.data(this, "selectable-item");
                g.$element.removeClass("ui-selecting").addClass("ui-selected");
                g.selecting = !1;
                g.selected = !0;
                g.startselected = !0;
                f._trigger("selected", a, {
                    selected: g.element
                })
            }), this._trigger("stop", a), this.helper.remove(), !1
        }
    })
})(jQuery);
(function(e, g) {
    var a, f, h, k, l = function() {
            var a = e(this).find(":ui-button");
            setTimeout(function() {
                a.button("refresh")
            }, 1)
        },
        n = function(a) {
            var f = a.name,
                g = a.form,
                h = e([]);
            return f && (f = f.replace(/'/g, "\\'"), g ? h = e(g).find("[name='" + f + "']") : h = e("[name='" + f + "']", a.ownerDocument).filter(function() {
                return !this.form
            })), h
        };
    e.widget("ui.button", {
        version: "1.10.0",
        defaultElement: "<button>",
        options: {
            disabled: null,
            text: !0,
            label: null,
            icons: {
                primary: null,
                secondary: null
            }
        },
        _create: function() {
            this.element.closest("form").unbind("reset" +
                this.eventNamespace).bind("reset" + this.eventNamespace, l);
            "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled);
            this._determineButtonType();
            this.hasTitle = !!this.buttonElement.attr("title");
            var g = this,
                r = this.options,
                u = "checkbox" === this.type || "radio" === this.type,
                y = u ? "" : "ui-state-active";
            null === r.label && (r.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html());
            this._hoverable(this.buttonElement);
            this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role", "button").bind("mouseenter" + this.eventNamespace, function() {
                r.disabled || this === a && e(this).addClass("ui-state-active")
            }).bind("mouseleave" + this.eventNamespace, function() {
                r.disabled || e(this).removeClass(y)
            }).bind("click" + this.eventNamespace, function(a) {
                r.disabled && (a.preventDefault(), a.stopImmediatePropagation())
            });
            this.element.bind("focus" + this.eventNamespace, function() {
                g.buttonElement.addClass("ui-state-focus")
            }).bind("blur" +
                this.eventNamespace,
                function() {
                    g.buttonElement.removeClass("ui-state-focus")
                });
            u && (this.element.bind("change" + this.eventNamespace, function() {
                k || g.refresh()
            }), this.buttonElement.bind("mousedown" + this.eventNamespace, function(a) {
                r.disabled || (k = !1, f = a.pageX, h = a.pageY)
            }).bind("mouseup" + this.eventNamespace, function(a) {
                r.disabled || f === a.pageX && h === a.pageY || (k = !0)
            }));
            "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                if (r.disabled || k) return !1
            }) : "radio" === this.type ? this.buttonElement.bind("click" +
                this.eventNamespace,
                function() {
                    if (r.disabled || k) return !1;
                    e(this).addClass("ui-state-active");
                    g.buttonElement.attr("aria-pressed", "true");
                    var a = g.element[0];
                    n(a).not(a).map(function() {
                        return e(this).button("widget")[0]
                    }).removeClass("ui-state-active").attr("aria-pressed", "false")
                }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function() {
                if (r.disabled) return !1;
                e(this).addClass("ui-state-active");
                a = this;
                g.document.one("mouseup", function() {
                    a = null
                })
            }).bind("mouseup" + this.eventNamespace, function() {
                if (r.disabled) return !1;
                e(this).removeClass("ui-state-active")
            }).bind("keydown" + this.eventNamespace, function(a) {
                if (r.disabled) return !1;
                a.keyCode !== e.ui.keyCode.SPACE && a.keyCode !== e.ui.keyCode.ENTER || e(this).addClass("ui-state-active")
            }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
                e(this).removeClass("ui-state-active")
            }), this.buttonElement.is("a") && this.buttonElement.keyup(function(a) {
                a.keyCode === e.ui.keyCode.SPACE && e(this).click()
            }));
            this._setOption("disabled", r.disabled);
            this._resetButton()
        },
        _determineButtonType: function() {
            var a, e, f;
            this.element.is("[type=checkbox]") ? this.type = "checkbox" : this.element.is("[type=radio]") ? this.type = "radio" : this.element.is("input") ? this.type = "input" : this.type = "button";
            "checkbox" === this.type || "radio" === this.type ? (a = this.element.parents().last(), e = "label[for='" + this.element.attr("id") + "']", this.buttonElement = a.find(e), this.buttonElement.length || (a = a.length ? a.siblings() : this.element.siblings(), this.buttonElement = a.filter(e), this.buttonElement.length || (this.buttonElement =
                a.find(e))), this.element.addClass("ui-helper-hidden-accessible"), f = this.element.is(":checked"), f && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", f)) : this.buttonElement = this.element
        },
        widget: function() {
            return this.buttonElement
        },
        _destroy: function() {
            this.element.removeClass("ui-helper-hidden-accessible");
            this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
            this.hasTitle || this.buttonElement.removeAttr("title")
        },
        _setOption: function(a, e) {
            this._super(a, e);
            "disabled" === a ? e ? this.element.prop("disabled", !0) : this.element.prop("disabled", !1) : this._resetButton()
        },
        refresh: function() {
            var a = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
            a !== this.options.disabled && this._setOption("disabled", a);
            "radio" === this.type ? n(this.element[0]).each(function() {
                e(this).is(":checked") ? e(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
                    "true") : e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
        },
        _resetButton: function() {
            if ("input" === this.type) this.options.label && this.element.val(this.options.label);
            else {
                var a = this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
                    f = e("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),
                    g = this.options.icons,
                    h = g.primary && g.secondary,
                    k = [];
                g.primary || g.secondary ? (this.options.text && k.push("ui-button-text-icon" + (h ? "s" : g.primary ? "-primary" : "-secondary")), g.primary && a.prepend("<span class='ui-button-icon-primary ui-icon " + g.primary + "'></span>"), g.secondary && a.append("<span class='ui-button-icon-secondary ui-icon " + g.secondary + "'></span>"), this.options.text || (k.push(h ? "ui-button-icons-only" :
                    "ui-button-icon-only"), this.hasTitle || a.attr("title", e.trim(f)))) : k.push("ui-button-text-only");
                a.addClass(k.join(" "))
            }
        }
    });
    e.widget("ui.buttonset", {
        version: "1.10.0",
        options: {
            items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
        },
        _create: function() {
            this.element.addClass("ui-buttonset")
        },
        _init: function() {
            this.refresh()
        },
        _setOption: function(a, e) {
            "disabled" === a && this.buttons.button("option", a, e);
            this._super(a, e)
        },
        refresh: function() {
            var a =
                "rtl" === this.element.css("direction");
            this.buttons = this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function() {
                return e(this).button("widget")[0]
            }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(a ? "ui-corner-left" : "ui-corner-right").end().end()
        },
        _destroy: function() {
            this.element.removeClass("ui-buttonset");
            this.buttons.map(function() {
                return e(this).button("widget")[0]
            }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
        }
    })
})(jQuery);
(function(e, g) {
    var a = {
            buttons: !0,
            height: !0,
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0,
            width: !0
        },
        f = {
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0
        };
    e.widget("ui.dialog", {
        version: "1.10.0",
        options: {
            appendTo: "body",
            autoOpen: !0,
            buttons: [],
            closeOnEscape: !0,
            closeText: "close",
            dialogClass: "",
            draggable: !0,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: !1,
            position: {
                my: "center",
                at: "center",
                of: window,
                collision: "fit",
                using: function(a) {
                    var f = e(this).css(a).offset().top;
                    0 > f && e(this).css("top", a.top - f)
                }
            },
            resizable: !0,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        _create: function() {
            this.originalCss = {
                display: this.element[0].style.display,
                width: this.element[0].style.width,
                minHeight: this.element[0].style.minHeight,
                maxHeight: this.element[0].style.maxHeight,
                height: this.element[0].style.height
            };
            this.originalPosition = {
                parent: this.element.parent(),
                index: this.element.parent().children().index(this.element)
            };
            this.originalTitle = this.element.attr("title");
            this.options.title = this.options.title || this.originalTitle;
            this._createWrapper();
            this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);
            this._createTitlebar();
            this._createButtonPane();
            this.options.draggable && e.fn.draggable && this._makeDraggable();
            this.options.resizable && e.fn.resizable && this._makeResizable();
            this._isOpen = !1
        },
        _init: function() {
            this.options.autoOpen && this.open()
        },
        _appendTo: function() {
            var a =
                this.options.appendTo;
            return a && (a.jquery || a.nodeType) ? e(a) : this.document.find(a || "body").eq(0)
        },
        _destroy: function() {
            var a = this.originalPosition;
            this._destroyOverlay();
            this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();
            this.uiDialog.stop(!0, !0).remove();
            this.originalTitle && this.element.attr("title", this.originalTitle);
            var e = a.parent.children().eq(a.index);
            e.length && e[0] !== this.element[0] ? e.before(this.element) : a.parent.append(this.element)
        },
        widget: function() {
            return this.uiDialog
        },
        disable: e.noop,
        enable: e.noop,
        close: function(a) {
            var f = this;
            this._isOpen && !1 !== this._trigger("beforeClose", a) && (this._isOpen = !1, this._destroyOverlay(), this.opener.filter(":focusable").focus().length || e(this.document[0].activeElement).blur(), this._hide(this.uiDialog, this.options.hide, function() {
                f._trigger("close", a)
            }))
        },
        isOpen: function() {
            return this._isOpen
        },
        moveToTop: function() {
            this._moveToTop()
        },
        _moveToTop: function(a, e) {
            var f = !!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
            return f && !e && this._trigger("focus", a), f
        },
        open: function() {
            this._isOpen ? this._moveToTop() && this._focusTabbable() : (this.opener = e(this.document[0].activeElement), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this._show(this.uiDialog, this.options.show), this._focusTabbable(), this._isOpen = !0, this._trigger("open"), this._trigger("focus"))
        },
        _focusTabbable: function() {
            var a = this.element.find("[autofocus]");
            a.length || (a = this.element.find(":tabbable"));
            a.length || (a = this.uiDialogButtonPane.find(":tabbable"));
            a.length || (a = this.uiDialogTitlebarClose.filter(":tabbable"));
            a.length || (a = this.uiDialog);
            a.eq(0).focus()
        },
        _keepFocus: function(a) {
            function f() {
                var a = this.document[0].activeElement;
                this.uiDialog[0] === a || e.contains(this.uiDialog[0], a) || this._focusTabbable()
            }
            a.preventDefault();
            f.call(this);
            this._delay(f)
        },
        _createWrapper: function() {
            this.uiDialog = e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                tabIndex: -1,
                role: "dialog"
            }).appendTo(this._appendTo());
            this._on(this.uiDialog, {
                keydown: function(a) {
                    if (this.options.closeOnEscape && !a.isDefaultPrevented() && a.keyCode && a.keyCode === e.ui.keyCode.ESCAPE) a.preventDefault(), this.close(a);
                    else if (a.keyCode === e.ui.keyCode.TAB) {
                        var f = this.uiDialog.find(":tabbable"),
                            g = f.filter(":first");
                        f = f.filter(":last");
                        a.target !== f[0] && a.target !== this.uiDialog[0] || a.shiftKey ? (a.target === g[0] || a.target === this.uiDialog[0]) && a.shiftKey && (f.focus(1), a.preventDefault()) : (g.focus(1), a.preventDefault())
                    }
                },
                mousedown: function(a) {
                    this._moveToTop(a) &&
                        this._focusTabbable()
                }
            });
            this.element.find("[aria-describedby]").length || this.uiDialog.attr({
                "aria-describedby": this.element.uniqueId().attr("id")
            })
        },
        _createTitlebar: function() {
            this.uiDialogTitlebar = e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);
            this._on(this.uiDialogTitlebar, {
                mousedown: function(a) {
                    e(a.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                }
            });
            this.uiDialogTitlebarClose = e("<button></button>").button({
                label: this.options.closeText,
                icons: {
                    primary: "ui-icon-closethick"
                },
                text: !1
            }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);
            this._on(this.uiDialogTitlebarClose, {
                click: function(a) {
                    a.preventDefault();
                    this.close(a)
                }
            });
            var a = e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);
            this._title(a);
            this.uiDialog.attr({
                "aria-labelledby": a.attr("id")
            })
        },
        _title: function(a) {
            this.options.title || a.html("&#160;");
            a.text(this.options.title)
        },
        _createButtonPane: function() {
            this.uiDialogButtonPane =
                e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");
            this.uiButtonSet = e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);
            this._createButtons()
        },
        _createButtons: function() {
            var a = this,
                f = this.options.buttons;
            this.uiDialogButtonPane.remove();
            this.uiButtonSet.empty();
            e.isEmptyObject(f) ? this.uiDialog.removeClass("ui-dialog-buttons") : (e.each(f, function(f, g) {
                g = e.isFunction(g) ? {
                    click: g,
                    text: f
                } : g;
                g = e.extend({
                    type: "button"
                }, g);
                var h = g.click;
                g.click = function() {
                    h.apply(a.element[0],
                        arguments)
                };
                f = {
                    icons: g.icons,
                    text: g.showText
                };
                delete g.icons;
                delete g.showText;
                e("<button></button>", g).button(f).appendTo(a.uiButtonSet)
            }), this.uiDialog.addClass("ui-dialog-buttons"), this.uiDialogButtonPane.appendTo(this.uiDialog))
        },
        _makeDraggable: function() {
            function a(a) {
                return {
                    position: a.position,
                    offset: a.offset
                }
            }
            var f = this,
                g = this.options;
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                start: function(g, h) {
                    e(this).addClass("ui-dialog-dragging");
                    f._trigger("dragStart", g, a(h))
                },
                drag: function(e, g) {
                    f._trigger("drag", e, a(g))
                },
                stop: function(h, k) {
                    g.position = [k.position.left - f.document.scrollLeft(), k.position.top - f.document.scrollTop()];
                    e(this).removeClass("ui-dialog-dragging");
                    f._trigger("dragStop", h, a(k))
                }
            })
        },
        _makeResizable: function() {
            function a(a) {
                return {
                    originalPosition: a.originalPosition,
                    originalSize: a.originalSize,
                    position: a.position,
                    size: a.size
                }
            }
            var f = this,
                g = this.options,
                n = g.resizable,
                p = this.uiDialog.css("position");
            n = "string" == typeof n ?
                n : "n,e,s,w,se,sw,ne,nw";
            this.uiDialog.resizable({
                cancel: ".ui-dialog-content",
                containment: "document",
                alsoResize: this.element,
                maxWidth: g.maxWidth,
                maxHeight: g.maxHeight,
                minWidth: g.minWidth,
                minHeight: this._minHeight(),
                handles: n,
                start: function(g, h) {
                    e(this).addClass("ui-dialog-resizing");
                    f._trigger("resizeStart", g, a(h))
                },
                resize: function(e, g) {
                    f._trigger("resize", e, a(g))
                },
                stop: function(h, k) {
                    g.height = e(this).height();
                    g.width = e(this).width();
                    e(this).removeClass("ui-dialog-resizing");
                    f._trigger("resizeStop",
                        h, a(k))
                }
            }).css("position", p)
        },
        _minHeight: function() {
            var a = this.options;
            return "auto" === a.height ? a.minHeight : Math.min(a.minHeight, a.height)
        },
        _position: function() {
            var a = this.uiDialog.is(":visible");
            a || this.uiDialog.show();
            this.uiDialog.position(this.options.position);
            a || this.uiDialog.hide()
        },
        _setOptions: function(g) {
            var h = this,
                l = !1,
                n = {};
            e.each(g, function(e, g) {
                h._setOption(e, g);
                e in a && (l = !0);
                e in f && (n[e] = g)
            });
            l && (this._size(), this._position());
            this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option",
                n)
        },
        _setOption: function(a, e) {
            var f, g, h = this.uiDialog;
            "dialogClass" === a && h.removeClass(this.options.dialogClass).addClass(e);
            "disabled" !== a && (this._super(a, e), "appendTo" === a && this.uiDialog.appendTo(this._appendTo()), "buttons" === a && this._createButtons(), "closeText" === a && this.uiDialogTitlebarClose.button({
                label: "" + e
            }), "draggable" === a && (f = h.is(":data(ui-draggable)"), f && !e && h.draggable("destroy"), !f && e && this._makeDraggable()), "position" === a && this._position(), "resizable" === a && (g = h.is(":data(ui-resizable)"),
                g && !e && h.resizable("destroy"), g && "string" == typeof e && h.resizable("option", "handles", e), !g && !1 !== e && this._makeResizable()), "title" === a && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
        },
        _size: function() {
            var a = this.options;
            this.element.show().css({
                width: "auto",
                minHeight: 0,
                maxHeight: "none",
                height: 0
            });
            a.minWidth > a.width && (a.width = a.minWidth);
            var e = this.uiDialog.css({
                height: "auto",
                width: a.width
            }).outerHeight();
            var f = Math.max(0, a.minHeight - e);
            var g = "number" == typeof a.maxHeight ? Math.max(0, a.maxHeight -
                e) : "none";
            "auto" === a.height ? this.element.css({
                minHeight: f,
                maxHeight: g,
                height: "auto"
            }) : this.element.height(Math.max(0, a.height - e));
            this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
        },
        _createOverlay: function() {
            this.options.modal && (e.ui.dialog.overlayInstances || this._delay(function() {
                    e.ui.dialog.overlayInstances && this._on(this.document, {
                        focusin: function(a) {
                            e(a.target).closest(".ui-dialog").length || (a.preventDefault(), e(".ui-dialog:visible:last .ui-dialog-content").data("ui-dialog")._focusTabbable())
                        }
                    })
                }),
                this.overlay = e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this.document[0].body), this._on(this.overlay, {
                    mousedown: "_keepFocus"
                }), e.ui.dialog.overlayInstances++)
        },
        _destroyOverlay: function() {
            this.options.modal && (e.ui.dialog.overlayInstances--, e.ui.dialog.overlayInstances || this._off(this.document, "focusin"), this.overlay.remove())
        }
    });
    e.ui.dialog.overlayInstances = 0;
    !1 !== e.uiBackCompat && e.widget("ui.dialog", e.ui.dialog, {
        _position: function() {
            var a = this.options.position,
                f = [],
                g = [0, 0],
                n;
            if (a) {
                if ("string" ==
                    typeof a || "object" == typeof a && "0" in a) f = a.split ? a.split(" ") : [a[0], a[1]], 1 === f.length && (f[1] = f[0]), e.each(["left", "top"], function(a, e) {
                    +f[a] === f[a] && (g[a] = f[a], f[a] = e)
                }), a = {
                    my: f[0] + (0 > g[0] ? g[0] : "+" + g[0]) + " " + f[1] + (0 > g[1] ? g[1] : "+" + g[1]),
                    at: f.join(" ")
                };
                a = e.extend({}, e.ui.dialog.prototype.options.position, a)
            } else a = e.ui.dialog.prototype.options.position;
            (n = this.uiDialog.is(":visible")) || this.uiDialog.show();
            this.uiDialog.position(a);
            n || this.uiDialog.hide()
        }
    })
})(jQuery);
(function(e, g) {
    e.widget("ui.progressbar", {
        version: "1.10.0",
        options: {
            max: 100,
            value: 0,
            change: null,
            complete: null
        },
        min: 0,
        _create: function() {
            this.oldValue = this.options.value = this._constrainedValue();
            this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                role: "progressbar",
                "aria-valuemin": this.min
            });
            this.valueDiv = e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);
            this._refreshValue()
        },
        _destroy: function() {
            this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
            this.valueDiv.remove()
        },
        value: function(a) {
            if (a === g) return this.options.value;
            this.options.value = this._constrainedValue(a);
            this._refreshValue()
        },
        _constrainedValue: function(a) {
            return a === g && (a = this.options.value), this.indeterminate = !1 === a, "number" != typeof a && (a = 0), this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, a))
        },
        _setOptions: function(a) {
            var e = a.value;
            delete a.value;
            this._super(a);
            this.options.value = this._constrainedValue(e);
            this._refreshValue()
        },
        _setOption: function(a, e) {
            "max" ===
            a && (e = Math.max(this.min, e));
            this._super(a, e)
        },
        _percentage: function() {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
        },
        _refreshValue: function() {
            var a = this.options.value,
                f = this._percentage();
            this.valueDiv.toggle(this.indeterminate || a > this.min).toggleClass("ui-corner-right", a === this.options.max).width(f.toFixed(0) + "%");
            this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate);
            this.indeterminate ? (this.element.removeAttr("aria-valuenow"), this.overlayDiv ||
                (this.overlayDiv = e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))) : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": a
            }), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null));
            this.oldValue !== a && (this.oldValue = a, this._trigger("change"));
            a === this.options.max && this._trigger("complete")
        }
    })
})(jQuery);
(function(e, g) {
    e.widget("ui.slider", e.ui.mouse, {
        version: "1.10.0",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        _create: function() {
            var a, f = this.options,
                g = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
                k = [];
            this._mouseSliding = this._keySliding = !1;
            this._animateOff = !0;
            this._handleIndex = null;
            this._detectOrientation();
            this._mouseInit();
            this.element.addClass("ui-slider ui-slider-" +
                this.orientation + " ui-widget ui-widget-content ui-corner-all");
            this.range = e([]);
            f.range && (!0 === f.range && (f.values ? f.values.length && 2 !== f.values.length ? f.values = [f.values[0], f.values[0]] : e.isArray(f.values) && (f.values = f.values.slice(0)) : f.values = [this._valueMin(), this._valueMin()]), this.range = e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header" + ("min" === f.range || "max" === f.range ? " ui-slider-range-" + f.range : "")));
            var l = f.values && f.values.length || 1;
            for (a = g.length; a < l; a++) k.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
            this.handles = g.add(e(k.join("")).appendTo(this.element));
            this.handle = this.handles.eq(0);
            this.handles.add(this.range).filter("a").click(function(a) {
                a.preventDefault()
            }).mouseenter(function() {
                f.disabled || e(this).addClass("ui-state-hover")
            }).mouseleave(function() {
                e(this).removeClass("ui-state-hover")
            }).focus(function() {
                f.disabled ? e(this).blur() : (e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"), e(this).addClass("ui-state-focus"))
            }).blur(function() {
                e(this).removeClass("ui-state-focus")
            });
            this.handles.each(function(a) {
                e(this).data("ui-slider-handle-index", a)
            });
            this._setOption("disabled", f.disabled);
            this._on(this.handles, this._handleEvents);
            this._refreshValue();
            this._animateOff = !1
        },
        _destroy: function() {
            this.handles.remove();
            this.range.remove();
            this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
            this._mouseDestroy()
        },
        _mouseCapture: function(a) {
            var f, g, k, l, n, p, r, u, y = this,
                w = this.options;
            return w.disabled ? !1 : (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            }, this.elementOffset = this.element.offset(), f = {
                x: a.pageX,
                y: a.pageY
            }, g = this._normValueFromMouse(f), k = this._valueMax() - this._valueMin() + 1, this.handles.each(function(a) {
                var f = Math.abs(g - y.values(a));
                if (k > f || k === f && (a === y._lastChangedValue || y.values(a) === w.min)) k = f, l = e(this), n = a
            }), p = this._start(a, n), !1 === p ? !1 : (this._mouseSliding = !0, this._handleIndex = n, l.addClass("ui-state-active").focus(), r = l.offset(), u = !e(a.target).parents().addBack().is(".ui-slider-handle"),
                this._clickOffset = u ? {
                    left: 0,
                    top: 0
                } : {
                    left: a.pageX - r.left - l.width() / 2,
                    top: a.pageY - r.top - l.height() / 2 - (parseInt(l.css("borderTopWidth"), 10) || 0) - (parseInt(l.css("borderBottomWidth"), 10) || 0) + (parseInt(l.css("marginTop"), 10) || 0)
                }, this.handles.hasClass("ui-state-hover") || this._slide(a, n, g), this._animateOff = !0, !0))
        },
        _mouseStart: function() {
            return !0
        },
        _mouseDrag: function(a) {
            var e = this._normValueFromMouse({
                x: a.pageX,
                y: a.pageY
            });
            return this._slide(a, this._handleIndex, e), !1
        },
        _mouseStop: function(a) {
            return this.handles.removeClass("ui-state-active"),
                this._mouseSliding = !1, this._stop(a, this._handleIndex), this._change(a, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
        },
        _detectOrientation: function() {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function(a) {
            var e, g, k, l, n;
            return "horizontal" === this.orientation ? (e = this.elementSize.width, g = a.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (e = this.elementSize.height, g = a.y - this.elementOffset.top -
                (this._clickOffset ? this._clickOffset.top : 0)), k = g / e, 1 < k && (k = 1), 0 > k && (k = 0), "vertical" === this.orientation && (k = 1 - k), l = this._valueMax() - this._valueMin(), n = this._valueMin() + k * l, this._trimAlignValue(n)
        },
        _start: function(a, e) {
            var f = {
                handle: this.handles[e],
                value: this.value()
            };
            return this.options.values && this.options.values.length && (f.value = this.values(e), f.values = this.values()), this._trigger("start", a, f)
        },
        _slide: function(a, e, g) {
            var f, h, n;
            this.options.values && this.options.values.length ? (f = this.values(e ? 0 : 1),
                2 === this.options.values.length && !0 === this.options.range && (0 === e && g > f || 1 === e && g < f) && (g = f), g !== this.values(e) && (h = this.values(), h[e] = g, n = this._trigger("slide", a, {
                    handle: this.handles[e],
                    value: g,
                    values: h
                }), this.values(e ? 0 : 1), !1 !== n && this.values(e, g, !0))) : g !== this.value() && (n = this._trigger("slide", a, {
                handle: this.handles[e],
                value: g
            }), !1 !== n && this.value(g))
        },
        _stop: function(a, e) {
            var f = {
                handle: this.handles[e],
                value: this.value()
            };
            this.options.values && this.options.values.length && (f.value = this.values(e), f.values =
                this.values());
            this._trigger("stop", a, f)
        },
        _change: function(a, e) {
            if (!this._keySliding && !this._mouseSliding) {
                var f = {
                    handle: this.handles[e],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (f.value = this.values(e), f.values = this.values());
                this._lastChangedValue = e;
                this._trigger("change", a, f)
            }
        },
        value: function(a) {
            if (arguments.length) this.options.value = this._trimAlignValue(a), this._refreshValue(), this._change(null, 0);
            else return this._value()
        },
        values: function(a, f) {
            var g;
            if (1 < arguments.length) this.options.values[a] =
                this._trimAlignValue(f), this._refreshValue(), this._change(null, a);
            else {
                if (!arguments.length) return this._values();
                if (!e.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(a) : this.value();
                var k = this.options.values;
                var l = arguments[0];
                for (g = 0; g < k.length; g += 1) k[g] = this._trimAlignValue(l[g]), this._change(null, g);
                this._refreshValue()
            }
        },
        _setOption: function(a, f) {
            var g, k = 0;
            e.isArray(this.options.values) && (k = this.options.values.length);
            e.Widget.prototype._setOption.apply(this,
                arguments);
            switch (a) {
                case "disabled":
                    f ? (this.handles.filter(".ui-state-focus").blur(), this.handles.removeClass("ui-state-hover"), this.handles.prop("disabled", !0)) : this.handles.prop("disabled", !1);
                    break;
                case "orientation":
                    this._detectOrientation();
                    this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation);
                    this._refreshValue();
                    break;
                case "value":
                    this._animateOff = !0;
                    this._refreshValue();
                    this._change(null, 0);
                    this._animateOff = !1;
                    break;
                case "values":
                    this._animateOff = !0;
                    this._refreshValue();
                    for (g = 0; g < k; g += 1) this._change(null, g);
                    this._animateOff = !1;
                    break;
                case "min":
                case "max":
                    this._animateOff = !0, this._refreshValue(), this._animateOff = !1
            }
        },
        _value: function() {
            var a = this.options.value;
            return a = this._trimAlignValue(a), a
        },
        _values: function(a) {
            var e, g;
            if (arguments.length) return e = this.options.values[a], e = this._trimAlignValue(e), e;
            e = this.options.values.slice();
            for (g = 0; g < e.length; g += 1) e[g] = this._trimAlignValue(e[g]);
            return e
        },
        _trimAlignValue: function(a) {
            if (a <= this._valueMin()) return this._valueMin();
            if (a >= this._valueMax()) return this._valueMax();
            var e = 0 < this.options.step ? this.options.step : 1,
                g = (a - this._valueMin()) % e;
            a -= g;
            return 2 * Math.abs(g) >= e && (a += 0 < g ? e : -e), parseFloat(a.toFixed(5))
        },
        _valueMin: function() {
            return this.options.min
        },
        _valueMax: function() {
            return this.options.max
        },
        _refreshValue: function() {
            var a, f, g, k, l, n = this.options.range,
                p = this.options,
                r = this,
                u = this._animateOff ? !1 : p.animate,
                y = {};
            this.options.values && this.options.values.length ? this.handles.each(function(g) {
                    f = (r.values(g) - r._valueMin()) /
                        (r._valueMax() - r._valueMin()) * 100;
                    y["horizontal" === r.orientation ? "left" : "bottom"] = f + "%";
                    e(this).stop(1, 1)[u ? "animate" : "css"](y, p.animate);
                    !0 === r.options.range && ("horizontal" === r.orientation ? (0 === g && r.range.stop(1, 1)[u ? "animate" : "css"]({
                        left: f + "%"
                    }, p.animate), 1 === g && r.range[u ? "animate" : "css"]({
                        width: f - a + "%"
                    }, {
                        queue: !1,
                        duration: p.animate
                    })) : (0 === g && r.range.stop(1, 1)[u ? "animate" : "css"]({
                        bottom: f + "%"
                    }, p.animate), 1 === g && r.range[u ? "animate" : "css"]({
                        height: f - a + "%"
                    }, {
                        queue: !1,
                        duration: p.animate
                    })));
                    a = f
                }) :
                (g = this.value(), k = this._valueMin(), l = this._valueMax(), f = l !== k ? (g - k) / (l - k) * 100 : 0, y["horizontal" === this.orientation ? "left" : "bottom"] = f + "%", this.handle.stop(1, 1)[u ? "animate" : "css"](y, p.animate), "min" === n && "horizontal" === this.orientation && this.range.stop(1, 1)[u ? "animate" : "css"]({
                    width: f + "%"
                }, p.animate), "max" === n && "horizontal" === this.orientation && this.range[u ? "animate" : "css"]({
                    width: 100 - f + "%"
                }, {
                    queue: !1,
                    duration: p.animate
                }), "min" === n && "vertical" === this.orientation && this.range.stop(1, 1)[u ? "animate" : "css"]({
                    height: f +
                        "%"
                }, p.animate), "max" === n && "vertical" === this.orientation && this.range[u ? "animate" : "css"]({
                    height: 100 - f + "%"
                }, {
                    queue: !1,
                    duration: p.animate
                }))
        },
        _handleEvents: {
            keydown: function(a) {
                var f, g, k = e(a.target).data("ui-slider-handle-index");
                switch (a.keyCode) {
                    case e.ui.keyCode.HOME:
                    case e.ui.keyCode.END:
                    case e.ui.keyCode.PAGE_UP:
                    case e.ui.keyCode.PAGE_DOWN:
                    case e.ui.keyCode.UP:
                    case e.ui.keyCode.RIGHT:
                    case e.ui.keyCode.DOWN:
                    case e.ui.keyCode.LEFT:
                        if (a.preventDefault(), !this._keySliding) {
                            this._keySliding = !0;
                            e(a.target).addClass("ui-state-active");
                            var l = this._start(a, k);
                            if (!1 === l) return
                        }
                }
                l = this.options.step;
                this.options.values && this.options.values.length ? f = g = this.values(k) : f = g = this.value();
                switch (a.keyCode) {
                    case e.ui.keyCode.HOME:
                        g = this._valueMin();
                        break;
                    case e.ui.keyCode.END:
                        g = this._valueMax();
                        break;
                    case e.ui.keyCode.PAGE_UP:
                        g = this._trimAlignValue(f + (this._valueMax() - this._valueMin()) / 5);
                        break;
                    case e.ui.keyCode.PAGE_DOWN:
                        g = this._trimAlignValue(f - (this._valueMax() - this._valueMin()) / 5);
                        break;
                    case e.ui.keyCode.UP:
                    case e.ui.keyCode.RIGHT:
                        if (f ===
                            this._valueMax()) return;
                        g = this._trimAlignValue(f + l);
                        break;
                    case e.ui.keyCode.DOWN:
                    case e.ui.keyCode.LEFT:
                        if (f === this._valueMin()) return;
                        g = this._trimAlignValue(f - l)
                }
                this._slide(a, k, g)
            },
            keyup: function(a) {
                var f = e(a.target).data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1, this._stop(a, f), this._change(a, f), e(a.target).removeClass("ui-state-active"))
            }
        }
    })
})(jQuery);
window.console || (window.console = {}, window.console.log = function(e) {}, window.console.dir = function(e) {});
var windowWidth = function() {
        return Math.max($(window).width(), window.innerWidth)
    },
    isMobileLayout = function() {
        return "relative" == $(".modal").css("position")
    },
    layoutMode = isMobileLayout() ? "narrow" : "wide";
"function" != typeof String.prototype.startsWith && (String.prototype.startsWith = function(e) {
    return 0 == this.indexOf(e)
});
var log = function(e) {
    console.log && console.log(e)
};

function getUrlParams() {
    return splitParamString(location.search.substring(1))
}

function splitParamString(e) {
    for (var g = {}, a = /([^=&]+)=([^&]*)/g, f; f = a.exec(e);) g[decodeURIComponent(f[1])] = decodeURIComponent(f[2].replace(/\+/g, " "));
    return g
}
var pfx = ["Webkit", "Moz", "ms", "O", ""];

function prefixedEvent(e, g, a) {
    for (var f = 0; f < pfx.length; f++) pfx[f] || (g = g.toLowerCase()), e.addEventListener(pfx[f] + g, a, !1)
}
var ua = window.navigator.userAgent;
location.hash || "undefined" === typeof pageYOffset || setTimeout(function() {
    pageYOffset || (window.scrollTo(0, 1), window.scrollTo(0, 0))
}, 1E3);
/(Opera Mini)/i.test(ua) && $("html").addClass("opera-mini");
/(Opera Mobi)/i.test(ua) && $("html").removeClass("fontface").addClass("no-fontface");
/(iPod|Opera Mobi)/i.test(ua) && $("html").addClass("no-fixed-pos");
(function(e) {
    window.XDomainRequest && e.ajaxTransport(function(g) {
        if (g.crossDomain && g.async) {
            g.timeout && (g.xdrTimeout = g.timeout, delete g.timeout);
            var a;
            return {
                send: function(f, h) {
                    function k(f, g, k, r) {
                        a.onload = a.onerror = a.ontimeout = e.noop;
                        a = void 0;
                        h(f, g, k, r)
                    }
                    a = new XDomainRequest;
                    a.open(g.type, g.url);
                    a.onload = function() {
                        k(200, "OK", {
                            text: a.responseText
                        }, "Content-Type: " + a.contentType)
                    };
                    a.onerror = function() {
                        k(404, "Not Found")
                    };
                    g.xdrTimeout && (a.ontimeout = function() {
                        k(0, "timeout")
                    }, a.timeout = g.xdrTimeout);
                    a.send(g.hasContent && g.data || null)
                },
                abort: function() {
                    a && (a.onerror = e.noop(), a.abort())
                }
            }
        }
    })
})(jQuery);
var htmlEncode = function(e) {
        return $("<div/>").text(e).html()
    },
    formValueEncode = function(e) {
        return e.replace(/"/g, '\\"').replace(/'/g, "\\'")
    },
    htmlDecode = function(e) {
        return $("<div/>").html(e).text()
    };
navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0)|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|Pre\/1.2|Kindle\/(1.0|2.0|2.5|3.0))/) && $("html").removeClass("fileinput").addClass("no-fileinput");
/(Windows Phone)|(XBLWP)|(ZuneWP)/.test(navigator.userAgent) && $("html").removeClass("fontface").addClass("no-fontface");
jQuery.support.placeholder = function() {
    return "placeholder" in document.createElement("input")
}();
var isDndSupported = function() {
    return "function" == typeof window.FileReader
};
isDndSupported() ? $("html").addClass("dnd") : $("html").addClass("no-dnd");

function showToolTip(e, g, a) {
    var f = $(".tooltip").addClass("no-anim");
    f.css({
        top: parseInt(g.y) - 20 + "px",
        left: g.x
    });
    f.find(".tooltip-msg").html(e);
    setTimeout(function() {
        f.removeClass("no-anim");
        f.css({
            top: g.y,
            marginTop: "-" + (f.height() - 10) + "px"
        });
        f.addClass("faded-in")
    }, 50);
    f.find(".tooltip-close-btn").one("click", function() {
        f.removeClass("faded-in");
        f.css({
            top: parseInt(g.y) - 20 + "px"
        });
        a()
    })
}
var extractImageUrl = function(e) {
        var g = /(<img[^>]+>)/i;
        g = e.match(g);
        if (!g) return null;
        e = g[1];
        g = /src="([^"]+)"/i;
        return (g = e.match(g)) ? g[1] : null
    },
    extractLink = function(e) {
        return (e = /<a[^>]+\bhref="([^"]+)"/i.exec(e)) ? e[1] : null
    },
    handleHtml = function(e) {
        var g = extractImageUrl(e);
        if (g) return handleUrl(g);
        if (e = extractLink(e)) return handleUrl(e)
    },
    handleUrl = function(e) {
        return isImageUrl(e) ? e : null
    },
    isImageExt = function(e) {
        return e.match(/(?:png|jpeg|jpg|svg|gif)$/i)
    },
    isImageUrl = function(e) {
        return 0 !== e.indexOf("file://") &&
            isImageExt(e)
    },
    resetDropArea = function() {
        dropFileArea.removeClass("hover")
    };
$(document).ready(function() {
    "undefined" !== typeof dropFileArea && 0 < dropFileArea.length && ($(document).bind("dragover", function(e) {
        e.stopPropagation();
        e.preventDefault();
        var g = window.dropFileAreaTimeout;
        g ? clearTimeout(g) : $("html").addClass("dragging-file");
        $(e.target).parents().addBack().is(dropFileArea) ? dropFileArea.addClass("hover") : dropFileArea.removeClass("hover");
        window.dropFileAreaTimeout = setTimeout(function() {
            window.dropFileAreaTimeout = null
        }, 100)
    }), $(document).on("drop", function(e) {
        e.stopPropagation();
        e.preventDefault();
        return !1
    }));
    jQuery.support.placeholder ? $("html").removeClass("no-placeholder").addClass("placeholder") : $("html").removeClass("placeholder").addClass("no-placeholder");
    $("#contact-us-mobile-trigger-button").on("click", function() {
        $("#contact-us-mobile-trigger-button").addClass("hide");
        $(".contact-us-form-wrapper").removeClass("hide");
    })
});
(function(e) {
    "function" === typeof define && define.amd ? define(["jquery"], e) : e(window.jQuery)
})(function(e) {
    var g = 0;
    e.ajaxTransport("iframe", function(a) {
        if (a.async) {
            var f, h, k;
            return {
                send: function(l, n) {
                    f = e('<form style="display:none;"></form>');
                    f.attr("accept-charset", a.formAcceptCharset);
                    k = /\?/.test(a.url) ? "&" : "?";
                    "DELETE" === a.type ? (a.url = a.url + k + "_method=DELETE", a.type = "POST") : "PUT" === a.type ? (a.url = a.url + k + "_method=PUT", a.type = "POST") : "PATCH" === a.type && (a.url = a.url + k + "_method=PATCH", a.type = "POST");
                    h =
                        e('<iframe src="javascript:false;" name="iframe-transport-' + (g += 1) + '"></iframe>').bind("load", function() {
                            var g = e.isArray(a.paramName) ? a.paramName : [a.paramName];
                            h.unbind("load").bind("load", function() {
                                try {
                                    var a = h.contents();
                                    if (!a.length || !a[0].firstChild) throw Error();
                                } catch (y) {
                                    a = void 0
                                }
                                n(200, "success", {
                                    iframe: a
                                });
                                e('<iframe src="javascript:false;"></iframe>').appendTo(f);
                                f.remove()
                            });
                            f.prop("target", h.prop("name")).prop("action", a.url).prop("method", a.type);
                            a.formData && e.each(a.formData, function(a,
                                g) {
                                e('<input type="hidden"/>').prop("name", g.name).val(g.value).appendTo(f)
                            });
                            if (a.fileInput && a.fileInput.length && "POST" === a.type) {
                                var k = a.fileInput.clone();
                                a.fileInput.after(function(a) {
                                    return k[a]
                                });
                                a.paramName && a.fileInput.each(function(f) {
                                    e(this).prop("name", g[f] || a.paramName)
                                });
                                f.append(a.fileInput).prop("enctype", "multipart/form-data").prop("encoding", "multipart/form-data")
                            }
                            f.submit();
                            k && k.length && a.fileInput.each(function(a, f) {
                                a = e(k[a]);
                                e(f).prop("name", a.prop("name"));
                                a.replaceWith(f)
                            })
                        });
                    f.append(h).appendTo(document.body)
                },
                abort: function() {
                    h && h.unbind("load").prop("src", "javascript".concat(":false;"));
                    f && f.remove()
                }
            }
        }
    });
    e.ajaxSetup({
        converters: {
            "iframe text": function(a) {
                return a && e(a[0].body).text()
            },
            "iframe json": function(a) {
                return a && e.parseJSON(e(a[0].body).text())
            },
            "iframe html": function(a) {
                return a && e(a[0].body).html()
            },
            "iframe script": function(a) {
                return a && e.globalEval(e(a[0].body).text())
            }
        }
    })
});
(function(e) {
    "function" === typeof define && define.amd ? define(["jquery", "jquery.ui.widget"], e) : e(window.jQuery)
})(function(e) {
    e.support.xhrFileUpload = !(!window.XMLHttpRequestUpload || !window.FileReader);
    e.support.xhrFormDataFileUpload = !!window.FormData;
    e.widget("blueimp.fileupload", {
        options: {
            dropZone: e(document),
            pasteZone: e(document),
            fileInput: void 0,
            replaceFileInput: !0,
            paramName: void 0,
            singleFileUploads: !0,
            limitMultiFileUploads: void 0,
            sequentialUploads: !1,
            limitConcurrentUploads: void 0,
            forceIframeTransport: !1,
            redirect: void 0,
            redirectParamName: void 0,
            postMessage: void 0,
            multipart: !0,
            maxChunkSize: void 0,
            uploadedBytes: void 0,
            recalculateProgress: !0,
            progressInterval: 100,
            bitrateInterval: 500,
            formData: function(e) {
                return e.serializeArray()
            },
            add: function(e, a) {
                a.submit()
            },
            processData: !1,
            contentType: !1,
            cache: !1
        },
        _refreshOptionsList: ["fileInput", "dropZone", "pasteZone", "multipart", "forceIframeTransport"],
        _BitrateTimer: function() {
            this.timestamp = +new Date;
            this.bitrate = this.loaded = 0;
            this.getBitrate = function(e, a, f) {
                var g =
                    e - this.timestamp;
                if (!this.bitrate || !f || g > f) this.bitrate = 1E3 / g * (a - this.loaded) * 8, this.loaded = a, this.timestamp = e;
                return this.bitrate
            }
        },
        _isXHRUpload: function(g) {
            return !g.forceIframeTransport && (!g.multipart && e.support.xhrFileUpload || e.support.xhrFormDataFileUpload)
        },
        _getFormData: function(g) {
            if ("function" === typeof g.formData) return g.formData(g.form);
            if (e.isArray(g.formData)) return g.formData;
            if (g.formData) {
                var a = [];
                e.each(g.formData, function(e, g) {
                    a.push({
                        name: e,
                        value: g
                    })
                });
                return a
            }
            return []
        },
        _getTotal: function(g) {
            var a =
                0;
            e.each(g, function(e, g) {
                a += g.size || 1
            });
            return a
        },
        _onProgress: function(e, a) {
            if (e.lengthComputable) {
                var f = +new Date;
                if (!(a._time && a.progressInterval && f - a._time < a.progressInterval && e.loaded !== e.total)) {
                    a._time = f;
                    var g = a.total || this._getTotal(a.files);
                    var k = parseInt(e.loaded / e.total * (a.chunkSize || g), 10) + (a.uploadedBytes || 0);
                    this._loaded += k - (a.loaded || a.uploadedBytes || 0);
                    a.lengthComputable = !0;
                    a.loaded = k;
                    a.total = g;
                    a.bitrate = a._bitrateTimer.getBitrate(f, k, a.bitrateInterval);
                    this._trigger("progress", e, a);
                    this._trigger("progressall", e, {
                        lengthComputable: !0,
                        loaded: this._loaded,
                        total: this._total,
                        bitrate: this._bitrateTimer.getBitrate(f, this._loaded, a.bitrateInterval)
                    })
                }
            }
        },
        _initProgressListener: function(g) {
            var a = this,
                f = g.xhr ? g.xhr() : e.ajaxSettings.xhr();
            f.upload && (e(f.upload).bind("progress", function(e) {
                var f = e.originalEvent;
                e.lengthComputable = f.lengthComputable;
                e.loaded = f.loaded;
                e.total = f.total;
                a._onProgress(e, g)
            }), g.xhr = function() {
                return f
            })
        },
        _initXHRData: function(g) {
            var a = g.files[0],
                f = g.multipart || !e.support.xhrFileUpload,
                h = g.paramName[0];
            g.headers = g.headers || {};
            g.contentRange && (g.headers["Content-Range"] = g.contentRange);
            if (!f) g.headers["Content-Disposition"] = 'attachment; filename="' + encodeURI(a.name) + '"', g.contentType = a.type, g.data = g.blob || a;
            else if (e.support.xhrFormDataFileUpload) {
                if (g.postMessage) {
                    var k = this._getFormData(g);
                    g.blob ? k.push({
                        name: h,
                        value: g.blob
                    }) : e.each(g.files, function(a, e) {
                        k.push({
                            name: g.paramName[a] || h,
                            value: e
                        })
                    })
                } else g.formData instanceof FormData ? k = g.formData : (k = new FormData, e.each(this._getFormData(g),
                    function(a, e) {
                        k.append(e.name, e.value)
                    })), g.blob ? (g.headers["Content-Disposition"] = 'attachment; filename="' + encodeURI(a.name) + '"', k.append(h, g.blob, a.name)) : e.each(g.files, function(a, e) {
                    (window.Blob && e instanceof Blob || window.File && e instanceof File) && k.append(g.paramName[a] || h, e, e.name)
                });
                g.data = k
            }
            g.blob = null
        },
        _initIframeSettings: function(g) {
            g.dataType = "iframe " + (g.dataType || "");
            g.formData = this._getFormData(g);
            g.redirect && e("<a></a>").prop("href", g.url).prop("host") !== location.host && g.formData.push({
                name: g.redirectParamName ||
                    "redirect",
                value: g.redirect
            })
        },
        _initDataSettings: function(e) {
            this._isXHRUpload(e) ? (this._chunkedUpload(e, !0) || (e.data || this._initXHRData(e), this._initProgressListener(e)), e.postMessage && (e.dataType = "postmessage " + (e.dataType || ""))) : this._initIframeSettings(e, "iframe")
        },
        _getParamName: function(g) {
            var a = e(g.fileInput),
                f = g.paramName;
            f ? e.isArray(f) || (f = [f]) : (f = [], a.each(function() {
                var a = e(this),
                    g = a.prop("name") || "files[]";
                for (a = (a.prop("files") || [1]).length; a;) f.push(g), --a
            }), f.length || (f = [a.prop("name") ||
                "files[]"
            ]));
            return f
        },
        _initFormSettings: function(g) {
            g.form && g.form.length || (g.form = e(g.fileInput.prop("form")), g.form.length || (g.form = e(this.options.fileInput.prop("form"))));
            g.paramName = this._getParamName(g);
            g.url || (g.url = g.form.prop("action") || location.href);
            g.type = (g.type || g.form.prop("method") || "").toUpperCase();
            "POST" !== g.type && "PUT" !== g.type && "PATCH" !== g.type && (g.type = "POST");
            g.formAcceptCharset || (g.formAcceptCharset = g.form.attr("accept-charset"))
        },
        _getAJAXSettings: function(g) {
            g = e.extend({},
                this.options, g);
            this._initFormSettings(g);
            this._initDataSettings(g);
            return g
        },
        _enhancePromise: function(e) {
            e.success = e.done;
            e.error = e.fail;
            e.complete = e.always;
            return e
        },
        _getXHRPromise: function(g, a, f) {
            var h = e.Deferred(),
                k = h.promise();
            a = a || this.options.context || k;
            !0 === g ? h.resolveWith(a, f) : !1 === g && h.rejectWith(a, f);
            k.abort = h.promise;
            return this._enhancePromise(k)
        },
        _getUploadedBytes: function(e) {
            return (e = (e = (e = e.getResponseHeader("Range")) && e.split("-")) && 1 < e.length && parseInt(e[1], 10)) && e + 1
        },
        _chunkedUpload: function(g,
            a) {
            var f = this,
                h = g.files[0],
                k = h.size,
                l = g.uploadedBytes = g.uploadedBytes || 0,
                n = g.maxChunkSize || k,
                p = h.slice || h.webkitSlice || h.mozSlice,
                r = e.Deferred(),
                u = r.promise(),
                y;
            if (!(this._isXHRUpload(g) && p && (l || n < k)) || g.data) return !1;
            if (a) return !0;
            if (l >= k) return h.error = "Uploaded bytes exceed file size", this._getXHRPromise(!1, g.context, [null, "error", h.error]);
            var w = function(a) {
                var u = e.extend({}, g);
                u.blob = p.call(h, l, l + n, h.type);
                u.chunkSize = u.blob.size;
                u.contentRange = "bytes " + l + "-" + (l + u.chunkSize - 1) + "/" + k;
                f._initXHRData(u);
                f._initProgressListener(u);
                y = (!1 !== f._trigger("chunksend", null, u) && e.ajax(u) || f._getXHRPromise(!1, u.context)).done(function(a, h, n) {
                    l = f._getUploadedBytes(n) || l + u.chunkSize;
                    (!u.loaded || u.loaded < u.total) && f._onProgress(e.Event("progress", {
                        lengthComputable: !0,
                        loaded: l - u.uploadedBytes,
                        total: l - u.uploadedBytes
                    }), u);
                    g.uploadedBytes = u.uploadedBytes = l;
                    u.result = a;
                    u.textStatus = h;
                    u.jqXHR = n;
                    f._trigger("chunkdone", null, u);
                    f._trigger("chunkalways", null, u);
                    l < k ? w() : r.resolveWith(u.context, [a, h, n])
                }).fail(function(a,
                    e, g) {
                    u.jqXHR = a;
                    u.textStatus = e;
                    u.errorThrown = g;
                    f._trigger("chunkfail", null, u);
                    f._trigger("chunkalways", null, u);
                    r.rejectWith(u.context, [a, e, g])
                })
            };
            this._enhancePromise(u);
            u.abort = function() {
                return y.abort()
            };
            w();
            return u
        },
        _beforeSend: function(e, a) {
            0 === this._active && (this._trigger("start"), this._bitrateTimer = new this._BitrateTimer);
            this._active += 1;
            this._loaded += a.uploadedBytes || 0;
            this._total += this._getTotal(a.files)
        },
        _onDone: function(g, a, f, h) {
            if (!this._isXHRUpload(h) || !h.loaded || h.loaded < h.total) {
                var k =
                    this._getTotal(h.files) || 1;
                this._onProgress(e.Event("progress", {
                    lengthComputable: !0,
                    loaded: k,
                    total: k
                }), h)
            }
            h.result = g;
            h.textStatus = a;
            h.jqXHR = f;
            this._trigger("done", null, h)
        },
        _onFail: function(e, a, f, h) {
            h.jqXHR = e;
            h.textStatus = a;
            h.errorThrown = f;
            this._trigger("fail", null, h);
            h.recalculateProgress && (this._loaded -= h.loaded || h.uploadedBytes || 0, this._total -= h.total || this._getTotal(h.files))
        },
        _onAlways: function(e, a, f, h) {
            --this._active;
            this._trigger("always", null, h);
            0 === this._active && (this._trigger("stop"), this._loaded =
                this._total = 0, this._bitrateTimer = null)
        },
        _onSend: function(g, a) {
            var f = this,
                h, k, l = f._getAJAXSettings(a),
                n = function() {
                    f._sending += 1;
                    l._bitrateTimer = new f._BitrateTimer;
                    return h = h || ((k || !1 === f._trigger("send", g, l)) && f._getXHRPromise(!1, l.context, k) || f._chunkedUpload(l) || e.ajax(l)).done(function(a, e, g) {
                        f._onDone(a, e, g, l)
                    }).fail(function(a, e, g) {
                        f._onFail(a, e, g, l)
                    }).always(function(a, e, g) {
                        --f._sending;
                        f._onAlways(a, e, g, l);
                        if (l.limitConcurrentUploads && l.limitConcurrentUploads > f._sending)
                            for (a = f._slots.shift(); a;) {
                                if (e =
                                    a.state ? "pending" === a.state() : !a.isRejected()) {
                                    a.resolve();
                                    break
                                }
                                a = f._slots.shift()
                            }
                    })
                };
            this._beforeSend(g, l);
            if (this.options.sequentialUploads || this.options.limitConcurrentUploads && this.options.limitConcurrentUploads <= this._sending) {
                if (1 < this.options.limitConcurrentUploads) {
                    var p = e.Deferred();
                    this._slots.push(p);
                    a = p.pipe(n)
                } else a = this._sequence = this._sequence.pipe(n, n);
                a.abort = function() {
                    k = [void 0, "abort", "abort"];
                    return h ? h.abort() : (p && p.rejectWith(l.context, k), n())
                };
                return this._enhancePromise(a)
            }
            return n()
        },
        _onAdd: function(g, a) {
            var f = this,
                h = !0,
                k = e.extend({}, this.options, a),
                l = k.limitMultiFileUploads,
                n = this._getParamName(k),
                p;
            if ((k.singleFileUploads || l) && this._isXHRUpload(k))
                if (!k.singleFileUploads && l) {
                    var r = [];
                    var u = [];
                    for (p = 0; p < a.files.length; p += l) r.push(a.files.slice(p, p + l)), k = n.slice(p, p + l), k.length || (k = n), u.push(k)
                } else u = n;
            else r = [a.files], u = [n];
            a.originalFiles = a.files;
            e.each(r || a.files, function(k, l) {
                var n = e.extend({}, a);
                n.files = r ? l : [l];
                n.paramName = u[k];
                n.submit = function() {
                    return n.jqXHR = this.jqXHR = !1 !== f._trigger("submit", g, this) && f._onSend(g, this)
                };
                return h = f._trigger("add", g, n)
            });
            return h
        },
        _replaceFileInput: function(g) {
            var a = g.clone(!0);
            e("<form></form>").append(a)[0].reset();
            g.after(a).detach();
            e.cleanData(g.unbind("remove"));
            this.options.fileInput = this.options.fileInput.map(function(e, h) {
                return h === g[0] ? a[0] : h
            });
            g[0] === this.element[0] && (this.element = a)
        },
        _handleFileTreeEntry: function(g, a) {
            var f = this,
                h = e.Deferred(),
                k = function(a) {
                    a && !a.entry && (a.entry = g);
                    h.resolve([a])
                };
            a = a || "";
            if (g.isFile) g._file ?
                (g._file.relativePath = a, h.resolve(g._file)) : g.file(function(e) {
                    e.relativePath = a;
                    h.resolve(e)
                }, k);
            else if (g.isDirectory) {
                var l = g.createReader();
                l.readEntries(function(e) {
                    f._handleFileTreeEntries(e, a + g.name + "/").done(function(a) {
                        h.resolve(a)
                    }).fail(k)
                }, k)
            } else h.resolve([]);
            return h.promise()
        },
        _handleFileTreeEntries: function(g, a) {
            var f = this;
            return e.when.apply(e, e.map(g, function(e) {
                return f._handleFileTreeEntry(e, a)
            })).pipe(function() {
                return Array.prototype.concat.apply([], arguments)
            })
        },
        _getDroppedFiles: function(g) {
            g =
                g || {};
            var a = g.items;
            return a && a.length && (a[0].webkitGetAsEntry || a[0].getAsEntry) ? this._handleFileTreeEntries(e.map(a, function(a) {
                var e;
                if (a.webkitGetAsEntry) {
                    if (e = a.webkitGetAsEntry()) e._file = a.getAsFile();
                    return e
                }
                return a.getAsEntry()
            })) : e.Deferred().resolve(e.makeArray(g.files)).promise()
        },
        _getSingleFileInputFiles: function(g) {
            g = e(g);
            var a = g.prop("webkitEntries") || g.prop("entries");
            if (a && a.length) return this._handleFileTreeEntries(a);
            a = e.makeArray(g.prop("files"));
            if (a.length) void 0 === a[0].name &&
                a[0].fileName && e.each(a, function(a, e) {
                    e.name = e.fileName;
                    e.size = e.fileSize
                });
            else {
                g = g.prop("value");
                if (!g) return e.Deferred().resolve([]).promise();
                a = [{
                    name: g.replace(/^.*\\/, "")
                }]
            }
            return e.Deferred().resolve(a).promise()
        },
        _getFileInputFiles: function(g) {
            return g instanceof e && 1 !== g.length ? e.when.apply(e, e.map(g, this._getSingleFileInputFiles)).pipe(function() {
                return Array.prototype.concat.apply([], arguments)
            }) : this._getSingleFileInputFiles(g)
        },
        _onChange: function(g) {
            var a = this,
                f = {
                    fileInput: e(g.target),
                    form: e(g.target.form)
                };
            this._getFileInputFiles(f.fileInput).always(function(e) {
                f.files = e;
                a.options.replaceFileInput && a._replaceFileInput(f.fileInput);
                !1 !== a._trigger("change", g, f) && a._onAdd(g, f)
            })
        },
        _onPaste: function(g) {
            var a = g.originalEvent.clipboardData,
                f = {
                    files: []
                };
            e.each(a && a.items || [], function(a, e) {
                (a = e.getAsFile && e.getAsFile()) && f.files.push(a)
            });
            if (!1 === this._trigger("paste", g, f) || !1 === this._onAdd(g, f)) return !1
        },
        _onDrop: function(e) {
            var a = this,
                f = e.dataTransfer = e.originalEvent.dataTransfer,
                g = {};
            f && f.files && f.files.length && e.preventDefault();
            this._getDroppedFiles(f).always(function(f) {
                g.files = f;
                !1 !== a._trigger("drop", e, g) && a._onAdd(e, g)
            })
        },
        _onDragOver: function(g) {
            var a = g.dataTransfer = g.originalEvent.dataTransfer;
            if (!1 === this._trigger("dragover", g)) return !1;
            a && -1 !== e.inArray("Files", a.types) && (a.dropEffect = "copy", g.preventDefault())
        },
        _initEventHandlers: function() {
            this._isXHRUpload(this.options) && (this._on(this.options.dropZone, {
                dragover: this._onDragOver,
                drop: this._onDrop
            }), this._on(this.options.pasteZone, {
                paste: this._onPaste
            }));
            this._on(this.options.fileInput, {
                change: this._onChange
            })
        },
        _destroyEventHandlers: function() {
            this._off(this.options.dropZone, "dragover drop");
            this._off(this.options.pasteZone, "paste");
            this._off(this.options.fileInput, "change")
        },
        _setOption: function(g, a) {
            var f = -1 !== e.inArray(g, this._refreshOptionsList);
            f && this._destroyEventHandlers();
            this._super(g, a);
            f && (this._initSpecialOptions(), this._initEventHandlers())
        },
        _initSpecialOptions: function() {
            var g = this.options;
            void 0 === g.fileInput ?
                g.fileInput = this.element.is('input[type="file"]') ? this.element : this.element.find('input[type="file"]') : g.fileInput instanceof e || (g.fileInput = e(g.fileInput));
            g.dropZone instanceof e || (g.dropZone = e(g.dropZone));
            g.pasteZone instanceof e || (g.pasteZone = e(g.pasteZone))
        },
        _create: function() {
            e.extend(this.options, e(this.element[0].cloneNode(!1)).data());
            this._initSpecialOptions();
            this._slots = [];
            this._sequence = this._getXHRPromise(!0);
            this._sending = this._active = this._loaded = this._total = 0;
            this._initEventHandlers()
        },
        _destroy: function() {
            this._destroyEventHandlers()
        },
        add: function(g) {
            var a = this;
            g && !this.options.disabled && (g.fileInput && !g.files ? this._getFileInputFiles(g.fileInput).always(function(e) {
                g.files = e;
                a._onAdd(null, g)
            }) : (g.files = e.makeArray(g.files), this._onAdd(null, g)))
        },
        send: function(g) {
            if (g && !this.options.disabled) {
                if (g.fileInput && !g.files) {
                    var a = this,
                        f = e.Deferred(),
                        h = f.promise(),
                        k, l;
                    h.abort = function() {
                        l = !0;
                        if (k) return k.abort();
                        f.reject(null, "abort", "abort");
                        return h
                    };
                    this._getFileInputFiles(g.fileInput).always(function(e) {
                        l ||
                            (g.files = e, k = a._onSend(null, g).then(function(a, e, g) {
                                f.resolve(a, e, g)
                            }, function(a, e, g) {
                                f.reject(a, e, g)
                            }))
                    });
                    return this._enhancePromise(h)
                }
                g.files = e.makeArray(g.files);
                if (g.files.length) return this._onSend(null, g)
            }
            return this._getXHRPromise(!1, g && g.context)
        }
    })
});
jQuery.cookie = function(e, g, a) {
    if (1 < arguments.length && "[object Object]" !== String(g)) {
        a = jQuery.extend({}, a);
        if (null === g || void 0 === g) a.expires = -1;
        if ("number" === typeof a.expires) {
            var f = a.expires,
                h = a.expires = new Date;
            h.setTime(h.getTime() + 1E3 * f)
        }
        g = String(g);
        return document.cookie = [encodeURIComponent(e), "=", a.raw ? g : encodeURIComponent(g), a.expires ? "; expires=" + a.expires.toUTCString() : "", a.path ? "; path=" + a.path : "", a.domain ? "; domain=" + a.domain : "", a.secure ? "; secure" : ""].join("")
    }
    a = g || {};
    h = a.raw ? function(a) {
            return a
        } :
        decodeURIComponent;
    return (f = (new RegExp("(?:^|; )" + encodeURIComponent(e) + "=([^;]*)")).exec(document.cookie)) ? h(f[1]) : null
};
AjaxManager = function() {
    var e;
    return {
        init: function() {
            e = {}
        },
        newCall: function(g) {
            null != e[g.id] && e[g.id].abort();
            var a = g.url,
                f = g.type || "GET",
                h = g.data || void 0,
                k = $.cookie("login_auth");
            k && (a = -1 == a.indexOf("?") ? a + "?" : a + "&", a = a + "login_auth=" + encodeURIComponent(k));
            e[g.id] = $.ajax({
                url: a,
                dataType: "json",
                data: h,
                type: f,
                timeout: 3E4
            });
            e[g.id].didError = !1;
            e[g.id].isRunning = !0;
            e[g.id].error(g.errorFn);
            e[g.id].error(function() {
                e[g.id].didError = !0
            });
            e[g.id].done(g.doneFn);
            e[g.id].always(g.alwaysFn);
            e[g.id].always(function() {
                e[g.id].isRunning = !1
            })
        },
        abortCall: function(g) {
            "undefined" != typeof e[g] && e[g].abort()
        },
        isCallNotRunning: function(g) {
            return "undefined" === typeof e[g] || !e[g].isRunning
        },
        isCallRunning: function(g) {
            return "undefined" !== typeof e[g] && e[g].isRunning
        },
        didCallError: function(g) {
            return "undefined" !== typeof e[g] && e[g].didError
        }
    }
};
(function(e) {
    e.widget("at.modalBehaviorWidget", {
        options: {
            resetContent: !0,
            dismissAble: !0,
            showFn: function() {},
            hideFn: function() {}
        },
        _create: function() {
            this.modal = e(this.element);
            var g = this.modal.find(".modal");
            this.originalContent = this.options.resetContent ? g.html() : ""
        },
        _bindModalEvents: function() {
            var g = this;
            e(document).on("click.atModal touchstart.atModal", function(a) {
                e(a.target).parents().addBack().is(g.modal.find(".modal")) || (g.hideModal())
            });
            e(document).on("keydown.atModal", function(a) {
                27 == a.keyCode && (g.hideModal())
            });
            e(".modal-close", this.modal).on("click", function() {
                g.hideModal()
            }).removeClass("hide")
        },
        showModal: function() {
            e("body").addClass("overlay");
            e(".modal-container").addClass("hide");
            this.modal.removeClass("hide");
            isMobileLayout() && e("html, body").scrollTop(this.modal.offset().top - 10);
            this.options.dismissAble ? this._bindModalEvents() : e(".modal-close", this.modal).addClass("hide");
            this.options.showFn()
        },
        hideModal: function() {
            this.modal.addClass("hide");
            e("body").removeClass("overlay");
            e(document).off("click.atModal touchstart.atModal keydown.atModal orientationchange.atModal");
            this.options.resetContent && this.modal.find(".modal").html(this.originalContent);
            this.options.hideFn()
        }
    })
})(jQuery);
(function(e) {
    e.widget("at.galleryWidget", {
        options: {
            thumbSrcBase: "https://images.addtext.com/images/gallery/thumb",
            imageSrcObject: void 0
        },
        _create: function() {
            this.galleryWidget = e(this.element);
            this.thumbSrcBase = this.options.thumbSrcBase;
            this.imgSrcObject = this.options.imageSrcObject;
            this.imgSrcObject || (this.imgSrcObject = this._loadImgSrcObject());
            for (v in this.imgSrcObject) e("#img-" + v).attr("src", this.thumbSrcBase + "/" + this.imgSrcObject[v][0]);
            this.breadcrumbs = this.galleryWidget.find(".gallery-widget-breadcrumbs");
            this.pagination = this.galleryWidget.find(".gallery-widget-pagination");
            this.pagPrev = this.pagination.find(".pagination-prev");
            this.pagNext = this.pagination.find(".pagination-next");
            this.currList = this.galleryWidget.find(".selected.gallery-widget-list");
            this.numToDisplay = isMobileLayout() ? 4 : 12;
            this.startIndex = 0;
            this._bindEvents()
        },
        _bindEvents: function() {
            this._bindListClickEvents();
            this._bindBreadcrumbEvents();
            this._bindPagination()
        },
        _bindListClickEvents: function() {
            var g = this;
            this.galleryWidget.on("click",
                ".justify-grid-item",
                function(a) {
                    var f = e(a.target).parent(".justify-grid-item").addBack().filter("li");
                    a = g.currList.attr("id").replace("-list", "");
                    if ("categories" !== a) {
                        f.addClass("selected");
                        f = f.find("img").attr("src").replace("/thumb/", "/").replace("_thumb", "_720");
                        var h = "";
                        "memes" === a ? h += "&text1Style=addtext-meme" : "stormfall" === a && (h += "&text1Style=ft-global-logo");
                        a = f.substr(f.lastIndexOf("/") + 1);
                        h += "&_action=gallery_img_" + a + "&_action=gallery_img_category_" + selectedListName;
                        document.location = "/photo/index?bgUrl=" +
                            f + h
                    } else selectedListName = f.attr("data-list"), g._showGalleryList(selectedListName)
                })
        },
        _bindBreadcrumbEvents: function() {
            var g = this;
            this.breadcrumbs.on("click", ".breadcrumb-item", function(a) {
                if (!e(a.target).hasClass("selected")) {
                    var f = e(a.target).attr("data-list");
                    g.startIndex = 0;
                    if ("categories" === f) {
                        var h = g.currList.attr("id").replace("-list", "");
                    }
                    g._showGalleryList(f);
                    f = e(a.target).index();
                    g.breadcrumbs.children().slice(f + 1).remove();
                    e(a.target).addClass("selected")
                }
            })
        },
        _bindPagination: function() {
            var g = this;
            this.pagination.on("click", ".pagination-button", function(a) {
                a = e(a.target).parent(".pagination-button").addBack().filter(".pagination-button");
                var f = g.currList.attr("id").replace("-list", "");
                a.hasClass("disabled") || (g.startIndex -= g.startIndex % g.numToDisplay, a.is(g.pagPrev) ?
                    (g.startIndex -= g.numToDisplay, 0 > g.startIndex && (g.startIndex = 0), 1 == Math.ceil(g.startIndex / g.numToDisplay) + 1 && g.pagPrev.addClass("disabled"), g.pagNext.hasClass("disabled") && g.pagNext.removeClass("disabled")) : a.is(g.pagNext) && (g.startIndex += g.numToDisplay, g.startIndex + g.numToDisplay >= g.imgSrcObject[f].length &&
                        g.pagNext.addClass("disabled"), g.pagPrev.hasClass("disabled") && g.pagPrev.removeClass("disabled")), g._showGalleryList(f))
            })
        },
        _showGalleryList: function(e) {
            this.showGalleryList(e)
        },
        showGalleryList: function(g) {
            var a = this,
                f = e("#" + g + "-list");
            f.is(a.currList) || (a.breadcrumbs.find(".selected").removeClass("selected"), e("<span class='breadcrumb-item selected' data-list='" + g + "'>" + g + "</span>").appendTo(a.breadcrumbs));
            this.currList.addClass("fade-out");
            if ("categories" != g) {
                var h = a.imgSrcObject[g];
                a.numToDisplay =
                    isMobileLayout() ? 4 : 12;
                a.startIndex -= a.startIndex % a.numToDisplay;
                var k = isMobileLayout() ? 2 : 4;
                currPage = Math.max(1, Math.ceil(this.startIndex / this.numToDisplay) + 1);
                for (var l = "", n = this.startIndex; n < this.startIndex + this.numToDisplay && n < h.length; n++) l += "<li class='justify-grid-item'><img src='" + a.thumbSrcBase + h[n] + "'></li> \n\t";
                k = (this.startIndex + this.numToDisplay - n) % k;
                for (n = 0; n < k; n++) l += "<li class='justify-grid-item placeholder'></li> \n\t";
                f.html(l)
            } else this.pagination.addClass("hide"), this.pagPrev.addClass("disabled"),
                this.pagNext.removeClass("disabled");
            setTimeout(function() {
                a.currList.removeClass("selected fade-out");
                f.addClass("selected");
                f.css("opacity", 1);
                a.currList = f;
                "categories" != g && (a.startIndex + a.numToDisplay < h.length || 1 < currPage) && a.pagination.removeClass("hide")
            }, 250)
        },
        _loadImgSrcObject: function() {
            return {
                memes: "bad-luck-brian_thumb.jpg college-freshman_thumb.jpg firstworldproblemsgirl_thumb.jpg forever-alone_thumb.jpg overly-attached-girlfriend_thumb.jpg philosaur_thumb.jpg success-kid_thumb.jpg sudden-clarity-clarence_thumb.jpg".split(" "),
                animals: "animal-17854_thumb.jpg animal-14046_thumb.jpg horse-58375_thumb.jpg cat-57023_thumb.jpg bald-eagle-62834_thumb.jpg animal-19621_thumb.jpg animal-2602_thumb.jpg moose-70254_thumb.jpg animal-72186_thumb.jpg baby-zebra-75885_thumb.jpg bear-79838_thumb.jpg cat-65781_thumb.jpg fuchs-73548_thumb.jpg koala-bear-9960_thumb.jpg adorable-71514_thumb.jpg africa-21115_thumb.jpg dog-2681_thumb.jpg cat-17862_thumb.jpg dog-55206_thumb.jpg flying-54986_thumb.jpg gata-56289_thumb.jpg goat-50290_thumb.jpg horse-80093_thumb.jpg owl-14918_thumb.jpg owl-44236_thumb.jpg owl-50267_thumb.jpg parrot-55293_thumb.jpg raptor-62698_thumb.jpg raven-73179_thumb.jpg sea-pig-44286_thumb.jpg cat-55587_thumb.jpg".split(" "),
                cute: "adorable-71514_thumb.jpg adorable-15949_thumb.jpg adorable-19638_thumb.jpg adorable-71031_thumb.jpg baby-22194_thumb.jpg baby-zebra-75885_thumb.jpg bear-79838_thumb.jpg fuchs-73548_thumb.jpg koala-bear-9960_thumb.jpg".split(" "),
                people: "honor-guard-67636_thumb.jpg adorable-19638_thumb.jpg adorable-71031_thumb.jpg aukland-94142_thumb.jpg astronaut-11080_thumb.jpg audrey-hepburn-63115_thumb.jpg baby-22194_thumb.jpg corcovado-51320_thumb.jpg fog-79456_thumb.jpg rocket-launch-67646_thumb.jpg sea-79606_thumb.jpg soldiers-1002_thumb.jpg submachine-gun-62902_thumb.jpg tiger-woods-79694_thumb.jpg utah-95032_thumb.jpg weld-67640_thumb.jpg wine-38285_thumb.jpg".split(" "),
                nature: "beautiful-66019_thumb.jpg abendstimmung-51794_thumb.jpg abstract-2100_thumb.jpg abstract-2384_thumb.jpg almond-blossom-5378_thumb.jpg andean-74781_thumb.jpg antarctica-63056_thumb.jpg atlanta-70847_thumb.jpg aurora-69204_thumb.jpg austria-66389_thumb.jpg beach-15689_thumb.jpg beach-74755_thumb.jpg beautiful-69765_thumb.jpg blue-69764_thumb.jpg blue-69772_thumb.jpg boat-19877_thumb.jpg bora-bora-62863_thumb.jpg bouquet-76363_thumb.jpg bridal-veil-fall-52450_thumb.jpg bridal-veil-fall-52451_thumb.jpg caribbean-17009_thumb.jpg caribbean-68105_thumb.jpg ccs-iceberg-780x469_thumb.jpg creek-21749_thumb.jpg daisy-3416_thumb.jpg daisy-75190_thumb.jpg dandelion-71003_thumb.jpg earth-11015_thumb.jpg earth-11047_thumb.jpg eagle-nebula-11174_thumb.jpg earth-65050_thumb.jpg flower-71954_thumb.jpg flowers-79636_thumb.jpg forest-22118_thumb.jpg forest-72206_thumb.jpg france-77295_thumb.jpg frankfurt-69594_thumb.jpg fruits-82524_thumb.jpg green-74133_thumb.jpg hawaii-69575_thumb.jpg hayden-valley-63564_thumb.jpg honduras-52329_thumb.jpg india-337_thumb.jpg island-68081_thumb.jpg joshua-tree-national-park-74399_thumb.jpg lake-powell-50681_thumb.jpg mount-72366_thumb.jpg nature-69493_thumb.jpg oleander-2771_thumb.jpg painted-69604_thumb.jpg palm-trees-59_thumb.jpg philadelphia-70850_thumb.jpg plant-66809_thumb.jpg poppy-63755_thumb.jpg rainbow-bridge-68827_thumb.jpg river-72317_thumb.jpg roses-66527_thumb.jpg schaffhausen-66012_thumb.jpg see-76899_thumb.jpg star-clusters-74052_thumb.jpg strawberry-7649_thumb.jpg summer-69557_thumb.jpg sun-75965_thumb.jpg sunbeam-76825_thumb.jpg sunflower-76068_thumb.jpg sunset-20398_thumb.jpg sunset-64123_thumb.jpg sunset-68049_thumb.jpg sunset-69596_thumb.jpg sunset-76207_thumb.jpg tree-66465_thumb.jpg tree-frog-69813_thumb.jpg tulips-47399_thumb.jpg tulips-65036_thumb.jpg tyrol-69661_thumb.jpg yemeni-81175_thumb.jpg".split(" "),
                "abstract": "art-69727_thumb.jpg abstract-21613_thumb.jpg abstract-21851_thumb.jpg abstract-22122_thumb.jpg abstract-2384_thumb.jpg abstract-71282_thumb.jpg aircraft-67566_thumb.jpg background-15757_thumb.jpg background-78451_thumb.jpg bkg-1_thumb.jpg bkg-2_thumb.jpg bkg-5_thumb.jpg bkg-7_thumb.jpg bkg-8_thumb.jpg bkl-green-bokeh-background-1938_thumb.jpg bkl-watercolor-circles-2277_thumb.jpg blur-background10_thumb.jpg blur-background11_thumb.jpg BlurredBackground_10_thumb.jpg BlurredBackground_1_thumb.jpg BlurredBackground_3_thumb.jpg BlurredBackground_4_thumb.jpg BlurredBackground_5_thumb.jpg BlurredBackground_8_thumb.jpg boards-75462_thumb.jpg boat-19877_thumb.jpg clock-70182_thumb.jpg coffee-51309_thumb.jpg coffee-67625_thumb.jpg Elegant_Background-10_thumb.jpg Elegant_Background-11_thumb.jpg Elegant_Background-12_thumb.jpg Elegant_Background-13_thumb.jpg Elegant_Background-14_thumb.jpg Elegant_Background-15_thumb.jpg Elegant_Background-16_thumb.jpg Elegant_Background-17_thumb.jpg Elegant_Background-1_thumb.jpg Elegant_Background-2_thumb.jpg Elegant_Background-3_thumb.jpg Elegant_Background-4_thumb.jpg Elegant_Background-5_thumb.jpg Elegant_Background-6_thumb.jpg Elegant_Background-8_thumb.jpg Elegant_Background-9_thumb.jpg fire-69149_thumb.jpg flying-54986_thumb.jpg fog-79456_thumb.jpg fruits-82524_thumb.jpg graphic-69999_thumb.jpg green-74133_thumb.jpg green-75180_thumb.jpg guitar-56915_thumb.jpg japan-65380_thumb.jpg music-67415_thumb.jpg nature-69493_thumb.jpg ntbkg-bigwave_thumb.jpg ntbkg-clouds_thumb.jpg ntbkg-meteorshower_thumb.jpg ntbkg-sandstorm_thumb.jpg ntbkg-solarclipse2_thumb.jpg ntbkg-solareclipse_thumb.jpg ntbkg-sunset_thumb.jpg ntbkg-waves_thumb.jpg padlock-76866_thumb.jpg pattern-79645_thumb.jpg plant-66809_thumb.jpg pwd-blurred-17_thumb.jpg pwd-blurred-18_thumb.jpg pwd-blurred-1_thumb.jpg pwd-blurred-23_thumb.jpg pwd-blurred-27_thumb.jpg pwd-blurred-28_thumb.jpg pwd-blurred-30_thumb.jpg pwd-blurred-32_thumb.jpg pwd-blurred-4_thumb.jpg red-75254_thumb.jpg roses-66527_thumb.jpg salt-51973_thumb.jpg smoke-69124_thumb.jpg snow-69830_thumb.jpg stained-glass-63204_thumb.jpg stairs-8443_thumb.jpg star-clusters-67616_thumb.jpg star-clusters-74052_thumb.jpg stones-69446_thumb.jpg sunbeam-76825_thumb.jpg sunflower-76068_thumb.jpg wine-38285_thumb.jpg wood-65676_thumb.jpg yemeni-81175_thumb.jpg".split(" "),
                stormfall: "games/stormfall/oberon_thumb.jpg games/stormfall/archer_thumb.jpg games/stormfall/bear_thumb.jpg games/stormfall/castles_thumb.jpg games/stormfall/chimera_thumb.jpg games/stormfall/dark-paladin_thumb.jpg games/stormfall/demon_thumb.jpg games/stormfall/dragon_thumb.jpg games/stormfall/firegiant_thumb.jpg games/stormfall/griffin_thumb.jpg games/stormfall/huntress_thumb.jpg games/stormfall/knight_thumb.jpg games/stormfall/niathi_thumb.jpg games/stormfall/nomad_thumb.jpg games/stormfall/necromancer_thumb.jpg games/stormfall/pathfinder_thumb.jpg games/stormfall/reaver_thumb.jpg games/stormfall/shades_thumb.jpg games/stormfall/spy_thumb.jpg games/stormfall/stormfall2_thumb.jpg games/stormfall/stormfall3_thumb.jpg games/stormfall/stormfall_thumb.jpg games/stormfall/wyvern_thumb.jpg".split(" ")
            }
        }
    })
})(jQuery);
(function(e) {
    function g(a) {
        if ("string" === typeof a.data) {
            var f = a.handler,
                g = a.data.toLowerCase().split(" "),
                k = "text password number email url range date month week time datetime datetime-local search color".split(" ");
            a.handler = function(a) {
                if (this === a.target || !(/textarea|select/i.test(a.target.nodeName) || -1 < e.inArray(a.target.type, k))) {
                    var h = "keypress" !== a.type && e.hotkeys.specialKeys[a.which],
                        l = String.fromCharCode(a.which).toLowerCase(),
                        r = "",
                        u = {};
                    a.altKey && "alt" !== h && (r += "alt+");
                    a.ctrlKey && "ctrl" !==
                        h && (r += "ctrl+");
                    a.metaKey && !a.ctrlKey && "meta" !== h && (r += "meta+");
                    a.shiftKey && "shift" !== h && (r += "shift+");
                    h ? u[r + h] = !0 : (u[r + l] = !0, u[r + e.hotkeys.shiftNums[l]] = !0, "shift+" === r && (u[e.hotkeys.shiftNums[l]] = !0));
                    h = 0;
                    for (l = g.length; h < l; h++)
                        if (u[g[h]]) return f.apply(this, arguments)
                }
            }
        }
    }
    e.hotkeys = {
        version: "0.8",
        specialKeys: {
            8: "backspace",
            9: "tab",
            13: "return",
            16: "shift",
            17: "ctrl",
            18: "alt",
            19: "pause",
            20: "capslock",
            27: "esc",
            32: "space",
            33: "pageup",
            34: "pagedown",
            35: "end",
            36: "home",
            37: "left",
            38: "up",
            39: "right",
            40: "down",
            45: "insert",
            46: "del",
            96: "0",
            97: "1",
            98: "2",
            99: "3",
            100: "4",
            101: "5",
            102: "6",
            103: "7",
            104: "8",
            105: "9",
            106: "*",
            107: "+",
            109: "-",
            110: ".",
            111: "/",
            112: "f1",
            113: "f2",
            114: "f3",
            115: "f4",
            116: "f5",
            117: "f6",
            118: "f7",
            119: "f8",
            120: "f9",
            121: "f10",
            122: "f11",
            123: "f12",
            144: "numlock",
            145: "scroll",
            191: "/",
            224: "meta"
        },
        shiftNums: {
            "`": "~",
            1: "!",
            2: "@",
            3: "#",
            4: "$",
            5: "%",
            6: "^",
            7: "&",
            8: "*",
            9: "(",
            0: ")",
            "-": "_",
            "=": "+",
            ";": ": ",
            "'": '"',
            ",": "<",
            ".": ">",
            "/": "?",
            "\\": "|"
        }
    };
    e.each(["keydown", "keyup", "keypress"], function() {
        e.event.special[this] = {
            add: g
        }
    })
})(jQuery);
(function(e, g, a, f) {
    function h(a, e, f) {
        return setTimeout(r(a, f), e)
    }

    function k(a, e, f) {
        return Array.isArray(a) ? (l(a, f[e], f), !0) : !1
    }

    function l(a, e, g) {
        var h;
        if (a)
            if (a.forEach) a.forEach(e, g);
            else if (a.length !== f)
            for (h = 0; h < a.length;) e.call(g, a[h], h, a), h++;
        else
            for (h in a) a.hasOwnProperty(h) && e.call(g, a[h], h, a)
    }

    function n(a, f, g) {
        var h = "DEPRECATED METHOD: " + f + "\n" + g + " AT \n";
        return function() {
            var f = Error("get-stack-trace");
            f = f && f.stack ? f.stack.replace(/^[^\(]+?[\n$]/gm, "").replace(/^\s+at\s+/gm, "").replace(/^Object.<anonymous>\s*\(/gm,
                "{anonymous}()@") : "Unknown Stack Trace";
            var g = e.console && (e.console.warn || e.console.log);
            g && g.call(e.console, h, f);
            return a.apply(this, arguments)
        }
    }

    function p(a, e, f) {
        e = e.prototype;
        var g = a.prototype = Object.create(e);
        g.constructor = a;
        g._super = e;
        f && ia(g, f)
    }

    function r(a, e) {
        return function() {
            return a.apply(e, arguments)
        }
    }

    function u(a, e) {
        console.log("TES 5");
        return "function" == typeof a ? a.apply(e ? e[0] || f : f, e) : a
    }

    function y(a, e, f) {
        l(D(e), function(e) {
            a.addEventListener(e, f, !1)
        })
    }

    function w(a, e, f) {
        l(D(e), function(e) {
            a.removeEventListener(e,
                f, !1)
        })
    }

    function C(a, e) {
        for (; a;) {
            if (a == e) return !0;
            a = a.parentNode
        }
        return !1
    }

    function D(a) {
        return a.trim().split(/\s+/g)
    }

    function K(a, e, f) {
        if (a.indexOf && !f) return a.indexOf(e);
        for (var g = 0; g < a.length;) {
            if (f && a[g][f] == e || !f && a[g] === e) return g;
            g++
        }
        return -1
    }

    function L(a) {
        return Array.prototype.slice.call(a, 0)
    }

    function F(a, e, f) {
        for (var g = [], h = [], k = 0; k < a.length;) {
            var l = e ? a[k][e] : a[k];
            0 > K(h, l) && g.push(a[k]);
            h[k] = l;
            k++
        }
        f && (g = e ? g.sort(function(a, f) {
            return a[e] > f[e]
        }) : g.sort());
        return g
    }

    function U(a, e) {
        console.log("TES 6");
        for (var g,
                h = e[0].toUpperCase() + e.slice(1), k = 0; k < ha.length;) {
            g = (g = ha[k]) ? g + h : e;
            if (g in a) return g;
            k++
        }
        return f
    }

    function B(a) {
        a = a.ownerDocument || a;
        return a.defaultView || a.parentWindow || e
    }

    function aa(a, e) {
        var f = this;
        this.manager = a;
        this.callback = e;
        this.element = a.element;
        this.target = a.options.inputTarget;
        this.domHandler = function(e) {
            u(a.options.enable, [a]) && f.handler(e)
        };
        this.init()
    }

    function ka(a) {
        var e = a.options.inputClass;
        return new(e ? e : Ra ? Ia : Pa ? la : Da ? ca : Ea)(a, ja)
    }

    function ja(a, e, g) {
        var h = g.pointers.length,
            k =
            g.changedPointers.length;
        var l = e & 1 && 0 === h - k;
        g.isFirst = !!l;
        g.isFinal = !!(e & 12 && 0 === h - k);
        l && (a.session = {});
        g.eventType = e;
        e = a.session;
        h = g.pointers;
        k = h.length;
        e.firstInput || (e.firstInput = va(g));
        1 < k && !e.firstMultiple ? e.firstMultiple = va(g) : 1 === k && (e.firstMultiple = !1);
        l = e.firstInput;
        var m = (k = e.firstMultiple) ? k.center : l.center;
        var n = g.center = S(h);
        g.timeStamp = Fa();
        g.deltaTime = g.timeStamp - l.timeStamp;
        g.angle = Ha(m, n);
        g.distance = qa(m, n);
        l = g.center;
        m = e.offsetDelta || {};
        n = e.prevDelta || {};
        var z = e.prevInput || {};
        if (1 ===
            g.eventType || 4 === z.eventType) n = e.prevDelta = {
            x: z.deltaX || 0,
            y: z.deltaY || 0
        }, m = e.offsetDelta = {
            x: l.x,
            y: l.y
        };
        g.deltaX = n.x + (l.x - m.x);
        g.deltaY = n.y + (l.y - m.y);
        g.offsetDirection = Z(g.deltaX, g.deltaY);
        m = g.deltaTime;
        l = g.deltaX / m || 0;
        m = g.deltaY / m || 0;
        g.overallVelocityX = l;
        g.overallVelocityY = m;
        g.overallVelocity = wa(l) > wa(m) ? l : m;
        k ? (l = k.pointers, l = qa(h[0], h[1], fa) / qa(l[0], l[1], fa)) : l = 1;
        g.scale = l;
        k ? (k = k.pointers, h = Ha(h[1], h[0], fa) + Ha(k[1], k[0], fa)) : h = 0;
        g.rotation = h;
        g.maxPointers = e.prevInput ? g.pointers.length > e.prevInput.maxPointers ?
            g.pointers.length : e.prevInput.maxPointers : g.pointers.length;
        m = e.lastInterval || g;
        h = g.timeStamp - m.timeStamp;
        8 != g.eventType && (25 < h || m.velocity === f) ? (l = g.deltaX - m.deltaX, m = g.deltaY - m.deltaY, n = l / h || 0, z = m / h || 0, h = n, k = z, n = wa(n) > wa(z) ? n : z, l = Z(l, m), e.lastInterval = g) : (n = m.velocity, h = m.velocityX, k = m.velocityY, l = m.direction);
        g.velocity = n;
        g.velocityX = h;
        g.velocityY = k;
        g.direction = l;
        e = a.element;
        C(g.srcEvent.target, e) && (e = g.srcEvent.target);
        g.target = e;
        a.emit("hammer.input", g);
        a.recognize(g);
        a.session.prevInput = g
    }

    function va(a) {
        for (var e = [], f = 0; f < a.pointers.length;) e[f] = {
            clientX: m(a.pointers[f].clientX),
            clientY: m(a.pointers[f].clientY)
        }, f++;
        return {
            timeStamp: Fa(),
            pointers: e,
            center: S(e),
            deltaX: a.deltaX,
            deltaY: a.deltaY
        }
    }

    function S(a) {
        var e = a.length;
        if (1 === e) return {
            x: m(a[0].clientX),
            y: m(a[0].clientY)
        };
        for (var f = 0, g = 0, h = 0; h < e;) f += a[h].clientX, g += a[h].clientY, h++;
        return {
            x: m(f / e),
            y: m(g / e)
        }
    }

    function Z(a, e) {
        return a === e ? 1 : wa(a) >= wa(e) ? 0 > a ? 2 : 4 : 0 > e ? 8 : 16
    }

    function qa(a, e, f) {
        f || (f = Na);
        var g = e[f[0]] - a[f[0]];
        a = e[f[1]] - a[f[1]];
        return Math.sqrt(g *
            g + a * a)
    }

    function Ha(a, e, f) {
        f || (f = Na);
        return 180 * Math.atan2(e[f[1]] - a[f[1]], e[f[0]] - a[f[0]]) / Math.PI
    }

    function Ea() {
        this.evEl = Q;
        this.evWin = Qa;
        this.pressed = !1;
        aa.apply(this, arguments)
    }

    function Ia() {
        this.evEl = Aa;
        this.evWin = z;
        aa.apply(this, arguments);
        this.store = this.manager.session.pointerEvents = []
    }

    function La() {
        this.evTarget = "touchstart";
        this.evWin = "touchstart touchmove touchend touchcancel";
        this.started = !1;
        aa.apply(this, arguments)
    }

    function la() {
        this.evTarget = za;
        this.targetIds = {};
        aa.apply(this, arguments)
    }

    function O(a, e) {
        var f = L(a.touches),
            g = this.targetIds;
        if (e & 3 && 1 === f.length) return g[f[0].identifier] = !0, [f, f];
        a = L(a.changedTouches);
        var h = [],
            k = this.target;
        var l = f.filter(function(a) {
            return C(a.target, k)
        });
        if (1 === e)
            for (f = 0; f < l.length;) g[l[f].identifier] = !0, f++;
        for (f = 0; f < a.length;) g[a[f].identifier] && h.push(a[f]), e & 12 && delete g[a[f].identifier], f++;
        if (h.length) return [F(l.concat(h), "identifier", !0), h]
    }

    function ca() {
        aa.apply(this, arguments);
        var a = r(this.handler, this);
        this.touch = new la(this.manager, a);
        this.mouse =
            new Ea(this.manager, a);
        this.primaryTouch = null;
        this.lastTouches = []
    }

    function P(a) {
        a = a.changedPointers[0];
        if (a.identifier === this.primaryTouch) {
            var e = {
                x: a.clientX,
                y: a.clientY
            };
            this.lastTouches.push(e);
            var f = this.lastTouches;
            setTimeout(function() {
                var a = f.indexOf(e); - 1 < a && f.splice(a, 1)
            }, 2500)
        }
    }

    function M(a, e) {
        this.manager = a;
        this.set(e)
    }

    function ba(a) {
        if (-1 < a.indexOf("none")) return "none";
        var e = -1 < a.indexOf("pan-x"),
            f = -1 < a.indexOf("pan-y");
        return e && f ? "none" : e || f ? e ? "pan-x" : "pan-y" : -1 < a.indexOf("manipulation") ?
            "manipulation" : "auto"
    }

    function da(a) {
        this.options = ia({}, this.defaults, a || {});
        this.id = Ja++;
        this.manager = null;
        a = this.options.enable;
        this.options.enable = a === f ? !0 : a;
        this.state = 1;
        this.simultaneous = {};
        this.requireFail = []
    }

    function sa(a) {
        return a & 16 ? "cancel" : a & 8 ? "end" : a & 4 ? "move" : a & 2 ? "start" : ""
    }

    function Va(a) {
        return 16 == a ? "down" : 8 == a ? "up" : 2 == a ? "left" : 4 == a ? "right" : ""
    }

    function A(a, e) {
        return (e = e.manager) ? e.get(a) : a
    }

    function ma() {
        da.apply(this, arguments)
    }

    function Ma() {
        ma.apply(this, arguments);
        this.pY = this.pX =
            null
    }

    function J() {
        ma.apply(this, arguments)
    }

    function ea() {
        da.apply(this, arguments);
        this._input = this._timer = null
    }

    function I() {
        ma.apply(this, arguments)
    }

    function ta() {
        ma.apply(this, arguments)
    }

    function E() {
        da.apply(this, arguments);
        this.pCenter = this.pTime = !1;
        this._input = this._timer = null;
        this.count = 0
    }

    function na(a, e) {
        e = e || {};
        var g = e.recognizers;
        e.recognizers = g === f ? na.defaults.preset : g;
        return new xa(a, e)
    }

    function xa(a, e) {
        this.options = ia({}, na.defaults, e || {});
        this.options.inputTarget = this.options.inputTarget ||
            a;
        this.handlers = {};
        this.session = {};
        this.recognizers = [];
        this.oldCssProps = {};
        this.element = a;
        this.input = ka(this);
        this.touchAction = new M(this, this.options.touchAction);
        oa(this, !0);
        l(this.options.recognizers, function(a) {
            var e = this.add(new a[0](a[1]));
            a[2] && e.recognizeWith(a[2]);
            a[3] && e.requireFailure(a[3])
        }, this)
    }

    function oa(a, e) {
        var f = a.element;
        if (f.style) {
            var g;
            l(a.options.cssProps, function(h, k) {
                g = U(f.style, k);
                e ? (a.oldCssProps[g] = f.style[g], f.style[g] = h) : f.style[g] = a.oldCssProps[g] || ""
            });
            e || (a.oldCssProps = {})
        }
    }

    function R(a, e) {
        var f = g.createEvent("Event");
        f.initEvent(a, !0, !0);
        f.gesture = e;
        e.target.dispatchEvent(f)
    }
    var ha = " webkit Moz MS ms o".split(" "),
        H = g.createElement("div"),
        m = Math.round,
        wa = Math.abs,
        Fa = Date.now;
    var ia = "function" !== typeof Object.assign ? function(a) {
        if (a === f || null === a) throw new TypeError("Cannot convert undefined or null to object");
        for (var e = Object(a), g = 1; g < arguments.length; g++) {
            var h = arguments[g];
            if (h !== f && null !== h)
                for (var k in h) h.hasOwnProperty(k) && (e[k] = h[k])
        }
        return e
    } : Object.assign;
    var pa = n(function(a, e, g) {
            for (var h = Object.keys(e), k = 0; k < h.length;) {
                if (!g || g && a[h[k]] === f) a[h[k]] = e[h[k]];
                k++
            }
            return a
        }, "extend", "Use `assign`."),
        Ca = n(function(a, e) {
            return pa(a, e, !0)
        }, "merge", "Use `assign`."),
        Ja = 1,
        Ya = /mobile|tablet|ip(ad|hone|od)|android/i,
        Da = "ontouchstart" in e,
        Ra = U(e, "PointerEvent") !== f,
        Pa = Da && Ya.test(navigator.userAgent),
        Na = ["x", "y"],
        fa = ["clientX", "clientY"];
    aa.prototype = {
        handler: function() {},
        init: function() {
            this.evEl && y(this.element, this.evEl, this.domHandler);
            this.evTarget && y(this.target,
                this.evTarget, this.domHandler);
            this.evWin && y(B(this.element), this.evWin, this.domHandler)
        },
        destroy: function() {
            this.evEl && w(this.element, this.evEl, this.domHandler);
            this.evTarget && w(this.target, this.evTarget, this.domHandler);
            this.evWin && w(B(this.element), this.evWin, this.domHandler)
        }
    };
    var Ua = {
            mousedown: 1,
            mousemove: 2,
            mouseup: 4
        },
        Q = "mousedown",
        Qa = "mousemove mouseup";
    p(Ea, aa, {
        handler: function(a) {
            var e = Ua[a.type];
            e & 1 && 0 === a.button && (this.pressed = !0);
            e & 2 && 1 !== a.which && (e = 4);
            this.pressed && (e & 4 && (this.pressed = !1), this.callback(this.manager, e, {
                pointers: [a],
                changedPointers: [a],
                pointerType: "mouse",
                srcEvent: a
            }))
        }
    });
    var G = {
            pointerdown: 1,
            pointermove: 2,
            pointerup: 4,
            pointercancel: 8,
            pointerout: 8
        },
        Ga = {
            2: "touch",
            3: "pen",
            4: "mouse",
            5: "kinect"
        },
        Aa = "pointerdown",
        z = "pointermove pointerup pointercancel";
    e.MSPointerEvent && !e.PointerEvent && (Aa = "MSPointerDown", z = "MSPointerMove MSPointerUp MSPointerCancel");
    p(Ia, aa, {
        handler: function(a) {
            var e = this.store,
                f = !1,
                g = a.type.toLowerCase().replace("ms", "");
            g = G[g];
            var h = Ga[a.pointerType] ||
                a.pointerType,
                k = "touch" == h,
                l = K(e, a.pointerId, "pointerId");
            g & 1 && (0 === a.button || k) ? 0 > l && (e.push(a), l = e.length - 1) : g & 12 && (f = !0);
            0 > l || (e[l] = a, this.callback(this.manager, g, {
                pointers: e,
                changedPointers: [a],
                pointerType: h,
                srcEvent: a
            }), f && e.splice(l, 1))
        }
    });
    var T = {
        touchstart: 1,
        touchmove: 2,
        touchend: 4,
        touchcancel: 8
    };
    p(La, aa, {
        handler: function(a) {
            var e = T[a.type];
            1 === e && (this.started = !0);
            if (this.started) {
                var f = L(a.touches);
                var g = L(a.changedTouches);
                e & 12 && (f = F(f.concat(g), "identifier", !0));
                f = [f, g];
                e & 12 && 0 === f[0].length -
                    f[1].length && (this.started = !1);
                this.callback(this.manager, e, {
                    pointers: f[0],
                    changedPointers: f[1],
                    pointerType: "touch",
                    srcEvent: a
                })
            }
        }
    });
    var X = {
            touchstart: 1,
            touchmove: 2,
            touchend: 4,
            touchcancel: 8
        },
        za = "touchstart touchmove touchend touchcancel";
    p(la, aa, {
        handler: function(a) {
            var e = X[a.type],
                f = O.call(this, a, e);
            f && this.callback(this.manager, e, {
                pointers: f[0],
                changedPointers: f[1],
                pointerType: "touch",
                srcEvent: a
            })
        }
    });
    p(ca, aa, {
        handler: function(a, e, f) {
            var g = "mouse" == f.pointerType;
            if (!(g && f.sourceCapabilities && f.sourceCapabilities.firesTouchEvents)) {
                if ("touch" ==
                    f.pointerType) e & 1 ? (this.primaryTouch = f.changedPointers[0].identifier, P.call(this, f)) : e & 12 && P.call(this, f);
                else {
                    if (g) a: {
                        g = f.srcEvent.clientX;
                        for (var h = f.srcEvent.clientY, k = 0; k < this.lastTouches.length; k++) {
                            var l = this.lastTouches[k],
                                m = Math.abs(h - l.y);
                            if (25 >= Math.abs(g - l.x) && 25 >= m) {
                                g = !0;
                                break a
                            }
                        }
                        g = !1
                    }
                    if (g) return
                }
                this.callback(a, e, f)
            }
        },
        destroy: function() {
            this.touch.destroy();
            this.mouse.destroy()
        }
    });
    var Oa = U(H.style, "touchAction"),
        Y = Oa !== f,
        Sa = function() {
            if (!Y) return !1;
            var a = {},
                f = e.CSS && e.CSS.supports;
            "auto;manipulation;pan-y;pan-x;pan-x pan-y;none".split(";").forEach(function(g) {
                a[g] =
                    f ? e.CSS.supports("touch-action", g) : !0
            });
            return a
        }();
    M.prototype = {
        set: function(a) {
            "compute" == a && (a = this.compute());
            Y && this.manager.element.style && Sa[a] && (this.manager.element.style[Oa] = a);
            this.actions = a.toLowerCase().trim()
        },
        update: function() {
            this.set(this.manager.options.touchAction)
        },
        compute: function() {
            var a = [];
            l(this.manager.recognizers, function(e) {
                u(e.options.enable, [e]) && (a = a.concat(e.getTouchAction()))
            });
            return ba(a.join(" "))
        },
        preventDefaults: function(a) {
            var e = a.srcEvent,
                f = a.offsetDirection;
            if (this.manager.session.prevented) e.preventDefault();
            else {
                var g = this.actions,
                    h = -1 < g.indexOf("none") && !Sa.none,
                    k = -1 < g.indexOf("pan-y") && !Sa["pan-y"];
                g = -1 < g.indexOf("pan-x") && !Sa["pan-x"];
                if (h) {
                    var l = 2 > a.distance,
                        m = 250 > a.deltaTime;
                    if (1 === a.pointers.length && l && m) return
                }
                if (!g || !k)
                    if (h || k && f & 6 || g && f & 24) return this.preventSrc(e)
            }
        },
        preventSrc: function(a) {
            this.manager.session.prevented = !0;
            a.preventDefault()
        }
    };
    da.prototype = {
        defaults: {},
        set: function(a) {
            ia(this.options, a);
            this.manager && this.manager.touchAction.update();
            return this
        },
        recognizeWith: function(a) {
            if (k(a, "recognizeWith", this)) return this;
            var e = this.simultaneous;
            a = A(a, this);
            e[a.id] || (e[a.id] = a, a.recognizeWith(this));
            return this
        },
        dropRecognizeWith: function(a) {
            if (k(a, "dropRecognizeWith", this)) return this;
            a = A(a, this);
            delete this.simultaneous[a.id];
            return this
        },
        requireFailure: function(a) {
            if (k(a, "requireFailure", this)) return this;
            var e = this.requireFail;
            a = A(a, this); - 1 === K(e, a) && (e.push(a), a.requireFailure(this));
            return this
        },
        dropRequireFailure: function(a) {
            if (k(a,
                    "dropRequireFailure", this)) return this;
            a = A(a, this);
            a = K(this.requireFail, a); - 1 < a && this.requireFail.splice(a, 1);
            return this
        },
        hasRequireFailures: function() {
            return 0 < this.requireFail.length
        },
        canRecognizeWith: function(a) {
            return !!this.simultaneous[a.id]
        },
        emit: function(a) {
            function e(e) {
                f.manager.emit(e, a)
            }
            var f = this,
                g = this.state;
            8 > g && e(f.options.event + sa(g));
            e(f.options.event);
            a.additionalEvent && e(a.additionalEvent);
            8 <= g && e(f.options.event + sa(g))
        },
        tryEmit: function(a) {
            if (this.canEmit()) return this.emit(a);
            this.state = 32
        },
        canEmit: function() {
            for (var a = 0; a < this.requireFail.length;) {
                if (!(this.requireFail[a].state & 33)) return !1;
                a++
            }
            return !0
        },
        recognize: function(a) {
            a = ia({}, a);
            u(this.options.enable, [this, a]) ? (this.state & 56 && (this.state = 1), this.state = this.process(a), this.state & 30 && this.tryEmit(a)) : (this.reset(), this.state = 32)
        },
        process: function(a) {},
        getTouchAction: function() {},
        reset: function() {}
    };
    p(ma, da, {
        defaults: {
            pointers: 1
        },
        attrTest: function(a) {
            var e = this.options.pointers;
            return 0 === e || a.pointers.length ===
                e
        },
        process: function(a) {
            var e = this.state,
                f = a.eventType,
                g = e & 6;
            a = this.attrTest(a);
            return g && (f & 8 || !a) ? e | 16 : g || a ? f & 4 ? e | 8 : e & 2 ? e | 4 : 2 : 32
        }
    });
    p(Ma, ma, {
        defaults: {
            event: "pan",
            threshold: 10,
            pointers: 1,
            direction: 30
        },
        getTouchAction: function() {
            var a = this.options.direction,
                e = [];
            a & 6 && e.push("pan-y");
            a & 24 && e.push("pan-x");
            return e
        },
        directionTest: function(a) {
            var e = this.options,
                f = !0,
                g = a.distance,
                h = a.direction,
                k = a.deltaX,
                l = a.deltaY;
            h & e.direction || (e.direction & 6 ? (h = 0 === k ? 1 : 0 > k ? 2 : 4, f = k != this.pX, g = Math.abs(a.deltaX)) : (h =
                0 === l ? 1 : 0 > l ? 8 : 16, f = l != this.pY, g = Math.abs(a.deltaY)));
            a.direction = h;
            return f && g > e.threshold && h & e.direction
        },
        attrTest: function(a) {
            return ma.prototype.attrTest.call(this, a) && (this.state & 2 || !(this.state & 2) && this.directionTest(a))
        },
        emit: function(a) {
            this.pX = a.deltaX;
            this.pY = a.deltaY;
            var e = Va(a.direction);
            e && (a.additionalEvent = this.options.event + e);
            this._super.emit.call(this, a)
        }
    });
    p(J, ma, {
        defaults: {
            event: "pinch",
            threshold: 0,
            pointers: 2
        },
        getTouchAction: function() {
            return ["none"]
        },
        attrTest: function(a) {
            return this._super.attrTest.call(this,
                a) && (Math.abs(a.scale - 1) > this.options.threshold || this.state & 2)
        },
        emit: function(a) {
            1 !== a.scale && (a.additionalEvent = this.options.event + (1 > a.scale ? "in" : "out"));
            this._super.emit.call(this, a)
        }
    });
    p(ea, da, {
        defaults: {
            event: "press",
            pointers: 1,
            time: 251,
            threshold: 9
        },
        getTouchAction: function() {
            return ["auto"]
        },
        process: function(a) {
            var e = this.options,
                f = a.pointers.length === e.pointers,
                g = a.distance < e.threshold,
                k = a.deltaTime > e.time;
            this._input = a;
            if (!g || !f || a.eventType & 12 && !k) this.reset();
            else if (a.eventType & 1) this.reset(),
                this._timer = h(function() {
                    this.state = 8;
                    this.tryEmit()
                }, e.time, this);
            else if (a.eventType & 4) return 8;
            return 32
        },
        reset: function() {
            clearTimeout(this._timer)
        },
        emit: function(a) {
            8 === this.state && (a && a.eventType & 4 ? this.manager.emit(this.options.event + "up", a) : (this._input.timeStamp = Fa(), this.manager.emit(this.options.event, this._input)))
        }
    });
    p(I, ma, {
        defaults: {
            event: "rotate",
            threshold: 0,
            pointers: 2
        },
        getTouchAction: function() {
            return ["none"]
        },
        attrTest: function(a) {
            return this._super.attrTest.call(this, a) && (Math.abs(a.rotation) >
                this.options.threshold || this.state & 2)
        }
    });
    p(ta, ma, {
        defaults: {
            event: "swipe",
            threshold: 10,
            velocity: .3,
            direction: 30,
            pointers: 1
        },
        getTouchAction: function() {
            return Ma.prototype.getTouchAction.call(this)
        },
        attrTest: function(a) {
            var e = this.options.direction;
            if (e & 30) var f = a.overallVelocity;
            else e & 6 ? f = a.overallVelocityX : e & 24 && (f = a.overallVelocityY);
            return this._super.attrTest.call(this, a) && e & a.offsetDirection && a.distance > this.options.threshold && a.maxPointers == this.options.pointers && wa(f) > this.options.velocity &&
                a.eventType & 4
        },
        emit: function(a) {
            var e = Va(a.offsetDirection);
            e && this.manager.emit(this.options.event + e, a);
            this.manager.emit(this.options.event, a)
        }
    });
    p(E, da, {
        defaults: {
            event: "tap",
            pointers: 1,
            taps: 1,
            interval: 300,
            time: 250,
            threshold: 9,
            posThreshold: 10
        },
        getTouchAction: function() {
            return ["manipulation"]
        },
        process: function(a) {
            var e = this.options,
                f = a.pointers.length === e.pointers,
                g = a.distance < e.threshold,
                k = a.deltaTime < e.time;
            this.reset();
            if (a.eventType & 1 && 0 === this.count) return this.failTimeout();
            if (g && k && f) {
                if (4 !=
                    a.eventType) return this.failTimeout();
                f = this.pTime ? a.timeStamp - this.pTime < e.interval : !0;
                g = !this.pCenter || qa(this.pCenter, a.center) < e.posThreshold;
                this.pTime = a.timeStamp;
                this.pCenter = a.center;
                this.count = g && f ? this.count + 1 : 1;
                this._input = a;
                if (0 === this.count % e.taps) return this.hasRequireFailures() ? (this._timer = h(function() {
                    this.state = 8;
                    this.tryEmit()
                }, e.interval, this), 2) : 8
            }
            return 32
        },
        failTimeout: function() {
            this._timer = h(function() {
                this.state = 32
            }, this.options.interval, this);
            return 32
        },
        reset: function() {
            clearTimeout(this._timer)
        },
        emit: function() {
            8 == this.state && (this._input.tapCount = this.count, this.manager.emit(this.options.event, this._input))
        }
    });
    na.VERSION = "2.0.8";
    na.defaults = {
        domEvents: !1,
        touchAction: "compute",
        enable: !0,
        inputTarget: null,
        inputClass: null,
        preset: [
            [I, {
                enable: !1
            }],
            [J, {
                    enable: !1
                },
                ["rotate"]
            ],
            [ta, {
                direction: 6
            }],
            [Ma, {
                    direction: 6
                },
                ["swipe"]
            ],
            [E],
            [E, {
                    event: "doubletap",
                    taps: 2
                },
                ["tap"]
            ],
            [ea]
        ],
        cssProps: {
            userSelect: "none",
            touchSelect: "none",
            touchCallout: "none",
            contentZooming: "none",
            userDrag: "none",
            tapHighlightColor: "rgba(0,0,0,0)"
        }
    };
    xa.prototype = {
        set: function(a) {
            ia(this.options, a);
            a.touchAction && this.touchAction.update();
            a.inputTarget && (this.input.destroy(), this.input.target = a.inputTarget, this.input.init());
            return this
        },
        stop: function(a) {
            this.session.stopped = a ? 2 : 1
        },
        recognize: function(a) {
            var e = this.session;
            if (!e.stopped) {
                this.touchAction.preventDefaults(a);
                var f = this.recognizers,
                    g = e.curRecognizer;
                if (!g || g && g.state & 8) g = e.curRecognizer = null;
                for (var h = 0; h < f.length;) {
                    var k = f[h];
                    2 === e.stopped || g && k != g && !k.canRecognizeWith(g) ? k.reset() :
                        k.recognize(a);
                    !g && k.state & 14 && (g = e.curRecognizer = k);
                    h++
                }
            }
        },
        get: function(a) {
            if (a instanceof da) return a;
            for (var e = this.recognizers, f = 0; f < e.length; f++)
                if (e[f].options.event == a) return e[f];
            return null
        },
        add: function(a) {
            if (k(a, "add", this)) return this;
            var e = this.get(a.options.event);
            e && this.remove(e);
            this.recognizers.push(a);
            a.manager = this;
            this.touchAction.update();
            return a
        },
        remove: function(a) {
            if (k(a, "remove", this)) return this;
            if (a = this.get(a)) {
                var e = this.recognizers;
                a = K(e, a); - 1 !== a && (e.splice(a, 1), this.touchAction.update())
            }
            return this
        },
        on: function(a, e) {
            if (a !== f && e !== f) {
                var g = this.handlers;
                l(D(a), function(a) {
                    g[a] = g[a] || [];
                    g[a].push(e)
                });
                return this
            }
        },
        off: function(a, e) {
            if (a !== f) {
                var g = this.handlers;
                l(D(a), function(a) {
                    e ? g[a] && g[a].splice(K(g[a], e), 1) : delete g[a]
                });
                return this
            }
        },
        emit: function(a, e) {
            this.options.domEvents && R(a, e);
            var f = this.handlers[a] && this.handlers[a].slice();
            if (f && f.length)
                for (e.type = a, e.preventDefault = function() {
                        e.srcEvent.preventDefault()
                    }, a = 0; a < f.length;) f[a](e), a++
        },
        destroy: function() {
            this.element && oa(this, !1);
            this.handlers = {};
            this.session = {};
            this.input.destroy();
            this.element = null
        }
    };
    ia(na, {
        INPUT_START: 1,
        INPUT_MOVE: 2,
        INPUT_END: 4,
        INPUT_CANCEL: 8,
        STATE_POSSIBLE: 1,
        STATE_BEGAN: 2,
        STATE_CHANGED: 4,
        STATE_ENDED: 8,
        STATE_RECOGNIZED: 8,
        STATE_CANCELLED: 16,
        STATE_FAILED: 32,
        DIRECTION_NONE: 1,
        DIRECTION_LEFT: 2,
        DIRECTION_RIGHT: 4,
        DIRECTION_UP: 8,
        DIRECTION_DOWN: 16,
        DIRECTION_HORIZONTAL: 6,
        DIRECTION_VERTICAL: 24,
        DIRECTION_ALL: 30,
        Manager: xa,
        Input: aa,
        TouchAction: M,
        TouchInput: la,
        MouseInput: Ea,
        PointerEventInput: Ia,
        TouchMouseInput: ca,
        SingleTouchInput: La,
        Recognizer: da,
        AttrRecognizer: ma,
        Tap: E,
        Pan: Ma,
        Swipe: ta,
        Pinch: J,
        Rotate: I,
        Press: ea,
        on: y,
        off: w,
        each: l,
        merge: Ca,
        extend: pa,
        assign: ia,
        inherit: p,
        bindFn: r,
        prefixed: U
    });
    ("undefined" !== typeof e ? e : "undefined" !== typeof self ? self : {}).Hammer = na;
    "function" === typeof define && define.amd ? define(function() {
        return na
    }) : "undefined" != typeof module && module.exports ? module.exports = na : e[a] = na
})(window, document, "Hammer");
var org = org || {};
org.vectos = org.vectos || {};
org.vectos.util = org.vectos.util || {};
org.vectos.math = org.vectos.math || {};
org.vectos.snapper = org.vectos.snapper || {};
(function() {
    org.vectos.snapper.Base = function(e) {
        e = e || {};
        return $.extend({}, {
            state: 0,
            value: 45,
            delta: 5,
            snapNone: function(e) {
                return e
            },
            snapDelta: function(e) {
                var a = e % this.value,
                    f = Math.abs(a);
                return f <= this.delta ? e - a : this.value - f <= this.delta ? 0 < a ? e - f + this.value : e + f - this.value : e
            },
            snapGrid: function(e) {
                if (0 <= e) return e += this.value / 2, e - e % this.value;
                e -= this.value / 2;
                return e - e % this.value
            }
        }, e)
    };
    org.vectos.snapper.None = function(e) {
        e = org.vectos.snapper.Base();
        e.snap = e.snapNone;
        return e
    };
    org.vectos.snapper.Grid =
        function(e) {
            var g = org.vectos.snapper.Base();
            g.value = e || 10;
            g.snap = g.snapGrid;
            return g
        };
    org.vectos.snapper.Delta = function(e, g) {
        var a = org.vectos.snapper.Base();
        a.value = e || 45;
        a.delta = g || 5;
        a.snap = a.snapDelta;
        return a
    }
})();
(function() {
    var e = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    org.vectos.math.debugPrintMatrix = function(a) {};
    var g = org.vectos.math.multiplyMatrix = function(e, f) {
            return a(e.multiply(f))
        },
        a = org.vectos.math.matrixZero = function(a) {
            1E-6 > Math.abs(a.a) && (a.a = 0);
            1E-6 > Math.abs(a.b) && (a.b = 0);
            1E-6 > Math.abs(a.c) && (a.c = 0);
            1E-6 > Math.abs(a.d) && (a.d = 0);
            1E-6 > Math.abs(a.e) && (a.e = 0);
            1E-6 > Math.abs(a.f) && (a.f = 0);
            return a
        };
    org.vectos.math.inBox = function(a, e, f) {
        return a >= f.x && a < f.x + f.width && e >= f.y && e < f.y +
            f.height
    };
    var f = org.vectos.math.transformPoint = function(a, e, f) {
        f || (a = 1);
        return {
            x: f.a * a + f.c * e + f.e,
            y: f.b * a + f.d * e + f.f
        }
    };
    org.vectos.math.transformBox = function(a, e, g, h, k) {
        var l = f(a, e, k),
            n = f(a + g, e, k);
        g = f(a + g, e + h, k);
        a = f(a, e + h, k);
        e = Math.min(l.x, n.x, a.x, g.x);
        h = Math.min(l.y, n.y, a.y, g.y);
        return {
            x: e,
            y: h,
            width: Math.max(l.x, n.x, a.x, g.x) - e,
            height: Math.max(l.y, n.y, a.y, g.y) - h
        }
    };
    var h = org.vectos.math.matrixIsScale = function(a) {
            return 1E-5 > Math.abs(a.b) && 1E-5 > Math.abs(a.c) && 1E-5 > Math.abs(a.e) && 1E-5 > Math.abs(a.f)
        },
        k =
        org.vectos.math.matrixIsTranslate = function(a) {
            return 1E-5 > Math.abs(a.a - 1) && 1E-5 > Math.abs(a.c) && 1E-5 > Math.abs(a.d - 1) && 1E-5 > Math.abs(a.b)
        };
    org.vectos.math.simplifyTransformList = function(a) {
        if (!a || 0 == a.numberOfItems) return null;
        var f = a.getItem(0).matrix,
            l;
        for (l = 1; l < a.numberOfItems; l++) f = g(f, a.getItem(l).matrix);
        a = e.createSVGTransform();
        h(f) ? a.setScale(f.a, f.d) : k(f) ? a.setTranslate(f.e, f.f) : a.setMatrix(f);
        return a
    };
    org.vectos.math.isIdentityMatrix = function(a) {
        return 1 === a.a && 0 === a.b && 0 === a.c && 1 === a.d &&
            0 === a.e && 0 === a.f
    };
    org.vectos.math.transformListToMatrix = function(a) {
        if (!a || 0 == a.numberOfItems) return e.createSVGMatrix();
        for (var f = a.getItem(0).matrix, h = 1; h < a.numberOfItems; h++) f = g(f, a.getItem(h).matrix);
        return f
    };
    org.vectos.math.unionRect = function(a, e) {
        var f = {};
        f.x = Math.min(a.x, e.x);
        f.y = Math.min(a.y, e.y);
        f.width = Math.max(a.x + a.width, e.x + e.width) - f.x;
        f.height = Math.max(a.y + a.height, e.y + e.height) - f.y;
        return f
    }
})();
(function() {
    org.vectos.ActionManager = function() {
        var e, g, a = function(a, e) {
                var f = g.getSelectionManager().getSelection();
                f && g.move(f, a, e);
                g.getSelectionManager().updateSelection()
            },
            f = [{
                id: "action-delete",
                name: "Delete",
                key: ["del"],
                icon: "delete.png",
                enabled: !0,
                run: function() {
                    var a = g.getSelectionManager().getSelection();
                    a && (g.deleteElement(a), g.fire("deleted", {
                        target: a
                    }))
                }
            }, {
                id: "action-move-left1",
                name: "Move Left 1px",
                key: "left",
                enabled: !0,
                run: function() {
                    a(-1, 0)
                }
            }, {
                id: "action-move-right1",
                name: "Move Right 1px",
                key: "right",
                enabled: !0,
                run: function() {
                    a(1, 0)
                }
            }, {
                id: "action-move-up1",
                name: "Move Up 1px",
                key: "up",
                enabled: !0,
                run: function() {
                    a(0, -1)
                }
            }, {
                id: "action-move-down1",
                name: "Move Down 1px",
                key: "down",
                enabled: !0,
                run: function() {
                    a(0, 1)
                }
            }, {
                id: "action-move-left10",
                name: "Move Left 1px",
                key: "Shift+left",
                enabled: !0,
                run: function() {
                    a(-10, 0)
                }
            }, {
                id: "action-move-right10",
                name: "Move Right 1px",
                key: "Shift+right",
                enabled: !0,
                run: function() {
                    a(10, 0)
                }
            }, {
                id: "action-move-up10",
                name: "Move Up 1px",
                key: "Shift+up",
                enabled: !0,
                run: function() {
                    a(0,
                        -10)
                }
            }, {
                id: "action-move-down10",
                name: "Move Down 1px",
                key: "Shift+down",
                enabled: !0,
                run: function() {
                    a(0, 10)
                }
            }],
            h = {},
            k = function(a) {
                h[a.id] = a;
                if (a.key && a.enabled) {
                    a.handler = [];
                    var e = a.key;
                    "string" === typeof e && (e = [a.key]);
                    for (var f = 0; f < e.length; f++) {
                        var k = function(e) {
                            e.preventDefault();
                            g.runActionById(a.id);
                            return !1
                        };
                        a.handler.push(k);
                        $(document).bind("keydown", e[f], k)
                    }
                }
                return a
            },
            l = function(a) {
                if (action = h[a]) {
                    a = action.key;
                    "string" === typeof a && (a = [action.key]);
                    for (var e = 0; e < a.length; e++) $(document).unbind("keydown",
                        action.handler[e])
                }
                return action
            };
        return {
            vectos: void 0,
            init: function(a) {
                g = this.vectos = a;
                e = this.vectos.logger;
                this.addActions(f);
                return this
            },
            actions: h,
            addActions: function(a) {
                $.each(a, function(a, e) {
                    k(e)
                })
            },
            runAction: function(a, e) {
                return a.run(e)
            },
            runActionById: function(a, f) {
                var g = this.getAction(a);
                g ? g.run(f) : e.error("Can't find actionId=" + a)
            },
            getAction: function(a) {
                var f = this.actions[a];
                null == f && e.error("Unable to find action:" + a);
                return f
            },
            removeAction: l,
            removeActions: function(a) {
                $.each(a, function(a,
                    e) {
                    l(e)
                })
            }
        }
    }
})();
(function() {
    org.vectos.SelectionManager = function() {
        var e = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        return $.extend(this, {
            init: function(e) {
                this.vectos = e;
                this.selected = null;
                var a = $.extend({}, {
                    type: "default",
                    multi: !1,
                    "delete": !1,
                    edit: !1,
                    border: "none"
                });
                e.options.selection && "basic" === e.options.selection.type && $.extend(a, {
                    type: "basic",
                    "delete": !0,
                    markup: !0,
                    border: "dashed",
                    createSelectionElement: function(a, g) {
                        return e.createRect({
                            fill: "none",
                            stroke: "#0000CC",
                            "stroke-dasharray": "3,2,4,2",
                            x: 0,
                            y: 0,
                            width: g.width,
                            height: g.height
                        })
                    },
                    createDeleteElement: function(a, g) {
                        return e.createElement("circle", {
                            fill: "red",
                            stroke: "black",
                            cx: g.width,
                            cy: 0,
                            r: 10
                        })
                    }
                });
                a = $.extend({}, a, e.options.selection);
                "none" !== a.border && (a.selectionG = this.addSelectionG(e._info.vectosSvg));
                e._info.selectionOptions = a;
                $.extend(this, a)
            },
            updateSelection: function(e) {
                var a = this.selected;
                e && a && this.setSelection(null);
                this.setSelection(a)
            },
            maybeUpdateSelection: function(e) {
                this.selected === e && this.setSelection(this.selected)
            },
            addSelectionG: function(e) {
                e =
                    this.vectos.createG();
                this.vectos._info.vectosSvg.appendChild(e);
                return e
            },
            setSelection: function(g) {
                this.selected = g;
                if (null != this.selectionElement)
                    for (this.selectionElement = null, g = this.selectionG.childNodes.length; 0 <= --g;) this.selectionG.removeChild(this.selectionG.lastChild);
                if (null != this.selected && this.selectionG) {
                    g = this.selectionBBox = this.vectos.canvasBBox(this.selected);
                    g.dx = 0;
                    g.dy = 0;
                    this.selectionElement = this.createSelectionElement(this.selected, g);
                    this.selectionG.appendChild(this.selectionElement);
                    if (this["delete"]) {
                        var a = this.createDeleteElement(this.selected, g);
                        this.vectos.setAttribute(a, "vectos:control", "delete");
                        this.selectionG.appendChild(a);
                        a.setAttribute("style", "cursor:pointer;pointer-events:inherit")
                    }
                    this.edit && (a = this.createEditElement(this.selected, g), this.vectos.setAttribute(a, "vectos:control", "edit"), this.selectionG.appendChild(a), a.setAttribute("style", "cursor:pointer;pointer-events:inherit"));
                    this.selectionG.setAttribute("transform", "translate(" + g.x + "," + g.y + ")");
                    this.vectos.getTransformList(this.selectionG).insertItemBefore(e.createSVGTransform(),
                        0)
                } else this.selectionBBox = null;
                this.vectos.fire("selected", {
                    selection: this.selected
                })
            },
            getSelection: function() {
                return this.selected
            },
            getSelectionBBox: function() {
                return (b = this.selectionBBox) ? {
                    x: b.x + b.dx,
                    y: b.y + b.dy,
                    width: b.width,
                    height: b.height
                } : null
            },
            setSelectionVisibility: function(e) {
                var a = this.vectos._info.selectionOptions.selectionG;
                a && (e ? $(a).css("display", "") : $(a).css("display", "none"))
            },
            update: function(e) {
                null != this.selectionElement && (e = e || this.selected.getBBox(), this.selectionG.setAttribute("transform",
                    "translate(" + e.x + "," + e.y + ")"))
            },
            updateHack: function(g, a) {
                if (null != this.selectionElement) {
                    var f = this.vectos.getTransformList(this.selectionG),
                        h = e.createSVGTransform();
                    h.setTranslate(g, a);
                    f.replaceItem(h, 0);
                    this.selectionBBox.dx = g;
                    this.selectionBBox.dy = a
                }
            },
            selectionBBox: null
        })
    }
})();
(function() {
    org.vectos.PageManager = function() {
        var e = function(e) {
            var a = $.extend({}, e);
            a.type = void 0;
            if ("image" === e.type) return e = vectos.createImage(a), vectos.addElement({
                element: e
            }), e;
            if ("text" === e.type) return e = vectos.addText(a);
            vectos.logger.error("unknown page element type: " + e.type)
        };
        return $.extend(this, {
            init: function(e) {
                this.vectos = e;
                var a = $.extend({}, {});
                a = $.extend({}, a, e.options.page);
                e._info.pageOptions = a;
                $.extend(this, a)
            },
            setPageData: function(g) {
                if (Array.isArray(g.metaElements))
                    for (i = 0; i <
                        g.metaElements.length; i++) {
                        var a = g.metaElements[i];
                        e(a)
                    }
                "object" === typeof g.editRect && (a = $.extend({}, g.editRect, {
                    selectable: !1,
                    fill: "none",
                    stroke: "#0000CC",
                    "stroke-dasharray": "3,2,4,2"
                }), a = vectos.createRect(a), vectos.addElement({
                    element: a
                }));
                if (Array.isArray(g.elements))
                    for (i = 0; i < g.elements.length; i++) a = g.elements[i], e(a)
            }
        })
    }
})();
(function() {
    org.vectos.util.isSupported = function() {
        return document.createElementNS && document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") && !0
    };
    org.vectos.Vectos = window.Vectos = function(e) {
        var g = org.vectos.math,
            a = 0,
            f = {},
            h, k = $.extend({
                debug: function(a) {},
                info: function(a) {
                    console && console.log && console.log(a)
                },
                error: function(a) {
                    window.alert("Vectos error: " + a)
                },
                fatal: function(a) {
                    window.alert("Vectos fatal: " + a)
                }
            }, e.logger),
            l = function() {
                return f.prefix + f.nextId++
            },
            n = function(a, e, g) {
                if (!isNaN(e) && !isNaN(g)) {
                    var h = f.svg.createSVGTransform();
                    h.setTranslate(e, g);
                    a = J(a);
                    a.numberOfItems ? a.insertItemBefore(h, 0) : a.appendItem(h)
                }
            },
            p = function(a, e) {
                e.url && a.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", e.url);
                var f = 0,
                    g = 0;
                "undefined" !== typeof e.x && (f = e.x);
                "undefined" !== typeof e.y && (g = e.y);
                if (0 != f || 0 != g) t = a.getAttribute("transform") || "", t += " translate(" + f + "," + g + ")", a.setAttribute("transform", t);
                "undefined" !== typeof e.width && "NaN" != "" + e.width && a.setAttribute("width",
                    e.width);
                "undefined" !== typeof e.height && "NaN" != "" + e.height && a.setAttribute("height", e.height);
                "undefined" !== typeof e.opacity && a.setAttribute("opacity", e.opacity);
                "undefined" !== typeof e["clip-path"] && a.setAttribute("clip-path", e["clip-path"]);
                "undefined" !== typeof e.lock && window.alert("please update image lock -> selectable ");
                "undefined" !== typeof e.selectable && qa(a, e.selectable)
            },
            r = function(a) {
                a = J(a);
                a.numberOfItems && (newTransform = g.simplifyTransformList(a), null == newTransform ? a.clear() : (a.clear(),
                    a.appendItem(newTransform)))
            },
            u = function(a, e) {
                var h = f.svg.createSVGMatrix();
                if (a === f.vectosSvg || a === f.svg || 1 != e && (a = a.parentNode, a === f.vectosSvg)) return h;
                for (; a && a !== f.svg && a !== f.vectosSvg;) e = a, e = "svg" === e.tagName ? f.svg.createSVGMatrix() : g.transformListToMatrix(J(e)), h = g.multiplyMatrix(e, h), a = a.parentNode;
                return h
            },
            y = function(e) {
                var f = F("image");
                e = $.extend({
                    selectable: !0
                }, e);
                p(f, e);
                var g = e.done;
                if ("undefined" === typeof e.width || "undefined" === typeof e.height) {
                    var h = new Image;
                    a++;
                    Ra("outstandingCalls", {
                        outstandingCalls: a
                    });
                    h.onload = function() {
                        "undefined" === typeof e.width && f.setAttribute("width", h.width);
                        "undefined" === typeof e.height && f.setAttribute("height", h.height);
                        G.maybeUpdateSelection(f);
                        a--;
                        Ra("outstandingCalls", {
                            outstandingCalls: a
                        });
                        g && g({
                            target: f
                        })
                    };
                    h.error = function() {
                        a--;
                        Ra("outstandingCalls", {
                            outstandingCalls: a
                        })
                    };
                    h.src = e.url;
                    f.setAttribute("width", 20);
                    f.setAttribute("height", 20)
                } else g && g({
                    target: f
                });
                return f
            },
            w = function(a, e, f) {
                "undefined" === typeof f ? a.appendChild(e) : a.childNodes.length <=
                    f ? a.appendChild(e) : a.insertBefore(e, a.childNodes[f])
            },
            C = function(a) {
                if ("undefined" === typeof a) k.error("opts.element required to addElement");
                else return "undefined" === a.parentNode && k.error("element has no parent.  Can't delete it."), a.parentNode.removeChild(a), a === G.getSelection() && G.setSelection(null), a
            },
            D = function() {
                return f.width
            },
            K = function() {
                return f.height
            },
            L = function(a, e) {
                for (v in e) !isNaN(e[v]) || "width" !== v && "height" !== v ? null === e[v] || "undefined" === typeof e[v] ? 0 === v.indexOf("xlink:") ? a.removeAttributeNS("http://www.w3.org/1999/xlink",
                    v) : a.removeAttribute(v) : "lock" === v ? window.alert("please update app lock") : "selectable" === v ? qa(a, e[v]) : 0 === v.indexOf("xlink:") ? a.setAttributeNS("http://www.w3.org/1999/xlink", v, e[v]) : a.setAttribute(v, e[v]) : k.info("ignore attribute: " + v + ":" + e[v])
            },
            F = function(a, e) {
                a = document.createElementNS("http://www.w3.org/2000/svg", a);
                L(a, e);
                return a
            },
            U = function(a) {
                return F("g", a)
            },
            B = function(a) {
                return F("rect", a)
            },
            aa = function(a, e) {
                e.points = void 0;
                d = "M" + a[0] + "," + a[1];
                for (var f = 2; f < a.length; f += 2) d += " L" + a[f] + "," +
                    a[f + 1];
                d += "z";
                e.d = d;
                F("path", e)
            },
            ka = function(a) {
                a = a || f.svg;
                var e = [];
                e.push("<" + a.nodeName);
                var g = a.attributes,
                    h;
                if (g)
                    for (h = 0; h < g.length; h++) {
                        var k = g.item(h);
                        var m = k.nodeName,
                            l = k.nodeValue;
                        if ((k = k.namespaceURI) && "http://www.vectos.org/xlink" === k) {
                            if ("selectable" === m) continue;
                            if ("rotation" === m) continue;
                            m = "vectos:" + m
                        }
                        "transform" === m && (l = ("" + l).replace(/px/g, ""));
                        e.push(" " + m + '="' + l + '"')
                    }
                if (a.hasChildNodes()) {
                    e.push(">");
                    for (h = 0; h < a.childNodes.length; h++) g = a.childNodes.item(h), 3 === g.nodeType ? e.push(g.nodeValue) :
                        e.push(ka(g));
                    e.push("</" + a.nodeName + ">")
                } else e.push("/>");
                return e.join("")
            },
            ja = function(a) {
                if ("svg" === a.tagName) return null;
                try {
                    var e = a.getBBox()
                } catch (za) {
                    return null
                }
                var f = J(a);
                f = g.transformListToMatrix(f);
                a = u(a);
                e = g.transformBox(e.x, e.y, e.width, e.height, f);
                e = g.transformBox(e.x, e.y, e.width, e.height, a);
                return 0 == e.x && 0 == e.y && 0 == e.width && 0 == e.height ? null : e
            },
            va = function(a) {
                for (var e = a.target; e && e !== f.vectosSvg && !S(e);) e = e.parentNode;
                if (e) {
                    if (S(e)) return e;
                    var h = a.pageX || a.originalEvent && a.originalEvent.pageX ||
                        window.event && window.event.pageX,
                        k = a.pageY || a.originalEvent && a.originalEvent.pageY || window.event && window.event.pageY;
                    a = $(f.vectosSvg).parent().width() / D();
                    var m = $(f.vectosSvg).parent().height() / K();
                    a = a < m ? a : m;
                    m = f.parent.offset();
                    h = (h - m.left) / a;
                    k = (k - m.top) / a;
                    for (m = 0; m < Z.length; m++) {
                        a = Z[m];
                        var l = ja(a);
                        if (null !== l && l && g.inBox(h, k, l)) return a
                    }
                    return e
                }
                return a.target
            },
            S = function(a) {
                return "true" === Ca(a, "vectos:selectable")
            },
            Z = [],
            qa = function(a, e) {
                e = !!e;
                Ja(a, "vectos:selectable", "" + e);
                if (e) Z.push(a), Ja(a,
                    "style", "cursor:move;pointer-events:inherit");
                else {
                    for (e = 0; e < Z.length; e++)
                        if (a == Z[e]) {
                            Z.splice(e, 1);
                            break
                        } Ja(a, "style", "cursor:inherit;pointer-events:inherit")
                }
            },
            Ha = null,
            Ea = null,
            Ia = null,
            La = null,
            la = null,
            O = null,
            ca = null,
            P = 1,
            M = 0,
            ba = function(a) {
                a = Ca(a, "vectos:control");
                return "delete" === a ? 2 : "edit" === a ? 5 : 0
            },
            da = function(a) {
                H(a.originalEvent.targetTouches[0]);
                null !== G.getSelection() && a.preventDefault()
            },
            sa = function(a) {
                m(a.originalEvent.targetTouches[0]);
                a.preventDefault()
            },
            Va = function(a) {
                wa(a.originalEvent.changedTouches[0]);
                a.preventDefault()
            },
            A = function(a) {
                H(a);
                null !== G.getSelection() && a.preventDefault()
            },
            ma = function(a) {
                m(a);
                a.preventDefault()
            },
            Ma = function(a) {
                wa(a);
                a.preventDefault()
            },
            J = function(a) {
                return a.transform ? a.transform.baseVal : a.gradientTransform ? a.gradientTransform.baseVal : a.patternTransform ? a.patternTransform.baseVal : null
            },
            ea = 0,
            I = 1,
            ta = 0,
            E = 0,
            na = function(a) {
                var e = G.getSelection();
                if (null != e) {
                    if (R && (wa(a), e = G.getSelection(), null == e)) return;
                    a: {
                        var f = Ca(e, "vectos:rotation");
                        if (f) try {
                            E = parseFloat(f);
                            break a
                        } catch (za) {
                            k.info("can't parse:" +
                                f);
                            E = 0;
                            break a
                        }
                        E = 0
                    }
                    G.setSelectionVisibility(!1);
                    M = 4;
                    (transform = e.getAttribute("transform")) || (transform = "");
                    if (f = G.getSelectionBBox()) dx = f.x + f.width / 2, dy = f.y + f.height / 2, transform = "translate(" + dx + "," + dy + ") scale(1) rotate(0) translate(" + -dx + "," + -dy + ") " + transform, e.setAttribute("transform", transform), ta = ea = a.rotation || 0, I = a.scale || 1
                }
            },
            xa = function(a) {
                if (4 == M || 6 == M) a = G.getSelection(), r(G.getSelection()), Ja(a, "vectos:rotation", "" + (ea + E)), Aa.fire("pinch", {
                        target: a
                    }), G.updateSelection(), G.setSelectionVisibility(!0),
                    M = 0
            },
            oa = function(a) {
                if (6 == M) k.debug("pinchRotate ignored");
                else if ("pinchend" != a.type)
                    if (4 != M) k.debug("extra pinch start"), na(a);
                    else {
                        var g = G.getSelection();
                        if (null != g) {
                            g = J(g);
                            if (e.rotate) {
                                var h = Ga.rotation.snap(a.rotation - ta + E) - E,
                                    m = Math.abs(h - ea) % 360;
                                180 < m && (m = 360 - m);
                                if (120 < m) return;
                                ea = h;
                                m = f.svg.createSVGTransform();
                                m.setRotate(h, 0, 0);
                                g.replaceItem(m, 2)
                            }
                            e.zoom && (h = f.svg.createSVGTransform(), P = a.scale / I, h.setScale(P, P), g.replaceItem(h, 1))
                        }
                    }
            },
            R = !1,
            ha = !1,
            H = function(a) {
                a.preventDefault && a.preventDefault();
                6 == M ? M = 0 : 7 == M ? M = 0 : 1 == M && (M = 7);
                if (!(0 < M)) {
                    var e = va(a),
                        g = a.pageX || a.originalEvent && a.originalEvent.pageX || window.event && window.event.pageX;
                    a = a.pageY || a.originalEvent && a.originalEvent.pageY || window.event && window.event.pageY;
                    M = ba(e);
                    0 < M || (S(e) ? (R = !1, Ia = g, La = a, la = (new Date).getTime(), M = 1, g = J(e), O = a = u(e), ca = a.inverse(), g ? (g.numberOfItems ? g.insertItemBefore(f.svg.createSVGTransformFromMatrix(O), 0) : g.appendItem(f.svg.createSVGTransformFromMatrix(O)), g.insertItemBefore(f.svg.createSVGTransform(), 0), g.insertItemBefore(f.svg.createSVGTransformFromMatrix(ca),
                        0)) : (M = 0, e = null), elementX = elementY = 0, g = $(f.vectosSvg).parent().width() / D(), a = $(f.vectosSvg).parent().height() / K(), P = g < a ? g : a, f.parent.offset(), Ha = Ia / P - elementX, Ea = La / P - elementY) : (M = 0, e = null), ha = e === G.getSelection(), null != e ? G.setSelection(e) : M = 3, $(document.activeElement).blur())
                }
            },
            m = function(a) {
                a.preventDefault && a.preventDefault();
                if (1 === M) {
                    var e = a.pageX || a.originalEvent && a.originalEvent.pageX || window.event && window.event.pageX,
                        g = a.pageY || a.originalEvent && a.originalEvent.pageY || window.event && window.event.pageY;
                    if (null !== G.getSelection()) {
                        if (!R)
                            if ((new Date).getTime() - la > f.moveMillis || Math.abs(e - Ia) > f.moveRadius || Math.abs(g - La) > f.moveRadius) R = !0;
                            else return;
                        Aa.fire("move", {
                            target: G.getSelection()
                        });
                        G.setSelectionVisibility(!1);
                        a = e / P;
                        g /= P;
                        e = J(G.getSelection());
                        a -= Ha;
                        g -= Ea;
                        a = Ga.move.snap(a);
                        g = Ga.move.snap(g);
                        var h = f.svg.createSVGTransform();
                        h.setTranslate(a, g);
                        e.replaceItem(h, 1);
                        G.updateHack(a, g)
                    }
                }
            },
            wa = function(a) {
                G.setSelectionVisibility(!0);
                3 === M ? (G.setSelection(null), M = 0) : 6 === M ? xa(a) : 1 === M ? (M = 0, a = G.getSelection(),
                    null != a && (r(G.getSelection()), Ea = Ha = la = La = Ia = null, P = 1, ca = O = null, R ? (R = !1, Aa.fire("moved", {
                        target: G.getSelection()
                    })) : ha && Aa.fire("selectionClicked", {
                        target: G.getSelection()
                    }))) : 2 === M ? (a = va(a), a = ba(a), a === M && (a = G.getSelection(), C(a), Ra("deleted", {
                    target: a
                }), G.setSelection(null)), M = 0) : 4 === M ? M = 6 : 5 === M && (a = va(a), a = ba(a), a === M && (a = G.getSelection(), Ra("edit", {
                    target: a
                })), M = 0)
            },
            Fa = new function(a) {
                this._info = {};
                this._info.markups = [];
                this.removeMarkup = function(a) {
                    var e = a.element;
                    a = a.markupElement;
                    for (var f =
                            0; f < this._info.markups.length; f++) {
                        var g = this._info.markups[f],
                            h = !0;
                        g && (e && g.element !== e && (h = !1), a && g.markupElement !== a && (h = !1), h && (this._info.markups[f] = null, g.markupElement.parentNode.removeChild(g.markupElement)))
                    }
                };
                this.markupElement = function(a) {
                    var e = a.element,
                        f = a.markupElement;
                    a.markupLayer.appendChild(f);
                    var g = ja(e);
                    f.setAttribute("transform", "translate(" + g.x + "," + g.y + ")");
                    this._info.markups.push({
                        element: a.element,
                        markupElement: f
                    });
                    e.addEventListener("DOMAttrModified", function(a) {
                        "transform" ===
                        a.attrName && (a = ja(e), f.setAttribute("transform", "translate(" + a.x + "," + a.y + ")"))
                    })
                };
                return this
            }({}),
            ia = function(a) {
                a = $.extend(!0, {
                    text: "vectos"
                }, a);
                var e = F("text", a);
                pa(e, a);
                return e
            },
            pa = function(a, f) {
                e = $.extend(!0, {}, f);
                if (f = e.text) a.textContent = f;
                e.text = void 0;
                L(a, e);
                G.updateSelection();
                return a
            },
            Ca = function(a, e) {
                if (!a) return null;
                var f = e.split(":");
                if (1 == f.length) return a.getAttribute(e);
                var g = f[0];
                return "vectos" === g ? a.getAttributeNS("http://www.vectos.org/xlink", f[1]) : "inkscape" === g ? a.getAttributeNS("http://www.inkscape.org/namespaces/inkscape",
                    f[1]) : "xlink" === g ? a.getAttributeNS("http://www.w3.org/1999/xlink", f[1]) : a.getAttribute(e)
            },
            Ja = function(a, e, f) {
                var g = e.split(":");
                if (1 == g.length) return a.setAttribute(e, f);
                var h = g[0];
                return "vectos" === h ? a.setAttributeNS("http://www.vectos.org/xlink", g[1], f) : "xlink" === h ? a.setAttributeNS("http://www.w3.org/1999/xlink", g[1], f) : "inkscape" === h ? a.setAttributeNS("http://www.inkscape.org/namespaces/inkscape", g[1], f) : a.setAttribute(e, f)
            },
            Ya = [],
            Da = {},
            Ra = function(a, e) {
                callbacks = Da[a];
                if ("undefined" !== typeof callbacks)
                    for (e =
                        e || {}, e.type = a, a = 0; a < callbacks.length; a++)
                        if (callbacks[a]) callbacks[a](e)
            },
            Pa = e.parentId || "vectos",
            Na = e.viewWidth || 600,
            fa = e.viewHeight || 400,
            Ua = e.prefix || "vectos_",
            Q = e.moveRadius || 5,
            Qa = e.moveMillis || 200;
        e.zoom = e.zoom || !1;
        e.rotate = e.rotate || !1;
        $.extend(f, {
            parentId: Pa,
            width: Na,
            height: fa,
            prefix: Ua,
            moveRadius: Q,
            moveMillis: Qa,
            nextId: 1,
            ready: 1
        });
        f.vectosSvg = function(a) {
            var e = $("#" + a.parentId);
            if (0 === e.length) return k.error("can't find container:" + a.parentId), null;
            e.css("touch-action", "none");
            e = document.createElementNS("http://www.w3.org/2000/svg",
                "svg");
            var f = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            a.width && (e.setAttribute("width", a.width), f.setAttribute("width", a.width));
            a.height && (e.setAttribute("height", a.height), f.setAttribute("height", a.height));
            a.viewBox ? (e.setAttribute("viewBox", a.viewBox), f.setAttribute("viewBox", a.viewBox)) : (e.setAttribute("viewBox", a.viewX + " " + a.viewY + " " + a.viewWidth + " " + a.viewHeight), f.setAttribute("viewBox", a.viewX + " " + a.viewY + " " + a.viewWidth + " " + a.viewHeight));
            e.setAttribute("xmlns:xlink",
                "http://www.w3.org/1999/xlink");
            e.setAttribute("xmlns:vectos", "http://www.vectos.org/xlink");
            e.setAttribute("xmlns:inkscape", "http://www.inkscape.org/namespaces/inkscape");
            e.setAttribute("xmlns", "http://www.w3.org/2000/svg");
            e.setAttribute("id", "customSvgId");
            f.setAttribute("xmlns:xlink", "http://www.w3.org/1999/xlink");
            f.setAttribute("xmlns:vectos", "http://www.vectos.org/xlink");
            f.setAttribute("xmlns:inkscape", "http://www.inkscape.org/namespaces/inkscape");
            f.setAttribute("xmlns", "http://www.w3.org/2000/svg");
            h = F("defs");
            f.appendChild(h);
            e.appendChild(f);
            window.PointerEvent && ($(e).bind("pointerdown", A), $(e).bind("pointermove", ma), $(e).bind("pointerup", Ma));
            $(e).mousedown(H);
            $(e).mousemove(m);
            $(e).mouseup(wa);
            a.noParentDiv ? document.getElementById(a.parentId).appendChild(e) : (f = $("<div></div>").append(e), document.getElementById(a.parentId).appendChild(f[0]));
            $(e).bind("touchstart", da);
            $(e).bind("touchmove", sa);
            $(e).bind("touchend", Va);
            if (a.zoom || a.rotate) {
                f = new Hammer.Manager(e);
                var g = "";
                if (a.zoom) {
                    var l = new Hammer.Pinch;
                    f.add([l]);
                    g += " pinch";
                    f.on("pinchstart", na);
                    f.on("pinchend", xa)
                }
                a.rotate && (a = new Hammer.Rotate, f.add([a]), g += " rotate");
                f.on(g, oa)
            }
            return e
        }(e);
        f.svg = f.vectosSvg.childNodes.item(0);
        f.parent = $("#" + e.parentId);
        var G = new org.vectos.SelectionManager(e.selection);
        f.selectionManager = G;
        Pa = new org.vectos.PageManager;
        f.pageManager = Pa;
        Ua = org.vectos.snapper.None();
        Ua = {
            rotation: org.vectos.snapper.Delta(),
            move: Ua,
            pinch: Ua
        };
        var Ga = $.extend({}, Ua, e.snap),
            Aa = {
                _info: f,
                logger: k,
                snap: Ga,
                options: e
            };
        $.extend(Aa, {
            nextId: l,
            getViewBoxWidth: D,
            getViewBoxHeight: K,
            setViewBox: function(a) {
                var e = a.x || 0,
                    g = a.y || 0;
                f.width = a.width || f.width || 600;
                f.height = a.height || f.height || 400;
                a = e + " " + g + " " + f.width + " " + f.height;
                f.vectosSvg.setAttribute("viewBox", a);
                f.svg.setAttribute("viewBox", a)
            },
            createG: U,
            createElement: F,
            createElementFromString: function(a, e) {
                eopts = $.extend({
                    selectable: !0
                }, e);
                a = (new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">' + a + "</svg>", "text/xml").documentElement;
                a = document.importNode(a, !0);
                a = a.firstChild;
                L(a, eopts);
                return a
            },
            addDef: function(a) {
                (a.defs || h).appendChild(a.element);
                return a.element
            },
            createClipMask: function(a) {
                var e = F("clipPath");
                e.setAttribute("id", l());
                switch (a.type) {
                    case "rect":
                        a.type = void 0;
                        e.appendChild(B(a));
                        break;
                    case "points":
                        a.type = void 0, e.appendChild(aa(a.points))
                }
                return e
            },
            addElement: function(a) {
                var e = a.parent || f.svg,
                    g = a.element;
                if ("undefined" === typeof g) k.error("opts.element required to addElement");
                else return w(e, g, a.index), "undefined" !== typeof a.autoPosn && this.autoPosn(g, a.autoPosn,
                    "undefined" !== typeof a.autoPosnPadding ? a.autoPosnPadding : 10), g
            },
            deleteElement: C,
            updateElement: function(a) {
                var e = a.element;
                a = a.index;
                if ("undefined" !== typeof a) {
                    var f = e.parentNode;
                    f.removeChild(e);
                    w(f, e, a)
                }
                G.maybeUpdateSelection(e)
            },
            createImage: y,
            addImage: function(a) {
                var e = a.parent || f.svg,
                    g = y(a);
                w(e, g, a.index);
                return g
            },
            updateImage: function(e, f) {
                if (f.immediate) p(e, f), G.maybeUpdateSelection(e);
                else if (f.url) {
                    var g = f.done,
                        h = new Image;
                    a++;
                    Ra("outstandingCalls", {
                        outstandingCalls: a
                    });
                    h.onload = function() {
                        p(e,
                            f);
                        "undefined" === typeof f.width && e.setAttribute("width", h.width);
                        "undefined" === typeof f.height && e.setAttribute("height", h.height);
                        G.maybeUpdateSelection(e);
                        a--;
                        Ra("outstandingCalls", {
                            outstandingCalls: a
                        });
                        g && g({
                            target: e
                        })
                    };
                    h.error = function() {
                        a--;
                        Ra("outstandingCalls", {
                            outstandingCalls: a
                        })
                    };
                    h.src = f.url
                } else p(e, f), G.maybeUpdateSelection(e), g && g({
                    target: e
                })
            },
            createText: ia,
            addText: function(a) {
                var e = a.parent || f.svg,
                    g = ia(a);
                w(e, g, a.index);
                return g
            },
            updateText: pa,
            autoPosn: function(a, e, f) {
                var g = ja(a),
                    h = f,
                    k = f;
                if (g) switch (e) {
                    case 0:
                        k = h = f;
                        break;
                    case 1:
                        h = (Na - g.width) / 2;
                        k = f;
                        break;
                    case 2:
                        h = Na - g.width - f;
                        k = f;
                        break;
                    case 3:
                        h = f;
                        k = (fa - g.height) / 2;
                        break;
                    case 4:
                        h = (Na - g.width) / 2;
                        k = (fa - g.height) / 2;
                        break;
                    case 5:
                        h = Na - g.width - f;
                        k = (fa - g.height) / 2;
                        break;
                    case 6:
                        h = f;
                        k = fa - g.height - f;
                        break;
                    case 7:
                        h = (Na - g.width) / 2;
                        k = fa - g.height - f;
                        break;
                    case 8:
                        h = Na - g.width - f, k = fa - g.height - f
                } else window.alert("can't bbox");
                this.translateElement(a, -g.x + h, -g.y + k)
            },
            createRect: B,
            actionManager: (new org.vectos.ActionManager).init(Aa),
            getActionManager: function() {
                return this.actionManager
            },
            getSelectionManager: function() {
                return G
            },
            runAction: function(a, e) {
                return this.actionManager.runAction(a, e)
            },
            runActionById: function(a, e) {
                return this.actionManager.runActionById(a, e)
            },
            move: function(a, e, f) {
                n(a, e, f);
                r(a);
                Aa.fire("moved", {
                    target: a
                })
            },
            size: function(a, e, f) {
                a.setAttribute("width", e);
                a.setAttribute("height", f)
            },
            translateElement: n,
            setSelection: function(a) {
                f.selectionManager.setSelection(a)
            },
            markupElement: function(a) {
                Fa.markupElement(a)
            },
            newMarkupLayer: function(a) {
                a = U();
                f.vectosSvg.appendChild(a);
                return a
            },
            removeMarkup: function(a) {
                Fa.removeMarkup(a)
            },
            addSimpleFont: function(a, e) {
                a = this.createElementFromString('<style type="text/css">@font-face {font-family: "' + a + '";src: url(' + e + ') format("truetype");} </style>');
                this.addElement({
                    element: a
                })
            },
            addBase64Font: function(a, e) {
                a = this.createElementFromString('<style type="text/css">@font-face {font-family: "' + a + '";src: url("data:application/x-font-truetype;charset=utf-8;base64,' + e + '") format("truetype");} </style>');
                this.addElement({
                    element: a
                })
            },
            bbox: function(a) {
                return a.getBBox()
            },
            canvasBBox: ja,
            toSvgString: ka,
            toCroppedSvgString: function(a, e) {
                a = a || f.svg;
                e = e || 5;
                if (a.hasChildNodes()) {
                    var h = a.childNodes,
                        m = null;
                    for (i = 0; i < h.length; i++) {
                        var l = h.item(i);
                        l = ja(l);
                        m = m ? g.unionRect(m, l) : l
                    }
                }
                m && k.info("cropped:" + m.x + ":" + m.y + ":" + m.width + ":" + m.height);
                h = a.getAttribute("viewBox");
                l = m.width / m.height;
                2 != l && (2 > l ? (l = 2 * m.height - m.width, m.x -= l / 2, m.width += l) : (l = m.width / 2 - m.height, m.y -= l / 2, m.height += l));
                m.x -= m.width * e / 100;
                m.width += m.width * e * 2 / 100;
                m.y -= m.height * e / 100;
                m.height += m.height * e * 2 / 100;
                a.setAttribute("viewBox",
                    m.x + " " + m.y + " " + m.width + " " + m.height);
                a.setAttribute("viewBox", m.x + " " + m.y + " " + m.width + " " + m.height);
                e = ka(a);
                a.setAttribute("viewBox", h);
                return e
            },
            getAttribute: Ca,
            setAttribute: Ja,
            getTransformList: J,
            ref: function(a) {
                "String" !== typeof a && (a = a.getAttribute("id"));
                return "url(#" + a + ")"
            },
            deepTransformMatrix: u,
            getElementById: function(a) {
                return f.vectosSvg.getElementById(a)
            },
            setSelectable: qa,
            ready: function(a) {
                f.ready ? a() : Ya.push(a)
            },
            on: function(a, e) {
                callbacks = Da[a];
                "undefined" === typeof callbacks && (callbacks =
                    Da[a] = []);
                callbacks.push(e)
            },
            off: function(a, e) {
                if ("undefined" === typeof e) Da[a] = [];
                else if (callbacks = Da[a], "undefined" !== typeof callbacks)
                    for (a = 0; a < callbacks.length; a++)
                        if (callbacks[a] === e) {
                            callbacks[a] = void 0;
                            break
                        }
            },
            fire: Ra,
            setPageData: function(a) {
                f.pageManager.setPageData(a)
            },
            getOutstandingCalls: function() {
                return a
            },
            unsupported: {
                pinchStartFn: na,
                pinchRotateFn: oa,
                pinchEndFn: xa
            }
        });
        G.init(Aa);
        Pa.init(Aa);
        return Aa
    }
})();
(function(e) {
    "function" === typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports && "object" == typeof module ? module.exports = e(require("jquery")) : e(jQuery)
})(function(e, g) {
    function a(a, f, g, h) {
        for (var k = [], l = 0; l < a.length; l++) {
            var n = a[l];
            if (n) {
                var p = tinycolor(n),
                    r = .5 > p.toHsl().l ? "sp-thumb-el sp-thumb-dark" : "sp-thumb-el sp-thumb-light";
                r += tinycolor.equals(f, n) ? " sp-thumb-active" : "";
                n = p.toString(h.preferredFormat || "rgb");
                var u = D ? "background-color:" + p.toRgbString() : "filter:" + p.toFilter();
                k.push('<span title="' + n + '" data-color="' + p.toRgbString() + '" class="' + r + '"><span class="sp-thumb-inner" style="' + u + ';" /></span>')
            } else k.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title", h.noColorSelectedText)).html())
        }
        return "<div class='sp-cf " + g + "'>" + k.join("") + "</div>"
    }

    function f(a, f) {
        a = e.extend({}, y, a);
        a.callbacks = {
            move: p(a.move, f),
            change: p(a.change, f),
            show: p(a.show, f),
            hide: p(a.hide, f),
            beforeShow: p(a.beforeShow,
                f)
        };
        return a
    }

    function h(h, l) {
        function p() {
            A.showPaletteOnly && (A.showPalette = !0);
            Ba.text(A.showPaletteOnly ? A.togglePaletteMoreText : A.togglePaletteLessText);
            if (A.palette) {
                Ca = A.palette.slice(0);
                Ja = e.isArray(Ca[0]) ? Ca : [Ca];
                Ya = {};
                for (var a = 0; a < Ja.length; a++)
                    for (var f = 0; f < Ja[a].length; f++) {
                        var g = tinycolor(Ja[a][f]).toRgbString();
                        Ya[g] = !0
                    }
            }
            Q.toggleClass("sp-flat", ma);
            Q.toggleClass("sp-input-disabled", !A.showInput);
            Q.toggleClass("sp-alpha-enabled", A.showAlpha);
            Q.toggleClass("sp-clear-enabled", Wa);
            Q.toggleClass("sp-buttons-disabled",
                !A.showButtons);
            Q.toggleClass("sp-palette-buttons-disabled", !A.togglePaletteOnly);
            Q.toggleClass("sp-palette-disabled", !A.showPalette);
            Q.toggleClass("sp-palette-only", A.showPaletteOnly);
            Q.toggleClass("sp-initial-disabled", !A.showInitial);
            Q.addClass(A.className).addClass(A.containerClassName);
            sa()
        }

        function y() {
            if (J && window.localStorage) {
                try {
                    var a = window.localStorage[J].split(",#");
                    1 < a.length && (delete window.localStorage[J], e.each(a, function(a, e) {
                        F(e)
                    }))
                } catch (Xa) {}
                try {
                    Da = window.localStorage[J].split(";")
                } catch (Xa) {}
            }
        }

        function F(a) {
            if (Ma) {
                a = tinycolor(a).toRgbString();
                if (!Ya[a] && -1 === e.inArray(a, Da))
                    for (Da.push(a); Da.length > Ra;) Da.shift();
                if (J && window.localStorage) try {
                    window.localStorage[J] = Da.join(";")
                } catch (Xa) {}
            }
        }

        function L() {
            var a = [];
            if (A.showPalette)
                for (var e = 0; e < Da.length; e++) {
                    var f = tinycolor(Da[e]).toRgbString();
                    Ya[f] || a.push(Da[e])
                }
            return a.reverse().slice(0, A.maxSelectionSize)
        }

        function ja() {
            var f = ca(),
                g = e.map(Ja, function(e, g) {
                    return a(e, f, "sp-palette-row sp-palette-row-" + g, A)
                });
            y();
            Da && g.push(a(L(), f, "sp-palette-row sp-palette-row-selection",
                A));
            Y.html(g.join(""))
        }

        function va() {
            if (A.showInitial) {
                var e = bb,
                    f = ca();
                Sa.html(a([e, f], f, "sp-palette-row-initial", A))
            }
        }

        function S() {
            (0 >= xa || 0 >= na || 0 >= R) && sa();
            E = !0;
            Q.addClass("sp-dragging");
            Pa = null;
            fa.trigger("dragstart.spectrum", [ca()])
        }

        function Z() {
            E = !1;
            Q.removeClass("sp-dragging");
            fa.trigger("dragstop.spectrum", [ca()])
        }

        function qa() {
            var a = Oa.val();
            null !== a && "" !== a || !Wa ? (a = tinycolor(a), a.isValid() ? (O(a), P(), da()) : Oa.addClass("sp-validation-error")) : (O(null), P(), da())
        }

        function Ha() {
            ta ? la() : Ea()
        }

        function Ea() {
            var a = e.Event("beforeShow.spectrum");
            if (ta) sa();
            else if (fa.trigger(a, [ca()]), !1 !== ea.beforeShow(ca()) && !a.isDefaultPrevented()) {
                for (a = 0; a < w.length; a++) w[a] && w[a].hide();
                ta = !0;
                e(Na).on("keydown.spectrum", Ia);
                e(Na).on("click.spectrum", La);
                e(window).on("resize.spectrum", I);
                $a.addClass("sp-active");
                Q.removeClass("sp-hidden");
                sa();
                M();
                bb = ca();
                va();
                ea.show(bb);
                fa.trigger("show.spectrum", [bb])
            }
        }

        function Ia(a) {
            27 === a.keyCode && la()
        }

        function La(a) {
            2 == a.button || E || (pb || O(bb, !0), da(!0), la())
        }

        function la() {
            ta &&
                !ma && (ta = !1, e(Na).off("keydown.spectrum", Ia), e(Na).off("click.spectrum", La), e(window).off("resize.spectrum", I), $a.removeClass("sp-active"), Q.addClass("sp-hidden"), ea.hide(ca()), fa.trigger("hide.spectrum", [ca()]))
        }

        function O(a, e) {
            if (tinycolor.equals(a, ca())) M();
            else {
                if (!a && Wa) Za = !0;
                else {
                    Za = !1;
                    var f = tinycolor(a);
                    a = f.toHsv();
                    wa = a.h % 360 / 360;
                    Fa = a.s;
                    ia = a.v;
                    pa = a.a
                }
                M();
                f && f.isValid() && !e && (cb = A.preferredFormat || f.getFormat())
            }
        }

        function ca(a) {
            a = a || {};
            return Wa && Za ? null : tinycolor.fromRatio({
                h: wa,
                s: Fa,
                v: ia,
                a: Math.round(1E3 * pa) / 1E3
            }, {
                format: a.format || cb
            })
        }

        function P() {
            M();
            ea.move(ca());
            fa.trigger("move.spectrum", [ca()])
        }

        function M() {
            Oa.removeClass("sp-validation-error");
            ba();
            var a = tinycolor.fromRatio({
                h: wa,
                s: 1,
                v: 1
            });
            G.css("background-color", a.toHexString());
            a = cb;
            !(1 > pa) || 0 === pa && "name" === a || "hex" !== a && "hex3" !== a && "hex6" !== a && "name" !== a || (a = "rgb");
            var e = ca({
                    format: a
                }),
                f = "";
            ab.removeClass("sp-clear-display");
            ab.css("background-color", "transparent");
            if (!e && Wa) ab.addClass("sp-clear-display");
            else {
                f = e.toHexString();
                var g = e.toRgbString();
                D || 1 === e.alpha ? ab.css("background-color", g) : (ab.css("background-color", "transparent"), ab.css("filter", e.toFilter()));
                if (A.showAlpha) {
                    g = e.toRgb();
                    g.a = 0;
                    g = tinycolor(g).toRgbString();
                    var h = "linear-gradient(left, " + g + ", " + f + ")";
                    C ? T.css("filter", tinycolor(g).toFilter({
                        gradientType: 1
                    }, f)) : (T.css("background", "-webkit-" + h), T.css("background", "-moz-" + h), T.css("background", "-ms-" + h), T.css("background", "linear-gradient(to right, " + g + ", " + f + ")"))
                }
                f = e.toString(a)
            }
            A.showInput && Oa.val(f);
            A.showPalette && ja();
            va()
        }

        function ba() {
            var a = Fa,
                e = ia;
            Wa && Za ? (za.hide(), z.hide(), Ga.hide()) : (za.show(), z.show(), Ga.show(), a *= na, e = xa - e * xa, a = Math.max(-oa, Math.min(na - oa, a - oa)), e = Math.max(-oa, Math.min(xa - oa, e - oa)), Ga.css({
                top: e + "px",
                left: a + "px"
            }), za.css({
                left: pa * ha - H / 2 - 2 + "px"
            }), z.css({
                top: wa * R - m + "px"
            }))
        }

        function da(a) {
            var e = ca(),
                f = "",
                g = !tinycolor.equals(e, bb);
            e && (f = e.toString(cb), F(e));
            Ka && fa.val(f);
            a && g && (ea.change(e), fa.trigger("change", [e]))
        }

        function sa() {
            ta && (na = G.width(), xa = G.height(), oa = Ga.height(),
                Aa.width(), R = Aa.height(), m = z.height(), ha = X.width(), H = za.width(), ma || (Q.css("position", "absolute"), A.offset ? Q.offset(A.offset) : Q.offset(k(Q, fb))), ba(), A.showPalette && ja(), fa.trigger("reflow.spectrum"))
        }

        function Va() {
            la();
            Ua = !0;
            fa.attr("disabled", !0);
            fb.addClass("sp-disabled")
        }
        var A = f(l, h),
            ma = A.flat,
            Ma = A.showSelectionPalette,
            J = A.localStorageKey;
        l = A.theme;
        var ea = A.callbacks,
            I = u(sa, 10),
            ta = !1,
            E = !1,
            na = 0,
            xa = 0,
            oa = 0,
            R = 0,
            ha = 0,
            H = 0,
            m = 0,
            wa = 0,
            Fa = 0,
            ia = 0,
            pa = 1,
            Ca = [],
            Ja = [],
            Ya = {},
            Da = A.selectionPalette.slice(0),
            Ra = A.maxSelectionSize,
            Pa = null,
            Na = h.ownerDocument,
            fa = e(h),
            Ua = !1,
            Q = e(K, Na).addClass(l),
            Qa = Q.find(".sp-picker-container"),
            G = Q.find(".sp-color"),
            Ga = Q.find(".sp-dragger"),
            Aa = Q.find(".sp-hue"),
            z = Q.find(".sp-slider"),
            T = Q.find(".sp-alpha-inner"),
            X = Q.find(".sp-alpha"),
            za = Q.find(".sp-alpha-handle"),
            Oa = Q.find(".sp-input"),
            Y = Q.find(".sp-palette"),
            Sa = Q.find(".sp-initial"),
            N = Q.find(".sp-cancel"),
            ya = Q.find(".sp-clear"),
            ra = Q.find(".sp-choose"),
            Ba = Q.find(".sp-palette-toggle"),
            Ka = fa.is("input");
        h = Ka && "color" === fa.attr("type") && e.fn.spectrum.inputTypeColorSupport();
        var db = Ka && !ma,
            $a = db ? e("<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'></div></div><div class='sp-dd'>&#9660;</div></div>").addClass(l).addClass(A.className).addClass(A.replacerClassName) : e([]),
            fb = db ? $a : fa,
            ab = $a.find(".sp-preview-inner"),
            gb = A.color || Ka && fa.val(),
            bb = !1,
            cb = A.preferredFormat,
            pb = !A.showButtons || A.clickoutFiresChange,
            Za = !gb,
            Wa = A.allowEmpty && !h;
        (function() {
            function a(a) {
                a.data && a.data.ignore ? (O(e(a.target).closest(".sp-thumb-el").data("color")), P()) : (O(e(a.target).closest(".sp-thumb-el").data("color")),
                    P(), A.hideAfterPaletteSelect ? (da(!0), la()) : da());
                return !1
            }
            C && Q.find("*:not(input)").attr("unselectable", "on");
            p();
            db && fa.after($a).hide();
            Wa || ya.hide();
            if (ma) fa.after(Q).hide();
            else {
                var f = "parent" === A.appendTo ? fa.parent() : e(A.appendTo);
                1 !== f.length && (f = e("body"));
                f.append(Q)
            }
            y();
            fb.on("click.spectrum touchstart.spectrum", function(a) {
                Ua || Ha();
                a.stopPropagation();
                e(a.target).is("input") || a.preventDefault()
            });
            (fa.is(":disabled") || !0 === A.disabled) && Va();
            Q.click(n);
            Oa.change(qa);
            Oa.on("paste", function() {
                setTimeout(qa,
                    1)
            });
            Oa.keydown(function(a) {
                13 == a.keyCode && qa()
            });
            N.text(A.cancelText);
            N.on("click.spectrum", function(a) {
                a.stopPropagation();
                a.preventDefault();
                O(bb, !0);
                da(!0);
                la();
                P()
            });
            ya.attr("title", A.clearText);
            ya.on("click.spectrum", function(a) {
                a.stopPropagation();
                a.preventDefault();
                Za = !0;
                P();
                ma && da(!0)
            });
            ra.text(A.chooseText);
            ra.on("click.spectrum", function(a) {
                a.stopPropagation();
                a.preventDefault();
                C && Oa.is(":focus") && Oa.trigger("change");
                Oa.hasClass("sp-validation-error") || (da(!0), la())
            });
            Ba.text(A.showPaletteOnly ?
                A.togglePaletteMoreText : A.togglePaletteLessText);
            Ba.on("click.spectrum", function(a) {
                a.stopPropagation();
                a.preventDefault();
                A.showPaletteOnly = !A.showPaletteOnly;
                A.showPaletteOnly || ma || Q.css("left", "-=" + (Qa.outerWidth(!0) + 5));
                p()
            });
            r(X, function(a, e, f) {
                pa = a / ha;
                Za = !1;
                f.shiftKey && (pa = Math.round(10 * pa) / 10);
                P()
            }, S, Z);
            r(Aa, function(a, e) {
                if (0 == Fa || 0 == ia) ia = Fa = 1;
                wa = parseFloat(e / R);
                Za = !1;
                A.showAlpha || (pa = 1);
                P()
            }, S, Z);
            r(G, function(a, e, f) {
                f.shiftKey ? Pa || (Pa = Math.abs(a - Fa * na) > Math.abs(e - (xa - ia * xa)) ? "x" : "y") : Pa =
                    null;
                f = !Pa || "y" === Pa;
                Pa && "x" !== Pa || (Fa = parseFloat(a / na));
                f && (ia = parseFloat((xa - e) / xa));
                Za = !1;
                A.showAlpha || (pa = 1);
                P()
            }, S, Z);
            gb ? (O(gb), M(), cb = A.preferredFormat || tinycolor(gb).format, F(gb)) : M();
            ma && Ea();
            f = C ? "mousedown.spectrum" : "click.spectrum touchstart.spectrum";
            Y.on(f, ".sp-thumb-el", a);
            Sa.on(f, ".sp-thumb-el:nth-child(1)", {
                ignore: !0
            }, a)
        })();
        var eb = {
            show: Ea,
            hide: la,
            toggle: Ha,
            reflow: sa,
            option: function(a, f) {
                if (a === g) return e.extend({}, A);
                if (f === g) return A[a];
                A[a] = f;
                "preferredFormat" === a && (cb = A.preferredFormat);
                p()
            },
            enable: function() {
                Ua = !1;
                fa.attr("disabled", !1);
                fb.removeClass("sp-disabled")
            },
            disable: Va,
            offset: function(a) {
                A.offset = a;
                sa()
            },
            set: function(a) {
                O(a);
                da()
            },
            get: ca,
            destroy: function() {
                fa.show();
                fb.off("click.spectrum touchstart.spectrum");
                Q.remove();
                $a.remove();
                w[eb.id] = null
            },
            container: Q
        };
        eb.id = w.push(eb) - 1;
        return eb
    }

    function k(a, f) {
        var g = a.outerWidth(),
            h = a.outerHeight(),
            k = f.outerHeight(),
            l = a[0].ownerDocument,
            n = l.documentElement;
        a = n.clientWidth + e(l).scrollLeft();
        l = n.clientHeight + e(l).scrollTop();
        f =
            f.offset();
        n = f.left;
        var p = f.top;
        p += k;
        n -= Math.min(n, n + g > a && a > g ? Math.abs(n + g - a) : 0);
        p -= Math.min(p, p + h > l && l > h ? Math.abs(h + k - 0) : 0);
        return {
            top: p,
            bottom: f.bottom,
            left: n,
            right: f.right,
            width: f.width,
            height: f.height
        }
    }

    function l() {}

    function n(a) {
        a.stopPropagation()
    }

    function p(a, e) {
        var f = Array.prototype.slice,
            g = f.call(arguments, 2);
        return function() {
            return a.apply(e, g.concat(f.call(arguments)))
        }
    }

    function r(a, f, g, h) {
        function k(a) {
            a.stopPropagation && a.stopPropagation();
            a.preventDefault && a.preventDefault();
            a.returnValue = !1
        }

        function l(e) {
            if (r) {
                if (C && 9 > p.documentMode && !e.button) return n();
                var g = e.originalEvent && e.originalEvent.touches && e.originalEvent.touches[0],
                    h = Math.max(0, Math.min((g && g.pageX || e.pageX) - u.left, y));
                g = Math.max(0, Math.min((g && g.pageY || e.pageY) - u.top, w));
                B && k(e);
                f.apply(a, [h, g, e])
            }
        }

        function n() {
            r && (e(p).off(F), e(p.body).removeClass("sp-dragging"), setTimeout(function() {
                h.apply(a, arguments)
            }, 0));
            r = !1
        }
        f = f || function() {};
        g = g || function() {};
        h = h || function() {};
        var p = document,
            r = !1,
            u = {},
            w = 0,
            y = 0,
            B = "ontouchstart" in
            window,
            F = {};
        F.selectstart = k;
        F.dragstart = k;
        F["touchmove mousemove"] = l;
        F["touchend mouseup"] = n;
        e(a).on("touchstart mousedown", function(f) {
            (f.which ? 3 == f.which : 2 == f.button) || r || !1 === g.apply(a, arguments) || (r = !0, w = e(a).height(), y = e(a).width(), u = e(a).offset(), e(p).on(F), e(p.body).addClass("sp-dragging"), l(f), k(f))
        })
    }

    function u(a, e, f) {
        console.log("TES 7");
        var g;
        return function() {
            var h = this,
                k = arguments,
                l = function() {
                    g = null;
                    a.apply(h, k)
                };
            f && clearTimeout(g);
            if (f || !g) g = setTimeout(l, e)
        }
    }
    var y = {
            beforeShow: l,
            move: l,
            change: l,
            show: l,
            hide: l,
            color: !1,
            flat: !1,
            showInput: !1,
            allowEmpty: !1,
            showButtons: !0,
            clickoutFiresChange: !0,
            showInitial: !1,
            showPalette: !1,
            showPaletteOnly: !1,
            hideAfterPaletteSelect: !1,
            togglePaletteOnly: !1,
            showSelectionPalette: !0,
            localStorageKey: !1,
            appendTo: "body",
            maxSelectionSize: 7,
            cancelText: "cancel",
            chooseText: "Okay",
            togglePaletteMoreText: "more",
            togglePaletteLessText: "less",
            clearText: "Clear Color Selection",
            noColorSelectedText: "No Color Selected",
            preferredFormat: !1,
            className: "",
            containerClassName: "",
            replacerClassName: "",
            showAlpha: !1,
            theme: "sp-light",
            palette: ["#ffffff #000000 #ff0000 #ff8000 #ffff00 #008000 #0000ff #4b0082 #9400d3".split(" ")],
            selectionPalette: [],
            disabled: !1,
            offset: null
        },
        w = [],
        C = !!/msie/i.exec(window.navigator.userAgent),
        D = function() {
            var a = document.createElement("div").style;
            a.cssText = "background-color:rgba(0,0,0,.5)";
            return !!~("" + a.backgroundColor).indexOf("rgba") || !!~("" + a.backgroundColor).indexOf("hsla")
        }(),
        K = function() {
            var a = "";
            if (C)
                for (var e = 1; 6 >= e; e++) a += "<div class='sp-" + e + "'></div>";
            return ["<div class='sp-container sp-hidden'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div><div class='sp-palette-button-container sp-cf'><button type='button' class='sp-palette-toggle'></button></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'><div class='sp-dragger-inner'></div></div></div></div></div><div class='sp-clear sp-clear-display'></div><div class='sp-hue'><div class='sp-slider'></div>",
                a, "</div></div><div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'  /></div><div class='sp-initial sp-thumb sp-cf'></div><div class='sp-button-container sp-cf'><a class='sp-cancel' href='#'></a><button type='button' class='sp-choose'></button></div></div></div>"
            ].join("")
        }();
    e.fn.spectrum = function(a, f) {
        if ("string" == typeof a) {
            var g = this,
                k = Array.prototype.slice.call(arguments,
                    1);
            this.each(function() {
                var f = w[e(this).data("spectrum.id")];
                if (f) {
                    var h = f[a];
                    if (!h) throw Error("Spectrum: no such method: '" + a + "'");
                    "get" == a ? g = f.get() : "container" == a ? g = f.container : "option" == a ? g = f.option.apply(f, k) : "destroy" == a ? (f.destroy(), e(this).removeData("spectrum.id")) : h.apply(f, k)
                }
            });
            return g
        }
        return this.spectrum("destroy").each(function() {
            var f = e.extend({}, e(this).data(), a);
            f = h(this, f);
            e(this).data("spectrum.id", f.id)
        })
    };
    e.fn.spectrum.load = !0;
    e.fn.spectrum.loadOpts = {};
    e.fn.spectrum.draggable =
        r;
    e.fn.spectrum.defaults = y;
    e.fn.spectrum.inputTypeColorSupport = function F() {
        if ("undefined" === typeof F._cachedResult) {
            var a = e("<input type='color'/>")[0];
            F._cachedResult = "color" === a.type && "" !== a.value
        }
        return F._cachedResult
    };
    e.spectrum = {};
    e.spectrum.localization = {};
    e.spectrum.palettes = {};
    e.fn.spectrum.processNativeColorInputs = function() {
        var a = e("input[type=color]");
        a.length && !e.fn.spectrum.inputTypeColorSupport() && a.spectrum({
            preferredFormat: "hex6"
        })
    };
    (function() {
        function a(a, e, f) {
            a = ba(a, 255);
            e = ba(e,
                255);
            f = ba(f, 255);
            var g = I(a, e, f),
                h = ea(a, e, f),
                k = (g + h) / 2;
            if (g == h) var l = h = 0;
            else {
                var n = g - h;
                h = .5 < k ? n / (2 - g - h) : n / (g + h);
                switch (g) {
                    case a:
                        l = (e - f) / n + (e < f ? 6 : 0);
                        break;
                    case e:
                        l = (f - a) / n + 2;
                        break;
                    case f:
                        l = (a - e) / n + 4
                }
                l /= 6
            }
            return {
                h: l,
                s: h,
                l: k
            }
        }

        function e(a, e, f) {
            function g(a, e, f) {
                0 > f && (f += 1);
                1 < f && --f;
                return f < 1 / 6 ? a + 6 * (e - a) * f : .5 > f ? e : f < 2 / 3 ? a + (e - a) * (2 / 3 - f) * 6 : a
            }
            a = ba(a, 360);
            e = ba(e, 100);
            f = ba(f, 100);
            if (0 === e) f = e = a = f;
            else {
                var h = .5 > f ? f * (1 + e) : f + e - f * e,
                    k = 2 * f - h;
                f = g(k, h, a + 1 / 3);
                e = g(k, h, a);
                a = g(k, h, a - 1 / 3)
            }
            return {
                r: 255 * f,
                g: 255 * e,
                b: 255 *
                    a
            }
        }

        function f(a, e, f) {
            a = ba(a, 255);
            e = ba(e, 255);
            f = ba(f, 255);
            var g = I(a, e, f),
                h = ea(a, e, f),
                k = g - h;
            if (g == h) var l = 0;
            else {
                switch (g) {
                    case a:
                        l = (e - f) / k + (e < f ? 6 : 0);
                        break;
                    case e:
                        l = (f - a) / k + 2;
                        break;
                    case f:
                        l = (a - e) / k + 4
                }
                l /= 6
            }
            return {
                h: l,
                s: 0 === g ? 0 : k / g,
                v: g
            }
        }

        function g(a, e, f, g) {
            a = [C(J(a).toString(16)), C(J(e).toString(16)), C(J(f).toString(16))];
            return g && a[0].charAt(0) == a[0].charAt(1) && a[1].charAt(0) == a[1].charAt(1) && a[2].charAt(0) == a[2].charAt(1) ? a[0].charAt(0) + a[1].charAt(0) + a[2].charAt(0) : a.join("")
        }

        function h(a, e, f, g) {
            return [C(Math.round(255 *
                parseFloat(g)).toString(16)), C(J(a).toString(16)), C(J(e).toString(16)), C(J(f).toString(16))].join("")
        }

        function k(a, e) {
            e = 0 === e ? 0 : e || 10;
            a = E(a).toHsl();
            a.s -= e / 100;
            a.s = ea(1, I(0, a.s));
            return E(a)
        }

        function l(a, e) {
            e = 0 === e ? 0 : e || 10;
            a = E(a).toHsl();
            a.s += e / 100;
            a.s = ea(1, I(0, a.s));
            return E(a)
        }

        function n(a) {
            return E(a).desaturate(100)
        }

        function p(a, e) {
            e = 0 === e ? 0 : e || 10;
            a = E(a).toHsl();
            a.l += e / 100;
            a.l = ea(1, I(0, a.l));
            return E(a)
        }

        function r(a, e) {
            e = 0 === e ? 0 : e || 10;
            a = E(a).toRgb();
            a.r = I(0, ea(255, a.r - J(255 * -(e / 100))));
            a.g = I(0,
                ea(255, a.g - J(255 * -(e / 100))));
            a.b = I(0, ea(255, a.b - J(255 * -(e / 100))));
            return E(a)
        }

        function u(a, e) {
            console.log("TES 8");
            e = 0 === e ? 0 : e || 10;
            a = E(a).toHsl();
            a.l -= e / 100;
            a.l = ea(1, I(0, a.l));
            return E(a)
        }

        function w(a, e) {
            a = E(a).toHsl();
            e = (J(a.h) + e) % 360;
            a.h = 0 > e ? 360 + e : e;
            return E(a)
        }

        function y(a) {
            a = E(a).toHsl();
            a.h = (a.h + 180) % 360;
            return E(a)
        }

        function K(a) {
            var e = E(a).toHsl(),
                f = e.h;
            return [E(a), E({
                h: (f + 120) % 360,
                s: e.s,
                l: e.l
            }), E({
                h: (f + 240) % 360,
                s: e.s,
                l: e.l
            })]
        }

        function D(a) {
            var e = E(a).toHsl(),
                f = e.h;
            return [E(a), E({
                h: (f + 90) % 360,
                s: e.s,
                l: e.l
            }), E({
                h: (f +
                    180) % 360,
                s: e.s,
                l: e.l
            }), E({
                h: (f + 270) % 360,
                s: e.s,
                l: e.l
            })]
        }

        function O(a) {
            var e = E(a).toHsl(),
                f = e.h;
            return [E(a), E({
                h: (f + 72) % 360,
                s: e.s,
                l: e.l
            }), E({
                h: (f + 216) % 360,
                s: e.s,
                l: e.l
            })]
        }

        function ca(a, e, f) {
            e = e || 6;
            f = f || 30;
            var g = E(a).toHsl();
            f = 360 / f;
            a = [E(a)];
            for (g.h = (g.h - (f * e >> 1) + 720) % 360; --e;) g.h = (g.h + f) % 360, a.push(E(g));
            return a
        }

        function P(a, e) {
            e = e || 6;
            var f = E(a).toHsv();
            a = f.h;
            var g = f.s;
            f = f.v;
            for (var h = [], k = 1 / e; e--;) h.push(E({
                h: a,
                s: g,
                v: f
            })), f = (f + k) % 1;
            return h
        }

        function M(a) {
            a = parseFloat(a);
            if (isNaN(a) || 0 > a || 1 < a) a = 1;
            return a
        }

        function ba(a, e) {
            var f = a;
            "string" == typeof f && -1 != f.indexOf(".") && 1 === parseFloat(f) && (a = "100%");
            f = "string" === typeof a && -1 != a.indexOf("%");
            a = ea(e, I(0, parseFloat(a)));
            f && (a = parseInt(a * e, 10) / 100);
            return 1E-6 > Ma.abs(a - e) ? 1 : a % e / parseFloat(e)
        }

        function C(a) {
            return 1 == a.length ? "0" + a : "" + a
        }

        function sa(a) {
            1 >= a && (a = 100 * a + "%");
            return a
        }
        var Va = /^[\s,#]+/,
            A = /\s+$/,
            ma = 0,
            Ma = Math,
            J = Ma.round,
            ea = Ma.min,
            I = Ma.max,
            ta = Ma.random,
            E = function(a, f) {
                var g, h;
                a = a ? a : "";
                f = f || {};
                if (a instanceof E) return a;
                if (!(this instanceof E)) return new E(a,
                    f);
                var k = a;
                var l = {
                    r: 0,
                    g: 0,
                    b: 0
                };
                var n = 1;
                var p = g = !1;
                if ("string" == typeof k) a: {
                    k = k.replace(Va, "").replace(A, "").toLowerCase();
                    var r = !1;
                    if (na[k]) k = na[k],
                    r = !0;
                    else if ("transparent" == k) {
                        k = {
                            r: 0,
                            g: 0,
                            b: 0,
                            a: 0,
                            format: "name"
                        };
                        break a
                    }
                    k = (h = oa.rgb.exec(k)) ? {
                        r: h[1],
                        g: h[2],
                        b: h[3]
                    } : (h = oa.rgba.exec(k)) ? {
                        r: h[1],
                        g: h[2],
                        b: h[3],
                        a: h[4]
                    } : (h = oa.hsl.exec(k)) ? {
                        h: h[1],
                        s: h[2],
                        l: h[3]
                    } : (h = oa.hsla.exec(k)) ? {
                        h: h[1],
                        s: h[2],
                        l: h[3],
                        a: h[4]
                    } : (h = oa.hsv.exec(k)) ? {
                        h: h[1],
                        s: h[2],
                        v: h[3]
                    } : (h = oa.hsva.exec(k)) ? {
                        h: h[1],
                        s: h[2],
                        v: h[3],
                        a: h[4]
                    } : (h =
                        oa.hex8.exec(k)) ? {
                        a: parseInt(h[1], 16) / 255,
                        r: parseInt(h[2], 16),
                        g: parseInt(h[3], 16),
                        b: parseInt(h[4], 16),
                        format: r ? "name" : "hex8"
                    } : (h = oa.hex6.exec(k)) ? {
                        r: parseInt(h[1], 16),
                        g: parseInt(h[2], 16),
                        b: parseInt(h[3], 16),
                        format: r ? "name" : "hex"
                    } : (h = oa.hex3.exec(k)) ? {
                        r: parseInt(h[1] + "" + h[1], 16),
                        g: parseInt(h[2] + "" + h[2], 16),
                        b: parseInt(h[3] + "" + h[3], 16),
                        format: r ? "name" : "hex"
                    } : !1
                }
                if ("object" == typeof k) {
                    if (k.hasOwnProperty("r") && k.hasOwnProperty("g") && k.hasOwnProperty("b")) l = k.g, g = k.b, l = {
                        r: 255 * ba(k.r, 255),
                        g: 255 * ba(l, 255),
                        b: 255 * ba(g, 255)
                    }, g = !0, p = "%" === String(k.r).substr(-1) ? "prgb" : "rgb";
                    else if (k.hasOwnProperty("h") && k.hasOwnProperty("s") && k.hasOwnProperty("v")) {
                        k.s = sa(k.s);
                        k.v = sa(k.v);
                        p = k.h;
                        r = k.s;
                        l = k.v;
                        p = 6 * ba(p, 360);
                        r = ba(r, 100);
                        l = ba(l, 100);
                        g = Ma.floor(p);
                        var u = p - g;
                        p = l * (1 - r);
                        h = l * (1 - u * r);
                        r = l * (1 - (1 - u) * r);
                        g %= 6;
                        l = {
                            r: 255 * [l, h, p, p, r, l][g],
                            g: 255 * [r, l, l, h, p, p][g],
                            b: 255 * [p, p, r, l, l, h][g]
                        };
                        g = !0;
                        p = "hsv"
                    } else k.hasOwnProperty("h") && k.hasOwnProperty("s") && k.hasOwnProperty("l") && (k.s = sa(k.s), k.l = sa(k.l), l = e(k.h, k.s, k.l), g = !0, p = "hsl");
                    k.hasOwnProperty("a") && (n = k.a)
                }
                n = M(n);
                k = k.format || p;
                p = ea(255, I(l.r, 0));
                h = ea(255, I(l.g, 0));
                l = ea(255, I(l.b, 0));
                this._originalInput = a;
                this._r = p;
                this._g = h;
                this._b = l;
                this._a = n;
                this._roundA = J(1E3 * this._a) / 1E3;
                this._format = f.format || k;
                this._gradientType = f.gradientType;
                1 > this._r && (this._r = J(this._r));
                1 > this._g && (this._g = J(this._g));
                1 > this._b && (this._b = J(this._b));
                this._ok = g;
                this._tc_id = ma++
            };
        E.prototype = {
            isDark: function() {
                return 128 > this.getBrightness()
            },
            isLight: function() {
                return !this.isDark()
            },
            isValid: function() {
                return this._ok
            },
            getOriginalInput: function() {
                return this._originalInput
            },
            getFormat: function() {
                return this._format
            },
            getAlpha: function() {
                return this._a
            },
            getBrightness: function() {
                var a = this.toRgb();
                return (299 * a.r + 587 * a.g + 114 * a.b) / 1E3
            },
            setAlpha: function(a) {
                this._a = M(a);
                this._roundA = J(1E3 * this._a) / 1E3;
                return this
            },
            toHsv: function() {
                var a = f(this._r, this._g, this._b);
                return {
                    h: 360 * a.h,
                    s: a.s,
                    v: a.v,
                    a: this._a
                }
            },
            toHsvString: function() {
                var a = f(this._r, this._g, this._b),
                    e = J(360 * a.h),
                    g = J(100 * a.s);
                a = J(100 * a.v);
                return 1 == this._a ? "hsv(" +
                    e + ", " + g + "%, " + a + "%)" : "hsva(" + e + ", " + g + "%, " + a + "%, " + this._roundA + ")"
            },
            toHsl: function() {
                var e = a(this._r, this._g, this._b);
                return {
                    h: 360 * e.h,
                    s: e.s,
                    l: e.l,
                    a: this._a
                }
            },
            toHslString: function() {
                var e = a(this._r, this._g, this._b),
                    f = J(360 * e.h),
                    g = J(100 * e.s);
                e = J(100 * e.l);
                return 1 == this._a ? "hsl(" + f + ", " + g + "%, " + e + "%)" : "hsla(" + f + ", " + g + "%, " + e + "%, " + this._roundA + ")"
            },
            toHex: function(a) {
                return g(this._r, this._g, this._b, a)
            },
            toHexString: function(a) {
                return "#" + this.toHex(a)
            },
            toHex8: function() {
                return h(this._r, this._g, this._b,
                    this._a)
            },
            toHex8String: function() {
                return "#" + this.toHex8()
            },
            toRgb: function() {
                return {
                    r: J(this._r),
                    g: J(this._g),
                    b: J(this._b),
                    a: this._a
                }
            },
            toRgbString: function() {
                return 1 == this._a ? "rgb(" + J(this._r) + ", " + J(this._g) + ", " + J(this._b) + ")" : "rgba(" + J(this._r) + ", " + J(this._g) + ", " + J(this._b) + ", " + this._roundA + ")"
            },
            toPercentageRgb: function() {
                return {
                    r: J(100 * ba(this._r, 255)) + "%",
                    g: J(100 * ba(this._g, 255)) + "%",
                    b: J(100 * ba(this._b, 255)) + "%",
                    a: this._a
                }
            },
            toPercentageRgbString: function() {
                return 1 == this._a ? "rgb(" + J(100 * ba(this._r,
                    255)) + "%, " + J(100 * ba(this._g, 255)) + "%, " + J(100 * ba(this._b, 255)) + "%)" : "rgba(" + J(100 * ba(this._r, 255)) + "%, " + J(100 * ba(this._g, 255)) + "%, " + J(100 * ba(this._b, 255)) + "%, " + this._roundA + ")"
            },
            toName: function() {
                return 0 === this._a ? "transparent" : 1 > this._a ? !1 : xa[g(this._r, this._g, this._b, !0)] || !1
            },
            toFilter: function(a) {
                var e = "#" + h(this._r, this._g, this._b, this._a),
                    f = e,
                    g = this._gradientType ? "GradientType = 1, " : "";
                a && (f = E(a).toHex8String());
                return "progid:DXImageTransform.Microsoft.gradient(" + g + "startColorstr=" + e + ",endColorstr=" +
                    f + ")"
            },
            toString: function(a) {
                var e = !!a;
                a = a || this._format;
                var f = !1,
                    g = 1 > this._a && 0 <= this._a;
                if (!e && g && ("hex" === a || "hex6" === a || "hex3" === a || "name" === a)) return "name" === a && 0 === this._a ? this.toName() : this.toRgbString();
                "rgb" === a && (f = this.toRgbString());
                "prgb" === a && (f = this.toPercentageRgbString());
                if ("hex" === a || "hex6" === a) f = this.toHexString();
                "hex3" === a && (f = this.toHexString(!0));
                "hex8" === a && (f = this.toHex8String());
                "name" === a && (f = this.toName());
                "hsl" === a && (f = this.toHslString());
                "hsv" === a && (f = this.toHsvString());
                return f || this.toHexString()
            },
            _applyModification: function(a, e) {
                a = a.apply(null, [this].concat([].slice.call(e)));
                this._r = a._r;
                this._g = a._g;
                this._b = a._b;
                this.setAlpha(a._a);
                return this
            },
            lighten: function() {
                return this._applyModification(p, arguments)
            },
            brighten: function() {
                return this._applyModification(r, arguments)
            },
            darken: function() {
                return this._applyModification(u, arguments)
            },
            desaturate: function() {
                return this._applyModification(k, arguments)
            },
            saturate: function() {
                return this._applyModification(l, arguments)
            },
            greyscale: function() {
                return this._applyModification(n, arguments)
            },
            spin: function() {
                return this._applyModification(w, arguments)
            },
            _applyCombination: function(a, e) {
                return a.apply(null, [this].concat([].slice.call(e)))
            },
            analogous: function() {
                return this._applyCombination(ca, arguments)
            },
            complement: function() {
                return this._applyCombination(y, arguments)
            },
            monochromatic: function() {
                return this._applyCombination(P, arguments)
            },
            splitcomplement: function() {
                return this._applyCombination(O, arguments)
            },
            triad: function() {
                return this._applyCombination(K,
                    arguments)
            },
            tetrad: function() {
                return this._applyCombination(D, arguments)
            }
        };
        E.fromRatio = function(a, e) {
            if ("object" == typeof a) {
                var f = {},
                    g;
                for (g in a) a.hasOwnProperty(g) && (f[g] = "a" === g ? a[g] : sa(a[g]));
                a = f
            }
            return E(a, e)
        };
        E.equals = function(a, e) {
            return a && e ? E(a).toRgbString() == E(e).toRgbString() : !1
        };
        E.random = function() {
            return E.fromRatio({
                r: ta(),
                g: ta(),
                b: ta()
            })
        };
        E.mix = function(a, e, f) {
            f = 0 === f ? 0 : f || 50;
            a = E(a).toRgb();
            e = E(e).toRgb();
            f /= 100;
            var g = 2 * f - 1,
                h = e.a - a.a;
            g = ((-1 == g * h ? g : (g + h) / (1 + g * h)) + 1) / 2;
            h = 1 - g;
            return E({
                r: e.r *
                    g + a.r * h,
                g: e.g * g + a.g * h,
                b: e.b * g + a.b * h,
                a: e.a * f + a.a * (1 - f)
            })
        };
        E.readability = function(a, e) {
            var f = E(a),
                g = E(e);
            e = f.toRgb();
            a = g.toRgb();
            f = f.getBrightness();
            g = g.getBrightness();
            return {
                brightness: Math.abs(f - g),
                color: Math.max(e.r, a.r) - Math.min(e.r, a.r) + Math.max(e.g, a.g) - Math.min(e.g, a.g) + Math.max(e.b, a.b) - Math.min(e.b, a.b)
            }
        };
        E.isReadable = function(a, e) {
            a = E.readability(a, e);
            return 125 < a.brightness && 500 < a.color
        };
        E.mostReadable = function(a, e) {
            for (var f = null, g = 0, h = !1, k = 0; k < e.length; k++) {
                var l = E.readability(a, e[k]),
                    n = 125 < l.brightness && 500 < l.color;
                l = l.brightness / 125 * 3 + l.color / 500;
                if (n && !h || n && h && l > g || !n && !h && l > g) h = n, g = l, f = E(e[k])
            }
            return f
        };
        var na = E.names = {
                aliceblue: "f0f8ff",
                antiquewhite: "faebd7",
                aqua: "0ff",
                aquamarine: "7fffd4",
                azure: "f0ffff",
                beige: "f5f5dc",
                bisque: "ffe4c4",
                black: "000",
                blanchedalmond: "ffebcd",
                blue: "00f",
                blueviolet: "8a2be2",
                brown: "a52a2a",
                burlywood: "deb887",
                burntsienna: "ea7e5d",
                cadetblue: "5f9ea0",
                chartreuse: "7fff00",
                chocolate: "d2691e",
                coral: "ff7f50",
                cornflowerblue: "6495ed",
                cornsilk: "fff8dc",
                crimson: "dc143c",
                cyan: "0ff",
                darkblue: "00008b",
                darkcyan: "008b8b",
                darkgoldenrod: "b8860b",
                darkgray: "a9a9a9",
                darkgreen: "006400",
                darkgrey: "a9a9a9",
                darkkhaki: "bdb76b",
                darkmagenta: "8b008b",
                darkolivegreen: "556b2f",
                darkorange: "ff8c00",
                darkorchid: "9932cc",
                darkred: "8b0000",
                darksalmon: "e9967a",
                darkseagreen: "8fbc8f",
                darkslateblue: "483d8b",
                darkslategray: "2f4f4f",
                darkslategrey: "2f4f4f",
                darkturquoise: "00ced1",
                darkviolet: "9400d3",
                deeppink: "ff1493",
                deepskyblue: "00bfff",
                dimgray: "696969",
                dimgrey: "696969",
                dodgerblue: "1e90ff",
                firebrick: "b22222",
                floralwhite: "fffaf0",
                forestgreen: "228b22",
                fuchsia: "f0f",
                gainsboro: "dcdcdc",
                ghostwhite: "f8f8ff",
                gold: "ffd700",
                goldenrod: "daa520",
                gray: "808080",
                green: "008000",
                greenyellow: "adff2f",
                grey: "808080",
                honeydew: "f0fff0",
                hotpink: "ff69b4",
                indianred: "cd5c5c",
                indigo: "4b0082",
                ivory: "fffff0",
                khaki: "f0e68c",
                lavender: "e6e6fa",
                lavenderblush: "fff0f5",
                lawngreen: "7cfc00",
                lemonchiffon: "fffacd",
                lightblue: "add8e6",
                lightcoral: "f08080",
                lightcyan: "e0ffff",
                lightgoldenrodyellow: "fafad2",
                lightgray: "d3d3d3",
                lightgreen: "90ee90",
                lightgrey: "d3d3d3",
                lightpink: "ffb6c1",
                lightsalmon: "ffa07a",
                lightseagreen: "20b2aa",
                lightskyblue: "87cefa",
                lightslategray: "789",
                lightslategrey: "789",
                lightsteelblue: "b0c4de",
                lightyellow: "ffffe0",
                lime: "0f0",
                limegreen: "32cd32",
                linen: "faf0e6",
                magenta: "f0f",
                maroon: "800000",
                mediumaquamarine: "66cdaa",
                mediumblue: "0000cd",
                mediumorchid: "ba55d3",
                mediumpurple: "9370db",
                mediumseagreen: "3cb371",
                mediumslateblue: "7b68ee",
                mediumspringgreen: "00fa9a",
                mediumturquoise: "48d1cc",
                mediumvioletred: "c71585",
                midnightblue: "191970",
                mintcream: "f5fffa",
                mistyrose: "ffe4e1",
                moccasin: "ffe4b5",
                navajowhite: "ffdead",
                navy: "000080",
                oldlace: "fdf5e6",
                olive: "808000",
                olivedrab: "6b8e23",
                orange: "ffa500",
                orangered: "ff4500",
                orchid: "da70d6",
                palegoldenrod: "eee8aa",
                palegreen: "98fb98",
                paleturquoise: "afeeee",
                palevioletred: "db7093",
                papayawhip: "ffefd5",
                peachpuff: "ffdab9",
                peru: "cd853f",
                pink: "ffc0cb",
                plum: "dda0dd",
                powderblue: "b0e0e6",
                purple: "800080",
                rebeccapurple: "663399",
                red: "f00",
                rosybrown: "bc8f8f",
                royalblue: "4169e1",
                saddlebrown: "8b4513",
                salmon: "fa8072",
                sandybrown: "f4a460",
                seagreen: "2e8b57",
                seashell: "fff5ee",
                sienna: "a0522d",
                silver: "c0c0c0",
                skyblue: "87ceeb",
                slateblue: "6a5acd",
                slategray: "708090",
                slategrey: "708090",
                snow: "fffafa",
                springgreen: "00ff7f",
                steelblue: "4682b4",
                tan: "d2b48c",
                teal: "008080",
                thistle: "d8bfd8",
                tomato: "ff6347",
                turquoise: "40e0d0",
                violet: "ee82ee",
                wheat: "f5deb3",
                white: "fff",
                whitesmoke: "f5f5f5",
                yellow: "ff0",
                yellowgreen: "9acd32"
            },
            xa = E.hexNames = function(a) {
                var e = {},
                    f;
                for (f in a) a.hasOwnProperty(f) && (e[a[f]] = f);
                return e
            }(na),
            oa = {
                rgb: /rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
                rgba: /rgba[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
                hsl: /hsl[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
                hsla: /hsla[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
                hsv: /hsv[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
                hsva: /hsva[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
                hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
                hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
                hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
            };
        window.tinycolor = E
    })();
    e(function() {
        e.fn.spectrum.load && e.fn.spectrum.processNativeColorInputs()
    })
});
var logoPickerCategories = [{
        name: "addtext-featured",
        title: "Featured",
        local: !0
    }, {
        name: "web_2_0",
        title: "Web 2.0"
    }],
    ajaxStyleList = [],
    localStyles = {},
    ftLogoEntries = [],
    logoEntries = {},
    defaultLogoParams = function() {};
$(document).ready(function() {
    function e(a) {
        localStyles[a.style] = a;
        a.style.startsWith("addtext-") && ajaxStyleList.push(a.style)
    }

    function g(a, e) {
        e = e.substring(5, e.length - 1).split(",");
        return a + "R=" + e[0] + "&" + a + "G=" + e[1] + "&" + a + "B=" + e[2]
    }

    function a(a) {
        var e = a.size;
        "auto" == a.size && (e = 80, -1 < encodeURIComponent(a.text).indexOf("%0") && (e -= 20), "addtext-blockcaps" === a.style && (e = 40));
        return parseInt(e)
    }
    e({
        style: "addtext-meme",
        title: "Meme",
        params: function(e) {
            var f = e.text.toUpperCase();
            return "&text=" + encodeURIComponent(f) +
                "&" + g("colorFillText", e.color) + "&outlineSize=" + Math.ceil(a(e) / 30 + 1) + defaultLogoParams(e)
        },
        color: "rgba(255,255,255,1)",
        script: "meme-logo",
        background: "white"
    });
    e({
        style: "addtext-blockcaps",
        title: "Block Caps",
        params: function(e) {
            var f = e.text.toUpperCase();
            return "&text=" + encodeURIComponent(f) + "&fontname=Exo Black&" + g("colorFillText", e.color) + "&outlineSize=" + Math.ceil(a(e) / 30 + 1) + "&shadowType=3&" + g("colorShadowGlow", "rgba(0,0,0,1)") + "&shadowGlowFeather=8" + defaultLogoParams(e)
        },
        color: "rgba(255,255,255,1)",
        script: "meme-logo",
        background: "white"
    });
    e({
        style: "addtext-fun",
        title: "Fun",
        params: function(e) {
            return "&fontname=SF Slapstick Comic&" + g("colorFillText", e.color) + "&outlineSize=" + Math.ceil(a(e) / 30 + 1) + "&outline2Size=" + Math.ceil(a(e) / 30 + 1) + "&curveHighlight=false" + defaultLogoParams(e)
        },
        color: "rgba(242,17,36,1)",
        script: "runner-logo",
        background: "white"
    });
    e({
        style: "addtext-romantic",
        title: "Romantic",
        params: function(a) {
            return "&textBorder=22&fillTextType=0&" + g("colorFillText", a.color) + defaultLogoParams(a)
        },
        color: "rgba(230,40,40,1)",
        script: "my-love-logo",
        background: "white"
    });
    e({
        style: "addtext-plastic",
        title: "Plastic",
        params: function(e) {
            var f = "&fontsize=" + (200 > a(e) + 15 ? a(e) + 15 : 195) + "&" + g("colorText", e.color) + "&" + g("colorFillText", e.color) + "&",
                h = e.color;
            h = h.substring(5, h.length - 1).split(",");
            return f + g("colorShadowGlow", "rgba(" + Math.round(.6 * h[0]) + "," + Math.round(.6 * h[1]) + "," + Math.round(.6 * h[2]) + "," + h[3] + ")") + "&shadowGlowSize=" + Math.ceil(a(e) / 50) + "&shadowGlowFeather=" + Math.ceil(a(e) / 50) + defaultLogoParams(e)
        },
        color: "rgba(40,112,17,1)",
        script: "marbles-logo",
        background: "white"
    });
    e({
        style: "addtext-cool",
        title: "Cool",
        params: function(e) {
            var f = a(e) - 20;
            return "&textBorder=15&fontsize=" + f + "&" + g("colorFillText", e.color) + "&" + g("colorShadowGlow", e.color) + "&outlineSize=" + Math.ceil(f / 30 + 1) + defaultLogoParams(e)
        },
        color: "rgba(22,46,201,1)",
        script: "water-logo",
        background: "white"
    });
    e({
        style: "addtext-chrome",
        title: "Chrome",
        params: function(a) {
            return "&fontname=Bodoni&fillOutlineType=0&" + g("colorFillOutline", a.color) + "&sparkles=false" + defaultLogoParams(a)
        },
        color: "rgba(0,0,0,1)",
        script: "chrominium-logo",
        background: "black"
    });
    e({
        style: "addtext-flame",
        title: "Flame",
        params: function(e) {
            return "&fontname=Bizarre&textBorder=30&" + g("colorInner", e.color) + "&flameSize=" + Math.ceil(a(e) / 4) + "&flameDeform=" + Math.ceil(a(e) / 25) + defaultLogoParams(e)
        },
        color: "rgba(255,204,0,1)",
        script: "flammen-logo",
        background: "black"
    });
    e({
        style: "addtext-fine",
        title: "Fine",
        params: function(a) {
            return "&fontname=SF Arborcrest Light&shadowType=1&shadowOpacity=100" + defaultLogoParams(a)
        },
        color: "rgba(255,255,255,1)",
        script: "plain-logo",
        background: "white"
    });
    e({
        style: "addtext-plain",
        title: "Plain",
        params: function(a) {
            return "&fontname=Arial&shadowType=1" + defaultLogoParams(a)
        },
        color: "rgba(255,255,255,1)",
        script: "plain-logo",
        background: "white"
    });
    e({
        style: "addtext-hand",
        title: "Hand",
        params: function(a) {
            return "&fontname=Cheyenne Hand" + defaultLogoParams(a)
        },
        color: "rgba(20,20,20,1)",
        script: "plain-logo",
        background: "white"
    });
    ftLogoEntries = [{
            script: "3d-logo",
            background: "white",
            title: "3D Text"
        }, {
            script: "3d-outline-logo",
            background: "white",
            title: "3D Outline"
        }, {
            script: "adventure-logo",
            background: "white",
            title: "Adventure"
        }, {
            script: "aladdin-logo",
            background: "black",
            title: "Aladdin"
        }, {
            script: "alien-glow-anim-logo",
            background: "black",
            title: "Alien Glow Anim"
        }, {
            script: "alien-glow-logo",
            background: "black",
            title: "Alien Glow"
        }, {
            script: "alien-invasion-logo",
            background: "black",
            title: "Alien Invasion"
        }, {
            script: "alienneonglow",
            background: "black",
            title: "Alien Neon"
        }, {
            script: "alien-neon-logo",
            background: "black",
            title: "Alien Neon"
        }, {
            script: "alpine-logo",
            background: "black",
            title: "Alpine"
        }, {
            script: "amazing-3d-logo",
            background: "white",
            title: "Amazing 3D"
        }, {
            script: "angels-and-demons-logo",
            background: "black",
            title: "Angels and Demons"
        }, {
            script: "animate",
            background: "black",
            title: "Animate"
        }, {
            script: "aqua-pro-ball-logo",
            background: "white",
            title: "AquaBall"
        }, {
            script: "arcade-logo",
            background: "black",
            title: "Arcade"
        }, {
            script: "army-logo",
            background: "black",
            title: "Army"
        }, {
            script: "aurora-logo",
            background: "black",
            title: "Aurora Borealis"
        }, {
            script: "baby-logo",
            background: "white",
            title: "Baby"
        }, {
            script: "bad-oil-logo",
            background: "white",
            title: "Bad Oil"
        }, {
            script: "basic2-logo",
            background: "white",
            title: "Basic 2"
        }, {
            script: "beauty-logo",
            background: "white",
            title: "Beauty"
        }, {
            script: "beveled-pattern-heading",
            background: "white",
            title: "Beveled"
        }, {
            script: "bevel-emboss-logo",
            background: "white",
            title: "Bevel Emboss"
        }, {
            script: "birdy-logo",
            background: "black",
            title: "Birdy"
        }, {
            script: "birthday-colorful-logo",
            background: "black",
            title: "Happy Birthday Colorful"
        }, {
            script: "birthday-fun-logo",
            background: "white",
            title: "Happy Birthday"
        }, {
            script: "birthday-pop-logo",
            background: "black",
            title: "Happy Birthday Pop"
        }, {
            script: "blackbird-logo",
            background: "white",
            title: "Blackbird"
        }, {
            script: "blended-logo",
            background: "white",
            title: "Blended"
        }, {
            script: "blood",
            background: "black",
            title: "Blood"
        }, {
            script: "blue-fire",
            background: "black",
            title: "Blue Flames"
        }, {
            script: "blues-logo",
            background: "black",
            title: "Blues"
        }, {
            script: "bovinated-logo",
            background: "white",
            title: "Bovinated"
        }, {
            script: "brazil-soccer-logo",
            background: "black",
            title: "Brazil Soccer"
        },
        {
            script: "break-logo",
            background: "white",
            title: "Break"
        }, {
            script: "brushed-metal-logo",
            background: "black",
            title: "Brushed Metal"
        }, {
            script: "bumblebee-logo",
            background: "white",
            title: "Bumblebee"
        }, {
            script: "burn-in-anim-logo",
            background: "black",
            title: "Burn-In"
        }, {
            script: "burnt",
            background: "black",
            title: "Burnt"
        }, {
            script: "burnt-paper-logo",
            background: "white",
            title: "Burnt Paper"
        }, {
            script: "candy-logo",
            background: "white",
            title: "Candy"
        }, {
            script: "carnival-logo",
            background: "black",
            title: "Carnival"
        }, {
            script: "carved-logo",
            background: "black",
            title: "Carved"
        }, {
            script: "casino-logo",
            background: "black",
            title: "Casino"
        }, {
            script: "cereal-logo",
            background: "black",
            title: "Cereal"
        }, {
            script: "chalk-logo",
            background: "black",
            title: "Chalk"
        }, {
            script: "chip-away-logo",
            background: "white",
            title: "Chip Away"
        }, {
            script: "christmas-logo",
            background: "black",
            title: "Christmas Card"
        }, {
            script: "christmas-sunburst-logo",
            background: "white",
            title: "Merry Christmas"
        }, {
            script: "chrome-logo",
            background: "white",
            title: "Chrome"
        }, {
            script: "chrominium-logo",
            background: "black",
            title: "Chrominium"
        }, {
            script: "clan-logo",
            background: "black",
            title: "Clan"
        }, {
            script: "cloud-logo",
            background: "white",
            title: "Cloud"
        }, {
            script: "colored2-logo",
            background: "white",
            title: "Doodle"
        }, {
            script: "colored-logo",
            background: "white",
            title: "Colored"
        }, {
            script: "comic-logo",
            background: "white",
            title: "Comic"
        }, {
            script: "comics-logo",
            background: "white",
            title: "Comics"
        }, {
            script: "cookies-logo",
            background: "white",
            title: "Cookies"
        }, {
            script: "cool-logo",
            background: "white",
            title: "Cool"
        }, {
            script: "cool-metal-logo",
            background: "white",
            title: "Cool Metal"
        }, {
            script: "copper-logo",
            background: "black",
            title: "Copper"
        }, {
            script: "crazy-logo",
            background: "black",
            title: "Crazy"
        }, {
            script: "crystal-logo",
            background: "black",
            title: "Crystal"
        }, {
            script: "dance-logo",
            background: "black",
            title: "Dance"
        }, {
            script: "dark-alliance-logo",
            background: "black",
            title: "Dark Alliance"
        }, {
            script: "dark-night-logo",
            background: "black",
            title: "Dark Night"
        }, {
            script: "deluxe-logo",
            background: "black",
            title: "Deluxe"
        }, {
            script: "desert-logo",
            background: "black",
            title: "Desert"
        }, {
            script: "diamonds",
            background: "black",
            title: "Diamonds"
        }, {
            script: "disco",
            background: "black",
            title: "Disco"
        }, {
            script: "disco-party-logo",
            background: "black",
            title: "Disco Party"
        }, {
            script: "disruptor",
            background: "black",
            title: "Disruptor"
        }, {
            script: "double-outline-logo",
            background: "white",
            title: "Double Outline"
        }, {
            script: "dracula-logo",
            background: "black",
            title: "Dracula"
        }, {
            script: "dragon",
            background: "black",
            title: "Dragon"
        }, {
            script: "dreamland-logo",
            background: "black",
            title: "Dreamland"
        }, {
            script: "dream-light-logo",
            background: "white",
            title: "Dream Light"
        }, {
            script: "dream-logo",
            background: "white",
            title: "Dream"
        }, {
            script: "drop-shadow-logo",
            background: "white",
            title: "Drop Shadow"
        }, {
            script: "easter-fun-logo",
            background: "black",
            title: "Easter Fun"
        }, {
            script: "easter-greetings-logo",
            background: "white",
            title: "Easter Greetings"
        }, {
            script: "easter-plain-logo",
            background: "white",
            title: "Easter Plain"
        }, {
            script: "easter-script-logo",
            background: "black",
            title: "Easter Script"
        }, {
            script: "electric",
            background: "white",
            title: "Electric"
        }, {
            script: "electricity-logo",
            background: "black",
            title: "Electricity"
        }, {
            script: "emperor-logo",
            background: "black",
            title: "Emperor"
        }, {
            script: "everest-logo",
            background: "black",
            title: "Everest"
        }, {
            script: "express-logo",
            background: "black",
            title: "Express"
        }, {
            script: "fancy-logo",
            background: "black",
            title: "Fancy"
        }, {
            script: "festival-logo",
            background: "black",
            title: "Festival"
        }, {
            script: "feurio-logo",
            background: "black",
            title: "Feurio"
        }, {
            script: "fiery-text-logo",
            background: "white",
            title: "Fiery Text"
        }, {
            script: "fire-logo",
            background: "black",
            title: "Fire"
        },
        {
            script: "fireworks-logo",
            background: "black",
            title: "Fireworks"
        }, {
            script: "flame-logo",
            background: "black",
            title: "Flame"
        }, {
            script: "flaming-logo",
            background: "black",
            title: "Flaming Text"
        }, {
            script: "flammen-logo",
            background: "black",
            title: "Flammen"
        }, {
            script: "flash-anim-logo",
            background: "black",
            title: "Flash"
        }, {
            script: "flashfire",
            background: "black",
            title: "Flash Fire"
        }, {
            script: "flash-fire-logo",
            background: "black",
            title: "Flash Fire"
        }, {
            script: "fluffy-logo",
            background: "white",
            title: "Fluffy"
        }, {
            script: "flying-letters-logo",
            background: "black",
            title: "Flying Letters"
        }, {
            script: "fortune-logo",
            background: "white",
            title: "Fortune"
        }, {
            script: "frosty-logo",
            background: "white",
            title: "Frosty"
        }, {
            script: "frozen-logo",
            background: "white",
            title: "Frozen"
        }, {
            script: "fruity-logo",
            background: "black",
            title: "Fruity"
        }, {
            script: "fun-and-play-logo",
            background: "white",
            title: "Fun And Play"
        }, {
            script: "funky-logo",
            background: "black",
            title: "Funky"
        }, {
            script: "funtime-logo",
            background: "white",
            title: "Funtime"
        }, {
            script: "futurama-logo",
            background: "black",
            title: "Futurama"
        },
        {
            script: "game-over-logo",
            background: "black",
            title: "Game Over"
        }, {
            script: "gas-flame-logo",
            background: "black",
            title: "Gas Flame"
        }, {
            script: "gimp-org-logo",
            background: "white",
            title: "Gimp"
        }, {
            script: "gingerbread-logo",
            background: "white",
            title: "Gingerbread"
        }, {
            script: "glass-logo",
            background: "black",
            title: "Glass"
        }, {
            script: "glitter-anim-logo",
            background: "white",
            title: "Glitter"
        }, {
            script: "global-logo",
            background: "white",
            title: "Global"
        }, {
            script: "glossy-logo",
            background: "white",
            title: "Glossy"
        }, {
            script: "glowing-logo",
            background: "black",
            title: "Glowing"
        }, {
            script: "glow-logo",
            background: "white",
            title: "Glow"
        }, {
            script: "golden-logo",
            background: "black",
            title: "Golden"
        }, {
            script: "gradient3-shadow-logo",
            background: "white",
            title: "Gradient3"
        }, {
            script: "gradient-shadow-logo",
            background: "white",
            title: "Gradient Shadow"
        }, {
            script: "graffiti-3d-logo",
            background: "white",
            title: "Graffiti 3D"
        }, {
            script: "graffiti-burn-logo",
            background: "white",
            title: "Graffiti Burn"
        }, {
            script: "graffiti-logo",
            background: "black",
            title: "Graffiti"
        }, {
            script: "grass-logo",
            background: "white",
            title: "Grass"
        }, {
            script: "green-dragon-logo",
            background: "white",
            title: "Green Dragon"
        }, {
            script: "greyman",
            background: "white",
            title: "GreyMan"
        }, {
            script: "groovy-logo",
            background: "black",
            title: "Groovy"
        }, {
            script: "halloween-logo",
            background: "black",
            title: "Halloween"
        }, {
            script: "happy-halloween-logo",
            background: "black",
            title: "Happy Halloween"
        }, {
            script: "happy-new-year-logo",
            background: "black",
            title: "Happy New Year"
        }, {
            script: "happy-ramadan-silver-logo",
            background: "white",
            title: "Happy Ramadan Silver"
        },
        {
            script: "happy-ramadan-soft-logo",
            background: "white",
            title: "Happy Ramadan Soft"
        }, {
            script: "happy-ramadan-yellow-logo",
            background: "white",
            title: "Happy Ramadan"
        }, {
            script: "harry-potter-logo",
            background: "black",
            title: "Harry Potter"
        }, {
            script: "heavy-metal-logo",
            background: "black",
            title: "Heavy Metal"
        }, {
            script: "highlight-anim-logo",
            background: "black",
            title: "Highlight Anim"
        }, {
            script: "hockey-night-logo",
            background: "black",
            title: "Hockey Night"
        }, {
            script: "hogwarts",
            background: "black",
            title: "Hogwarts"
        }, {
            script: "holiday-logo",
            background: "white",
            title: "Holiday"
        }, {
            script: "horizon",
            background: "white",
            title: "Horizon"
        }, {
            script: "husky-logo",
            background: "white",
            title: "Husky"
        }, {
            script: "ice-age-logo",
            background: "white",
            title: "Ice Age"
        }, {
            script: "ice-cube-logo",
            background: "black",
            title: "Ice Cube"
        }, {
            script: "ice-fire-logo",
            background: "black",
            title: "Ice Fire"
        }, {
            script: "ice-logo",
            background: "black",
            title: "Ice"
        }, {
            script: "iloveyou",
            background: "black",
            title: "I Love You"
        }, {
            script: "infected-logo",
            background: "black",
            title: "Infected"
        }, {
            script: "inferno-logo",
            background: "black",
            title: "Inferno"
        }, {
            script: "inner-fire-anim-logo",
            background: "black",
            title: "Inner Fire"
        }, {
            script: "invasion-logo",
            background: "black",
            title: "Invasion"
        }, {
            script: "itext-logo",
            background: "white",
            title: "iText"
        }, {
            script: "jackpot-logo",
            background: "white",
            title: "Jackpot"
        }, {
            script: "jessica-ennis-logo",
            background: "black",
            title: "Jessica Ennis"
        }, {
            script: "jump-anim-logo",
            background: "white",
            title: "Jump"
        }, {
            script: "karaoke-logo",
            background: "black",
            title: "Karaoke"
        }, {
            script: "kenyan-runners-logo",
            background: "black",
            title: "Kenyan Runners"
        }, {
            script: "kryptonite-logo",
            background: "black",
            title: "Kryptonite"
        }, {
            script: "lava-logo",
            background: "white",
            title: "Lava"
        }, {
            script: "law-order-logo",
            background: "white",
            title: "Law And Order"
        }, {
            script: "layer-cake-logo",
            background: "white",
            title: "Layer Cake"
        }, {
            script: "lcd-logo",
            background: "white",
            title: "LCD Panel"
        }, {
            script: "liquid-water-logo",
            background: "black",
            title: "Liquid Water"
        }, {
            script: "london-2012-logo",
            background: "black",
            title: "London-2012"
        }, {
            script: "love-sunburst-logo",
            background: "black",
            title: "Love"
        }, {
            script: "magical-logo",
            background: "black",
            title: "Magical"
        }, {
            script: "magic-logo",
            background: "black",
            title: "Magic"
        }, {
            script: "marbles-logo",
            background: "white",
            title: "Marbles"
        }, {
            script: "marcel-nguyen-logo",
            background: "black",
            title: "Marcel Nguyen"
        }, {
            script: "maria-sharapova-logo",
            background: "black",
            title: "Maria Sharapova"
        }, {
            script: "matrix-logo",
            background: "black",
            title: "Matrix"
        }, {
            script: "maven-logo",
            background: "black",
            title: "Maven"
        }, {
            script: "meme-logo",
            background: "black",
            title: "Meme"
        }, {
            script: "memories-anim-logo",
            background: "white",
            title: "Memories"
        }, {
            script: "michael-phelps-logo",
            background: "black",
            title: "Michael Phelps"
        }, {
            script: "military-logo",
            background: "black",
            title: "Military"
        }, {
            script: "missing-text-logo",
            background: "white",
            title: "Missing Text"
        }, {
            script: "molten-logo",
            background: "black",
            title: "Molten"
        }, {
            script: "monster-logo",
            background: "black",
            title: "Monster"
        }, {
            script: "mosaic-logo",
            background: "white",
            title: "Mosaic"
        }, {
            script: "mothers-day-plain-logo",
            background: "white",
            title: "Mothers Day Card"
        }, {
            script: "mothers-day-sunburst-logo",
            background: "white",
            title: "Mothers Day Sunburst"
        }, {
            script: "my-love-logo",
            background: "black",
            title: "My Love"
        }, {
            script: "mystery-logo",
            background: "black",
            title: "Mystery"
        }, {
            script: "natural-logo",
            background: "white",
            title: "Natural"
        }, {
            script: "neon-logo",
            background: "black",
            title: "Neon"
        }, {
            script: "night-out-logo",
            background: "black",
            title: "Night Out"
        }, {
            script: "ninja-logo",
            background: "white",
            title: "Ninja"
        }, {
            script: "northern-lights-logo",
            background: "black",
            title: "Northern Lights"
        }, {
            script: "oil-drop-logo",
            background: "white",
            title: "Oil Drop"
        }, {
            script: "oil-spill-logo",
            background: "white",
            title: "Oil Spill"
        }, {
            script: "old-photo-logo",
            background: "black",
            title: "Old Photo"
        }, {
            script: "old-stone-logo",
            background: "white",
            title: "Old Stone"
        }, {
            script: "on-fire-logo",
            background: "white",
            title: "On Fire"
        }, {
            script: "outline-logo",
            background: "white",
            title: "Outline"
        }, {
            script: "outline-shadow-logo",
            background: "white",
            title: "Outline Shadow"
        }, {
            script: "paintbrush-logo",
            background: "white",
            title: "Paint brush"
        }, {
            script: "parrot-logo",
            background: "white",
            title: "Parrot"
        }, {
            script: "party",
            background: "white",
            title: "Party"
        }, {
            script: "patriot-logo",
            background: "white",
            title: "Patriot Logo"
        }, {
            script: "pattern-shadow-logo",
            background: "white",
            title: "Pattern Shadow"
        }, {
            script: "perspective-shadow-logo",
            background: "white",
            title: "Perspective"
        }, {
            script: "pet-care-logo",
            background: "white",
            title: "Pet care"
        }, {
            script: "phantom-logo",
            background: "black",
            title: "Phantom"
        }, {
            script: "picnic-logo",
            background: "white",
            title: "Picnic"
        }, {
            script: "plain-logo",
            background: "white",
            title: "Plain"
        },
        {
            script: "plasma-logo",
            background: "white",
            title: "Plasma"
        }, {
            script: "plastic-logo",
            background: "white",
            title: "Plastic"
        }, {
            script: "popsicle-logo",
            background: "white",
            title: "Popsicle"
        }, {
            script: "popstar-logo",
            background: "white",
            title: "Popstar"
        }, {
            script: "power",
            background: "black",
            title: "Power"
        }, {
            script: "prime-logo",
            background: "white",
            title: "Prime"
        }, {
            script: "quake-logo",
            background: "black",
            title: "Quake"
        }, {
            script: "raindrop-logo",
            background: "black",
            title: "Rain Drop"
        }, {
            script: "red-dragon-logo",
            background: "black",
            title: "Red Dragon"
        }, {
            script: "reflexion-logo",
            background: "black",
            title: "Reflexion"
        }, {
            script: "renaud-lavillenie-logo",
            background: "black",
            title: "Renaud Lavillenie"
        }, {
            script: "resort-logo",
            background: "white",
            title: "Resort"
        }, {
            script: "restaurant-logo",
            background: "white",
            title: "Restaurant"
        }, {
            script: "robot-logo",
            background: "black",
            title: "Robot"
        }, {
            script: "roman-logo",
            background: "white",
            title: "Roman"
        }, {
            script: "runescape-logo",
            background: "black",
            title: "RuneScape"
        }, {
            script: "runner-logo",
            background: "white",
            title: "Runner"
        },
        {
            script: "sally-pearson-logo",
            background: "black",
            title: "Sally Pearson"
        }, {
            script: "scribble-logo",
            background: "white",
            title: "Scribble"
        }, {
            script: "service-logo",
            background: "white",
            title: "Service"
        }, {
            script: "shadows-logo",
            background: "white",
            title: "Shadows"
        }, {
            script: "shake-anim-logo",
            background: "white",
            title: "Shake"
        }, {
            script: "shrek-logo",
            background: "white",
            title: "Shrek"
        }, {
            script: "silver-logo",
            background: "white",
            title: "Silver"
        }, {
            script: "slime-logo",
            background: "black",
            title: "Slime"
        }, {
            script: "smile-logo",
            background: "white",
            title: "Smile"
        }, {
            script: "smokey-logo",
            background: "white",
            title: "Smokey"
        }, {
            script: "smurfs-logo",
            background: "white",
            title: "Smurfs"
        }, {
            script: "snow",
            background: "black",
            title: "Snow"
        }, {
            script: "solid-noise-logo",
            background: "white",
            title: "Solid Noise"
        }, {
            script: "sota-chrome-logo",
            background: "black",
            title: "Sota Chrome"
        }, {
            script: "sound-blast-logo",
            background: "black",
            title: "Sound Blast"
        }, {
            script: "space-logo",
            background: "black",
            title: "Space"
        }, {
            script: "spaceships-logo",
            background: "black",
            title: "Spaceships"
        }, {
            script: "sparkling-logo",
            background: "black",
            title: "Sparkling"
        }, {
            script: "spider-men-logo",
            background: "black",
            title: "Spider Men"
        }, {
            script: "sports-logo",
            background: "black",
            title: "Sports"
        }, {
            script: "spring-logo",
            background: "white",
            title: "Spring"
        }, {
            script: "stainedglass-logo",
            background: "white",
            title: "Stained Glass"
        }, {
            script: "standing3d-logo",
            background: "white",
            title: "Standing 3D"
        }, {
            script: "starburst-logo",
            background: "white",
            title: "Starburst"
        }, {
            script: "starscape-logo",
            background: "black",
            title: "Starscape"
        }, {
            script: "star-wars-logo",
            background: "black",
            title: "Star Wars"
        }, {
            script: "steel-logo",
            background: "white",
            title: "Steel"
        }, {
            script: "stonehenge-logo",
            background: "black",
            title: "Stonehenge"
        }, {
            script: "st-patricks1-logo",
            background: "white",
            title: "St Patrick 1"
        }, {
            script: "st-patricks2-logo",
            background: "white",
            title: "St Patrick 2"
        }, {
            script: "street-sport-logo",
            background: "white",
            title: "Street Sport"
        }, {
            script: "strongman-logo",
            background: "black",
            title: "Strongman"
        }, {
            script: "style-logo",
            background: "white",
            title: "Style"
        }, {
            script: "sugar-logo",
            background: "black",
            title: "Sugar"
        }, {
            script: "summer-2012-logo",
            background: "black",
            title: "Summer 2012"
        }, {
            script: "summer-sale-logo",
            background: "white",
            title: "Summer Sale"
        }, {
            script: "summer-sand-logo",
            background: "white",
            title: "Summer Sand"
        }, {
            script: "sunrise-logo",
            background: "white",
            title: "Sunrise"
        }, {
            script: "sunshine-logo",
            background: "black",
            title: "Sunshine"
        }, {
            script: "superfit-logo",
            background: "white",
            title: "Fitness"
        }, {
            script: "superstars-logo",
            background: "black",
            title: "Superstars"
        }, {
            script: "sweetie-logo",
            background: "white",
            title: "Sweetie"
        }, {
            script: "swing-logo",
            background: "white",
            title: "Swing"
        }, {
            script: "tagline-logo",
            background: "white",
            title: "Tagline"
        }, {
            script: "tattoo-logo",
            background: "black",
            title: "Tattoo"
        }, {
            script: "tech-central-logo",
            background: "black",
            title: "Tech Central"
        }, {
            script: "textured-logo",
            background: "white",
            title: "Textured"
        }, {
            script: "thunder-logo",
            background: "white",
            title: "Thunder"
        }, {
            script: "tiger-logo",
            background: "black",
            title: "Tiger"
        }, {
            script: "tiles",
            background: "black",
            title: "Tiles"
        },
        {
            script: "toothpaste-logo",
            background: "black",
            title: "Toothpaste"
        }, {
            script: "transport-logo",
            background: "white",
            title: "Transport"
        }, {
            script: "turning3d",
            background: "black",
            title: "Turning 3D"
        }, {
            script: "tv-drop-logo",
            background: "black",
            title: "TV-Drop"
        }, {
            script: "uprise-logo",
            background: "black",
            title: "Uprise"
        }, {
            script: "usa",
            background: "white",
            title: "USA"
        }, {
            script: "usain-bolt-logo",
            background: "black",
            title: "Usain Bolt"
        }, {
            script: "vampire-logo",
            background: "black",
            title: "Vampire"
        }, {
            script: "viking-logo",
            background: "black",
            title: "Viking"
        }, {
            script: "warp-logo",
            background: "black",
            title: "Warp"
        }, {
            script: "warrior-logo",
            background: "black",
            title: "Warrior"
        }, {
            script: "watercolor-logo",
            background: "white",
            title: "Watercolor"
        }, {
            script: "water-logo",
            background: "white",
            title: "Water"
        }, {
            script: "water-world-logo",
            background: "white",
            title: "Water World"
        }, {
            script: "whirl-anim-logo",
            background: "white",
            title: "Whirl"
        }, {
            script: "white-christmas-logo",
            background: "white",
            title: "White Christmas"
        }, {
            script: "wildlife-logo",
            background: "black",
            title: "Wildlife"
        },
        {
            script: "wild-logo",
            background: "white",
            title: "Wild"
        }, {
            script: "winner-logo",
            background: "black",
            title: "Winner"
        }, {
            script: "winter-snow-logo",
            background: "white",
            title: "Winter Snow"
        }, {
            script: "wood",
            background: "white",
            title: "Wood"
        }, {
            script: "wooden-letters-logo",
            background: "black",
            title: "Wooden Letters"
        }, {
            script: "woodgrain-logo",
            background: "white",
            title: "WoodGrain"
        }, {
            script: "wrestler-logo",
            background: "black",
            title: "Wrestler"
        }, {
            script: "xiang-liu-logo",
            background: "black",
            title: "Xiang Liu"
        }
    ];
    for (var f = 0; f < ftLogoEntries.length; f++) {
        var h =
            ftLogoEntries[f];
        logoEntries[h.script] = h
    }
    defaultLogoParams = function(e) {
        var f = "";
        e.widget.isColorEnabled() && (f = "&" + g("colorText", e.color));
        "ft-harry-potter-logo" === e.style && (f = "&useClouds=false");
        var h = "&backgroundRadio=0&text=" + encodeURIComponent(e.text) + "&justify=";
        var k = e.align;
        k = "L" == k.substring(1) ? "0" : "R" == k.substring(1) ? "1" : "2";
        return h + k + "&fontsize=" + a(e) + "&useFixedSize=false" + f
    }
});
(function(e) {
    e.widget("at.textModuleWidget", {
        options: {
            id: "",
            styleParams: {},
            sizeValues: [],
            ajaxStyleList: [],
            values: {
                text: void 0,
                style: "addtext-blockcaps",
                script: void 0,
                color: void 0,
                size: "auto",
                align: "TC",
                posX: void 0,
                posY: void 0
            },
            openOnCreate: !0,
            closeOthersOnOpen: !1,
            updateOnInit: !0,
            selectTextOnInit: !0,
            spinnerUrl: void 0,
            refreshBtnClass: "maker-error-refresh-btn",
            deleteBtnClass: "delete-textmodule-btn",
            updateFn: function() {},
            deleteFn: function() {},
            isPremiumLogo: void 0,
            logopickerStyleAllowedFn: void 0,
            allowSmallFont: isPremiumUser,
            allowLargeFont: isPremiumUser
        },
        _create: function() {
            this.id = this.options.id;
            this.posX = this.options.values.posX;
            this.posY = this.options.values.posY;
            this.text = this.options.values.text;
            var e = this.options.values.style;
            this.script = this.options.values.script;
            this.color = this.options.values.color;
            "undefined" === typeof e ? e = "addtext-meme" : "Comic" === e && (e = "addtext-fun");
            var a = this.options.styleParams[e];
            if ("undefined" === typeof a)
                if (e.startsWith("addtext-")) a = this.options.styleParams["addtext-meme"];
                else {
                    a = null;
                    for (var f in this.options.styleParams) {
                        var h =
                            this.options.styleParams[f];
                        if (h.title === e) {
                            a = h;
                            break
                        }
                    }
                    null == a && (a = this.options.styleParams["addtext-meme"])
                } this.script = a.script;
            this.style = a.style;
            this.title = a.title;
            "undefined" === typeof this.color && (this.color = this._defaultColorForStyle());
            this.size = this.options.values.size;
            this.align = this.options.values.align;
            this._buildUI();
            this._initColorPicker();
            this._initstylePicker();
            this._bindChangeEvent();
            this._bindDeleteEvent();
            this.options.updateOnInit && this.options.updateFn(this._currentValues());
            !isMobileLayout() &&
                this.options.selectTextOnInit && this.textInput[0].select()
        },
        _buildUI: function() {
            this.module = e(this.element);
            this.module.attr("id", "text" + this.id + "Module");
            this.module.addClass("maker-module text-module open ");
            this._buildHeader();
            this.moduleBody = e('<div class="maker-module-body cf"></div>').appendTo(this.module);
            this._makeRow([this._buildTextInput()]);
            this._makeRow([this._buildStylePickerGroup(), this._buildColorPicker()]);
            this._makeRow([this._buildSizeSelectGroup(), this._buildAlignPicker()])
        },
        _buildHeader: function() {
            var g =
                this;
            this.moduleHeader = e('<div class="maker-module-header cf"></div>').appendTo(this.module);
            e('<span class="maker-module-title no-select">Text </span>').appendTo(this.moduleHeader);
            e('<i class="' + this.options.refreshBtnClass + ' icon-refresh hide" title="Text failed to generate. Click to retry." id="text' + g.id + 'Refresh"></i>').appendTo(this.moduleHeader);
            "undefined" != typeof g.options.spinnerUrl && e('<img class="spinner text-module-spinner fade-out hide" id="text' + g.id + 'Spinner" src="' + g.options.spinnerUrl +
                '" alt="Spinner">').appendTo(this.moduleHeader);
            e('<span class="' + this.options.deleteBtnClass + ' icon-trash" title="Delete Text"></span>').appendTo(this.moduleHeader);
            this.moduleHeader.on("click", function(a) {
                e(this).parent(".maker-module");
                e(a.target).parents().addBack().is(e("." + g.options.refreshBtnClass)) ? g.options.updateFn(g._currentValues()) : e(a.target).parents().addBack().is(e("." + g.options.deleteBtnClass)) && (g._deleteModule(), e(".message").addClass("hide"))
            })
        },
        _makeRow: function(g) {
            var a = e('<div class="module-row cf"></div>').appendTo(this.moduleBody);
            e.each(g, function(e, g) {
                g.appendTo(a)
            })
        },
        _buildTextInput: function() {
            "undefined" == typeof this.text && (this.text = 1 == this.id ? "Your Text Here" : "More Text Here");
            var g = e('<div class="labelGroup"></div>'),
                a = e('<div class="mobile-only text-module-label-div"></div>').appendTo(g);
            e('<label class="mobile-only" for="text' + this.id + 'Text">Text ' + this.id + "</label>").appendTo(a);
            this.mobileDeleteBtn = e('<span class="' + this.options.deleteBtnClass + ' mobile-delete-btn icon-trash"></span>');
            e("html").hasClass("md-no-fontface") && (this.mobileDeleteBtn = e('<small class="' + this.options.deleteBtnClass + ' mobile-delete-btn">Delete</small>'));
            this.mobileDeleteBtn.appendTo(a);
            this.textInput = e('<textarea class="textInput" id="text' + this.id + 'Text" rows="3" maxlength="' + (isPremiumUser ? 250 : 50) + '">' + htmlEncode(this.text) + "</textarea>").appendTo(g);
            isMobileLayout() && (this.textInput.on("focus",
                function() {
                    e(".maker-toolbar").addClass("hide")
                }), this.textInput.on("blur", function() {
                e(".maker-toolbar").removeClass("hide")
            }));
            return g
        },
        _buildStylePickerGroup: function() {
            if (this.style.startsWith("ft-")) {
                var g = this.style.substring(3);
                var a = logoEntries[g];
                null == a && (a = {
                    script: g,
                    title: g,
                    background: "white"
                }, logoEntries[g] = a);
                g = a.title
            } else g = this.options.styleParams[this.style].title;
            null == g && (g = this.style);
            a = e('<div class="labelGroup"></div>');
            e('<label for="text' + this.id + 'Style">Style</label>').appendTo(a);
            this.stylePickerPlaceholder = e("<div class='logoPickerPlaceholder hide'>").appendTo(a);
            this.stylePickerTrigger = e('<button type="button" data-style="' + formValueEncode(this.style) + '" id="text' + this.id + 'StylePickerTrigger" class="stylePickerTriggerElement button">' + g + "</button>").appendTo(a);
            return a
        },
        _buildColorPicker: function() {
            return this.colorInput = e('<input type="text" id="text' + this.id + 'Color" class="colorPicker" title="Change text color" value="' + htmlEncode(this.color) + '">')
        },
        _buildSizeSelectGroup: function() {
            var g =
                e('<div class="labelGroup"></div>');
            e('<label for="text' + this.id + 'Size">Size</label>').appendTo(g);
            this.sizeSelect = e('<select id="text' + this.id + 'Size" class="textSizeSelect"></select>').appendTo(g);
            if (0 < this.options.sizeValues.length)
                for (var a = 0, f = this.options.sizeValues.length + 1; a < f; a++) {
                    var h = 0 == a ? "auto" : this.options.sizeValues[a - 1],
                        k = this.options.values.size == h ? " selected" : "";
                    e("<option" + k + ">" + h + "</option>").appendTo(this.sizeSelect)
                } else {
                    f = 1;
                    h = 37;
                    var l = 2;
                    this.options.allowSmallFont && (f = 0, h = 38,
                        l = 1);
                    for (a = f; a <= h; a++) {
                        var n = a == f ? "auto" : 5 * (a + l);
                        k = this.options.values.size == n ? " selected" : "";
                        e("<option" + k + ">" + n + "</option>").appendTo(this.sizeSelect)
                    }
                    if (this.options.allowLargeFont)
                        for (a = 200; 1E3 >= a; a += 50) k = this.options.values.size == a ? " selected" : "", e("<option" + k + ">" + a + "</option>").appendTo(this.sizeSelect)
                }
            return g
        },
        _buildAlignPicker: function() {
            var g = this,
                a = "TL TC TR CL CC CR BL BC BR".split(" "),
                f = "NW;N;NE;E; Center ;W;SW;S;SE".split(";");
            this.alignPicker = e('<div id="text' + g.id + 'Align" class="alignPicker"><i class="icon-move"></i><small class="fontface-fallback">Pos</small></div>');
            this.alignPicker.val(this.options.values.align);
            this.alignPickerMenu = e('<div class="alignPickerMenu hide"><span class="alignPickerMenu-title">Text Position</span></div>').appendTo(this.alignPicker);
            for (var h = 0, k = a.length; h < k; h++) {
                var l = "";
                "undefined" == typeof g.posX && "undefined" == typeof g.posY && g.alignPicker.val() == a[h] && (l += " selected");
                e('<div class="alignPicker-option align-' + a[h] + l + '" data-align="' + a[h] + '">' + f[h] + "</div>").appendTo(this.alignPickerMenu)
            }
            this.alignPicker.on("click", function(a) {
                a.stopPropagation();
                g.alignPickerMenu.hasClass("hide") ? (g.alignPicker.addClass("active"), g.alignPickerMenu.removeClass("hide"), e(document).on("click.alignPickerMenu touchstart.alignPickerMenu", function(a) {
                    e(a.target).parents().addBack().is(g.alignPicker) || n()
                })) : n()
            });
            var n = function() {
                g.alignPickerMenu.addClass("hide");
                g.alignPicker.removeClass("active");
                e(document).off("click.alignPickerMenu touchstart.alignPickerMenu")
            };
            this.alignPickerMenu.find(".alignPicker-option").on("click", function() {
                e(".selected", g.alignPickerMenu).removeClass("selected");
                e(this).addClass("selected");
                var a = e(this).attr("data-align");
                g.alignPicker.val(a);
                g.align = a;
                g.posX = g.posY = void 0;
                g.options.updateFn(g._currentValues());
            });
            return this.alignPicker
        },
        _initColorPicker: function() {
            var g = this,
                a = e("html").hasClass("md-touch") && 1200 > windowWidth(),
                f = !1,
                h, k = function(a) {
                    a = a.toRgb();
                    a = "rgba(" + a.r + "," + a.g + "," + a.b + "," + a.a + ")";
                    g.color = a;
                    g.colorInput.val(a).change()
                };
            this.colorInput.spectrum({
                showAlpha: !0,
                clickoutFiresChange: !0,
                preferredFormat: "rgba",
                move: function(l) {
                    a ? (h = l, f ? (l = l.toRgb(), l = "rgba(" + l.r + "," + l.g + "," + l.b + "," + l.a + ")", g.color = l, console.log("xxx:" +
                        l), g.colorInput.val(l)) : (e(document).one("touchend", function(a) {
                        k(h);
                        f = !1
                    }), f = !0)) : k(l)
                },
                change: function(a) {}
            });
            this.isColorEnabled() || g.colorInput.siblings(".sp-replacer").addClass("hide")
        },
        _initstylePicker: function() {
            var g = this,
                a = !0;
            if (!isMobileLayout() && 1500 <= e(window).width || window.innerWidth && 1500 <= window.innerWidth) a = !1;
            var f = this.options.ajaxStyleList,
                h = this.options.styleParams;
            this.stylePickerPlaceholder.logopicker({
                ajaxHost: "//flamingtext.com",
                controlElement: g.stylePickerTrigger,
                getLogoEntry: function(a) {
                    if (a.startsWith("addtext-")) {
                        var e = h[a];
                        return {
                            script: a,
                            title: e.title,
                            extraClasses: "dp_" + e.background
                        }
                    }
                    e = logoEntries[a];
                    null == e && (e = {
                        script: a,
                        title: a,
                        background: "white"
                    }, logoEntries[a] = e);
                    var f = "dp_" + e.background;
                    "function" === typeof g.options.isPremiumLogo && g.options.isPremiumLogo(a) && (f += " premiumLogo");
                    return {
                        script: a,
                        title: e.title,
                        extraClasses: f
                    }
                },
                tags: {
                    names: {
                        type: "list",
                        values: logoPickerCategories
                    }
                },
                genAjaxUrl: function(a, e, f) {
                    var g = a.ajaxHost;
                    g += "/Rest/logoEntry?tag=" + encodeURIComponent(e);
                    f && (g += "&q=" + encodeURIComponent(f));
                    a.ajaxExtraParams && (g += "&" + a.ajaxExtraParams);
                    return g
                },
                preFilterAjaxResult: function(a, e, g, p) {
                    if ("addtext-featured" == g) return {
                        values: f
                    };
                    if (e.error) return e;
                    a = {
                        values: []
                    };
                    g = a.values;
                    if (e.result)
                        for (p = 0; p < e.result.length; p++) {
                            var k = e.result[p];
                            g.push(k.script);
                            k.style = "ft-" + k.script;
                            h[k.style] = k
                        }
                    return a
                },
                ajaxCategory: "logos",
                origValue: this.style.startsWith("addtext-") ?
                    this.style : this.style.replace("ft-", ""),
                initialTag: this.style.startsWith("addtext-") ? "addtext-featured" : "web_2_0",
                ui: {
                    loadingImgSrc: imgHost + "/images/spinner.gif",
                    header: "Select Style",
                    topPanel: {
                        show: !0,
                        showAlphabet: !1,
                        closeImgSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="
                    },
                    rightPanel: {
                        containerClass: "logos_div"
                    }
                },
                autoclose: a,
                thumberUrl: "//cdn1.ftimg.com",
                overrideThumbUrl: function(a, e) {
                    return e.startsWith("addtext-") ? "//images.addtext.com/images/thumb/" + e +
                        ".png" : null
                },
                blacklist: [, "aurora-logo", "aqua-pro-ball-logo", "blended-logo", "slime-logo", "3d-outline-logo", "chip-away-logo", "chrome-logo", "dark-night-logo", "street-sport-logo", "frosty-logo", "ice-age-logo", "layer-cake-logo", "liquid-water-logo", "carved-logo", "comic-logo", "crystal-logo", "plastic-logo", "chalk-logo", "old-photo-logo", "glowing-logo", "alien-neon-logo", "starscape-logo", "sota-chrome-logo", "memories-anim-logo", "flash-anim-logo", "flaming-logo", "glitter-anim-logo", "highlight-anim-logo", "shake-anim-logo",
                    "blue-fire", "alien-glow-anim-logo", "whirl-anim-logo", "jump-anim-logo", "burn-in-anim-logo", "inner-fire-anim-logo", "meme-logo", "comics-logo", "my-love-logo", "marbles-logo", "water-logo"
                ],
                init: function(a, e) {},
                close: function(a, f) {
                    e("html").removeClass("dp_open")
                },
                open: function(a, f) {
                    g.colorInput.spectrum("hide");
                    e(document).trigger("click.alignPickerMenu");
                    e("html").addClass("dp_open");
                    isMobileLayout() ||
                        f.main.find(".dp_right_panel").css("height", f.main.find(".dp_preview_body").height() - f.main.find(".dp_top_panel").outerHeight(!0))
                },
                select: function(e, f) {
                    e = f.selected.escapedValue;
                    f = !0;
                    "function" === typeof g.options.logopickerStyleAllowedFn && (f = g.options.logopickerStyleAllowedFn(e));
                    if (f) {
                        if (e.startsWith("addtext-")) {
                            g.style = e;
                            var k = h[e];
                            f = k.color;
                            k = k.title;
                            g.colorInput.spectrum("set", f);
                            g.color = f;
                            g.colorInput.val(f)
                        } else e = "ft-" + e, k = h[e].title, g.style = e;
                        g.colorInput.siblings(".sp-replacer").toggleClass("hide", !g.isColorEnabled());
                        g.options.updateFn(g._currentValues());
                        g.stylePickerTrigger.attr("data-style", g.style);
                        g.stylePickerTrigger.html(k)
                    }
                }
            })
        },
        _bindChangeEvent: function() {
            e(":input", this.moduleBody).on("change", {
                self: this
            }, this._changeFunction);
            e("textarea,select,input:text",
                this.moduleBody).on("keyup", {
                self: this
            }, this._changeFunction);
            e("textarea,input:text", this.moduleBody).on("paste", function() {
                var g = this;
                setTimeout(function() {
                    e(g).trigger("change")
                }, 0)
            })
        },
        _changeFunction: function(g) {
            var a = g.data.self;
            g = e(g.target);
            if (g.hasClass("textInput"))
                if (g.val() != a.text) a.text = g.val();
                else return;
            else if (g.hasClass("textSizeSelect"))
                if (g.val() != a.size) a.size = g.val();
                else return;
            a.options.updateFn(a._currentValues())
        },
        _currentValues: function() {
            return {
                text: this.text,
                style: this.style,
                color: this.color,
                size: this.size,
                align: this.align,
                posX: this.posX,
                posY: this.posY,
                id: this.options.id,
                widget: this
            }
        },
        _defaultColorForStyle: function() {
            return this.options.styleParams[this.style] ? this.options.styleParams[this.style].color : ""
        },
        _bindDeleteEvent: function() {
            var g = this;
            this.textInput.on("blur", function() {
                "" == e(this).val() && (g._deleteModule())
            });
            if (isMobileLayout()) g.mobileDeleteBtn.on("click", function() {
                g._deleteModule()
            })
        },
        _deleteModule: function() {
            if (!(1 >= e(".text-module").length)) {
                if (isMobileLayout()) {
                    var g = this.module.prev();
                    0 == g.length && (g = this.module.next());
                    0 < g.length && g.addClass("open")
                }
                this.options.deleteFn(this.options.id);
                e(this.module).remove();
                1 >= e(".text-module").length && e("." + this.options.deleteBtnClass).addClass("hide")
            }
        },
        removeModule: function() {
            this._deleteModule()
        },
        updatePosition: function(g) {
            e(".selected", this.alignPickerMenu).removeClass("selected");
            this.posX = g.x;
            this.posY = g.y
        },
        forceRefresh: function() {
            this.options.updateFn(this._currentValues())
        },
        isColorEnabled: function() {
            return this.style.startsWith("addtext-") && "addtext-romantic" !== this.style
        }
    })
})(jQuery);
(function(e) {
    e.widget("ui.bgEditorWidget", {
        options: {
            dimensions: {
                width: 720,
                height: 500
            },
            scaleBgToFit: !1,
            cropBgToFit: !0,
            bgUrl: "",
            watermarkUrl: void 0,
            watermarkWidth: 60,
            watermarkHeight: 13,
            watermarkLayerClass: "",
            spinnerUrl: "",
            bgLoadedFn: function() {},
            readyFn: function() {},
            errorFn: function() {}
        },
        _create: function() {
            this.canvasWrap = e(this.element);
            this.watermarkElement = null;
            this.options.scaleBgToFit && (this.options.cropBgToFit = !1);
            this._initVectos()
        },
        _initVectos: function() {
            var e = this,
                a = new Image;
            a.onerror = function(a) {
                e.options.errorFn("bgFail")
            };
            a.onload = function() {
                if (0 < a.width && 0 < a.height) {
                    var f = e.scaleToFitPreserveRatio(a.width, a.height, e.options.dimensions.width, e.options.dimensions.height),
                        g = e._calcViewBox(a, f);
                    g = {
                        parentId: e.canvasWrap.attr("id"),
                        noParentDiv: !0,
                        viewX: 0,
                        viewY: 0,
                        viewWidth: g.width,
                        viewHeight: g.height,
                        width: "100%",
                        height: "100%",
                        selection: {
                            type: "basic",
                            "delete": !1,
                            createSelectionElement: function(a, f) {
                                return e.vectos.createRect({
                                    fill: "none",
                                    stroke: "#09C",
                                    "stroke-width": 2,
                                    x: -2.5,
                                    y: -2.5,
                                    width: f.width + 5,
                                    height: f.height + 5
                                })
                            }
                        }
                    };
                    e.vectos = Vectos(g);
                    e.vectos.ready(function() {
                        e.bgLayer = e.vectos.createG();
                        e.vectos.addElement({
                            element: e.bgLayer
                        });
                        e.textLayer = e.vectos.createG();
                        e.vectos.addElement({
                            element: e.textLayer
                        });
                        e.watermarkLayer = e.vectos.createG();
                        e.vectos.addElement({
                            element: e.watermarkLayer
                        });
                        e._updateVectosBackground(a, f);
                        e.options.bgLoadedFn(a);
                        e.options.watermarkUrl && (e._updateWatermark(), e.options.watermarkLayerClass && e.watermarkLayer.setAttribute("class", e.options.watermarkLayerClass));
                        e.options.readyFn()
                    })
                } else e.options.errorFn("bgFail")
            };
            var f = this.options.bgUrl;
            /^(f|ht)tps?:\/\//i.test(f) || (f = "https://" + f);
            a.src = f
        },
        _calcViewBox: function(e, a) {
            var f = e.width;
            e = e.height;
            this.options.cropBgToFit && (f = this.options.dimensions.width, e = this.options.dimensions.height);
            this.options.scaleBgToFit && (f = a.width, e = a.height);
            return {
                width: f,
                height: e
            }
        },
        scaleToFitPreserveRatio: function(e, a, f, h) {
            var g = e,
                l = a;
            if (e > f || a > h) e / f >= a / h ? (g = f, l = a / e * f) : (l = h, g = e / a * h);
            return {
                width: Math.round(g),
                height: Math.round(l)
            }
        },
        _calcPosAndSize: function(e) {
            var a = e.imageWidth,
                f = e.imageHeight,
                g = e.canvasWidth,
                k = e.canvasHeight;
            e.autoSize && (f = this.scaleToFitPreserveRatio(a, f, .96 * g, 1 * k), a = f.width, f = f.height);
            posOpts = {
                align: e.align,
                posX: e.posX,
                posY: e.posY,
                imageWidth: a,
                imageHeight: f,
                canvasWidth: g,
                canvasHeight: k
            };
            e = this._calcPosition(posOpts);
            return {
                pos: {
                    x: e.x,
                    y: e.y
                },
                imageWidth: a,
                imageHeight: f
            }
        },
        _calcPosition: function(e) {
            var a = e.imageWidth,
                f = e.imageHeight,
                g = e.canvasWidth,
                k = e.canvasHeight,
                l = parseInt(e.posX),
                n = parseInt(e.posY);
            if (1 == isNaN(l)) {
                var p = e.align.substring(1, 2);
                l = 0;
                "L" ==
                p ? l = 0 : "R" == p ? l = g - a : "C" == p && (l = (g - a) / 2)
            }
            1 == isNaN(n) && (e = e.align.substring(0, 1), n = 0, "T" == e ? n = 0 : "C" == e ? n = (k - f) / 2 : "B" == e && (n = k - f));
            return {
                x: l,
                y: n
            }
        },
        _updateVectosBackground: function(g, a) {
            var f = e("> svg:not(.template-overlay)", this.canvasWrap),
                h = this.options.cropBgToFit ? g.width : "100%",
                k = this.options.cropBgToFit ? g.height : "100%",
                l = {
                    url: g.src,
                    width: h,
                    height: k,
                    parent: this.bgLayer,
                    selectable: !1
                };
            this.options.cropBgToFit && (l.x = -(h - this.options.dimensions.width) / 2, l.y = -(k - this.options.dimensions.height) / 2);
            "undefined" ===
            typeof this.bgElement ? this.bgElement = this.vectos.addImage(l) : this.vectos.updateImage(this.bgElement, l);
            h = f.css("max-width");
            h = -1 < h.indexOf("%") ? parseInt(h) / 100 * e("#canvas-wrapper").width() : parseInt(h);
            k = f.css("max-height");
            k = -1 < k.indexOf("%") ? parseInt(k) / 100 * e("#canvas-wrapper").height() : parseInt(k);
            l = f.height();
            bgw = this.options.cropBgToFit ? this.options.dimensions.width : g.width;
            bgh = this.options.cropBgToFit ? this.options.dimensions.height : g.height;
            g = this.scaleToFitPreserveRatio(bgw, bgh, h, k);
            150 == l &&
                l < k && (f.css("height", g.height), l = g.height);
            this.options.cropBgToFit ? isMobileLayout() && Math.floor(l) - 5 > g.height && this.canvasWrap.add(f).css({
                "max-height": g.height
            }) : isMobileLayout() ? this.canvasWrap.add(f).css({
                "max-height": g.height,
                "max-width": g.width,
                "margin-left": "auto",
                "margin-right": "auto"
            }) : a.width < this.options.dimensions.width && a.height < this.options.dimensions.height && f.css({
                "max-width": a.width,
                "margin-left": "auto",
                "margin-right": "auto"
            })
        },
        _updateWatermark: function() {
            posOpts = {
                align: "BR",
                imageWidth: this.options.watermarkWidth,
                imageHeight: this.options.watermarkHeight,
                canvasWidth: this.vectos.getViewBoxWidth(),
                canvasHeight: this.vectos.getViewBoxHeight()
            };
            var e = this._calcPosition(posOpts);
            e = {
                x: e.x,
                y: e.y
            };
            null == this.watermarkElement ? (e.url = this.options.watermarkUrl, e.parent = this.watermarkLayer, e.selectable = !1, this.watermarkElement = this.vectos.addImage(e)) : this.vectos.updateImage(this.watermarkElement, e)
        },
        updateVectosBackground: function(g) {
            var a = this,
                f = new Image;
            f.onerror = function(e) {
                a.options.errorFn("upload bgFail")
            };
            f.onload =
                function() {
                    var g = a.scaleToFitPreserveRatio(f.width, f.height, a.options.dimensions.width, a.options.dimensions.height),
                        k = a._calcViewBox(f, g);
                    a.vectos.setViewBox({
                        width: k.width,
                        height: k.height
                    });
                    a.canvasWrap.find("> svg:not(.template-overlay)")[0].style = "";
                    a._updateVectosBackground(f, g);
                    a.options.bgLoadedFn(f);
                    a.options.cropBgToFit || (e(a.textLayer).find("image").each(function() {
                        a.keepInsideCanvas(this)
                    }), a.options.watermarkUrl && a._updateWatermark())
                };
            f.src = g
        },
        keepInsideCanvas: function(e) {
            var a = this.vectos.canvasBBox(e),
                f = this.vectos.getViewBoxWidth(),
                g = this.vectos.getViewBoxHeight(),
                k = Modernizr.touch ? 18 : 8,
                l = a.x,
                n = a.y,
                p = !1;
            a.x + a.width < 0 + k && (l = 0, p = !0);
            a.y + a.height < 0 + k && (n = 0, p = !0);
            a.x > f - k && (l = f - a.width, p = !0);
            a.y > g - k && (n = g - a.height, p = !0);
            p && this.vectos.translateElement(e, l - a.x, n - a.y);
            return {
                x: l,
                y: n
            }
        },
        addVectosElement: function(e) {
            return this.updateVectosElement(e)
        },
        updateVectosElement: function(e) {
            var a = this,
                f = e.imageWidth,
                g = e.imageHeight,
                k = a.vectos.getViewBoxWidth(),
                l = a.vectos.getViewBoxHeight(),
                n = "auto" == e.size ? !0 :
                !1,
                p = function() {
                    a.keepInsideCanvas(e.element)
                };
            posOpts = {
                align: e.align,
                posX: e.posX,
                posY: e.posY,
                imageWidth: f,
                imageHeight: g,
                canvasWidth: k,
                canvasHeight: l,
                autoSize: n
            };
            f = a._calcPosAndSize(posOpts);
            g = {
                opacity: e.opacity
            };
            n && (g.width = f.imageWidth, g.height = f.imageHeight);
            e.imageUrl && (g.url = e.imageUrl);
            (n = e.element) ? (g.done = p, a.vectos.updateImage(n, g), p = a.vectos.canvasBBox(n), a.vectos.translateElement(n, f.pos.x - p.x, f.pos.y - p.y)) : (g.parent = a.textLayer, g.index = e.index, g.x = f.pos.x, g.y = f.pos.y, n = a.vectos.addImage(g));
            return n
        },
        deleteVectosElement: function(e) {
            this.vectos.deleteElement(e)
        },
        getVectos: function() {
            return this.vectos
        }
    })
})(jQuery);
var bgEditorMain = function(e) {
        setTimeout(function() {
            bgEditorMain(e)
        }, 500)
    },
    prepareFinalImage = function() {},
    waitFinalImageReady = function() {},
    downloadFn = function() {},
    getSaveParams = function() {},
    makeSavePage = function() {},
    getTextParams = function() {},
    getBgEditorElements = function() {},
    getBgEditorVectos = function() {},
    newSelection = !0;
$(document).ready(function() {
    function e() {
        var e = 1;
        do {
            var f = !0;
            1 < e && (l(), "first" === w.opts.openTextModuleRule && (f = !1));
            g({
                values: a(e),
                openOnCreate: f
            });
            e++
        } while ("undefined" != typeof y["text" + e + "Text"]);
        2 == e && ($(".delete-textmodule-btn").addClass("hide"), isMobileLayout() || setTimeout(function() {
            $("#text1Text").focus()
        }, 1E3))
    }

    function g(a) {
        $("<div></div>").appendTo($(".text-modules")).textModuleWidget({
            id: F++,
            updateFn: L,
            deleteFn: C,
            styleParams: localStyles,
            ajaxStyleList: ajaxStyleList,
            values: a.values,
            spinnerUrl: imgHost +
                "/images/spinner.gif",
            refreshBtnClass: "maker-error-refresh-btn",
            deleteBtnClass: "delete-textmodule-btn",
            openOnCreate: a.openOnCreate,
            selectTextOnInit: !1,
            isPremiumLogo: w.opts.isPremiumLogo,
            logopickerStyleAllowedFn: w.opts.logopickerStyleAllowedFn
        })
    }

    function a(a) {
        var e = {};
        y["text" + a + "Text"] && (e.text = y["text" + a + "Text"]);
        y["text" + a + "Color"] && (e.color = y["text" + a + "Color"]);
        if (style = y["text" + a + "Style"]) e.style = style = y["text" + a + "Style"];
        y["text" + a + "Size"] && (e.size = y["text" + a + "Size"]);
        y["text" + a + "PosX"] && (e.posX =
            y["text" + a + "PosX"]);
        y["text" + a + "PosY"] && (e.posY = y["text" + a + "PosY"]);
        y["text" + a + "Align"] ? e.align = y["text" + a + "Align"] : 1 < a && (e.align = k(a - 1));
        return e
    }

    function f(a) {
        if ("undefined" == typeof r[a.id] || w.textParams[a.id].text != a.text || w.textParams[a.id].style != a.style || w.textParams[a.id].size != a.size || -1 < w.textParams[1].text.indexOf("\n") && w.textParams[1].align.substr(1) != a.align.substr(1)) return !0;
        if (w.textParams[a.id].color != a.color) {
            var e = a.color.substring(5, a.color.length - 1).split(",");
            a = w.textParams[a.id].color.substring(5,
                a.color.length - 1).split(",");
            if (e[0] != a[0] || e[1] != a[1] || e[2] != a[2]) return !0
        }
        return !1
    }

    function h(a) {
        return a.substring(5, a.length - 1).split(",")[3]
    }

    function k(a) {
        var e = w.textParams[a].align,
            f = e.substring(0, 1);
        e.substring(1, 2);
        return "addtext-meme" == w.textParams[a].style && "T" == f ? "BC" : "CC"
    }

    function l() {
        var a = $(".maker-toolbar .textGroup-btn").last(),
            e = a.clone(),
            f = e.find(".spinner").attr("id", "maker-toolbar-text" + F + "Spinner"),
            g = e.find(".maker-error-refresh-btn").attr("id", "maker-toolbar-text" + F + "Refresh");
        e.attr("data-id", F);
        e.html("Text " + F).append(g).append(f);
        e.removeClass("selected");
        e.insertAfter(a)
    }

    function n() {
        u.on("moved", function(a) {
            var e = bgeWidget.bgEditorWidget("keepInsideCanvas", a.target),
                f = e.x;
            e = e.y;
            u.getSelectionManager().updateSelection(!0);
            for (var g = 0, h = r.length; g < h; g++)
                if (r[g] === a.target) {
                    w.textParams[g].posX = f;
                    w.textParams[g].posY = e;
                    w.textParams[g].widget.updatePosition({
                        x: f,
                        y: e
                    });
                    break
                }
        });
        u.on("deleted", function(a) {
            for (var e = 0, f = r.length; e < f; e++) r[e] === a.target && (w.textParams[e].deleted = !0, w.textParams[e].widget.removeModule())
        })
    }

    function p() {
        $(".addText-btn").on("click", function() {
            $(".message").addClass("hide");
            $(".text-module").addClass("hide");
            $("#text" + F + "Module").removeClass("hide");
            newSelection = !0;
            isMobileLayout();
            l();
            var a = U();
            g({
                values: a
            });
            $(".delete-textmodule-btn").removeClass("hide");
            $(".selected.textGroup-btn").removeClass("selected");
            $(".textGroup-btn").last().addClass("selected")
        });
        $(document).on("click", ".textGroup-btn", function(a) {
            var e = $(this).attr("data-id"),
                f = $("#text" + e + "Module");
            $(a.target).parents().addBack().is($(".textGroup-btn-refresh")) ? updateFn(w.textParams[e]) : ($(".text-module").addClass("hide"),
                f.removeClass("hide"), $(".selected.textGroup-btn").removeClass("selected"), $(this).addClass("selected"), u.setSelection(r[e]))
        })
    }
    var r = [],
        u, y = getUrlParams(),
        w = w || {};
    bgEditorMain = function(a) {
        u = bgeWidget.bgEditorWidget("getVectos");
        var f = -1;
        u.on("selected", function(a) {
            f = -1;
            if (a) {
                for (var e = 0; e < r.length; e++)
                    if (r[e] === a.selection) {
                        f = e;
                        break
                    } - 1 != f ? ($(".message").addClass("hide"), $(".text-module").addClass("hide"), $("#text" + f + "Module").removeClass("hide"), $(".selected.textGroup-btn").removeClass("selected"),
                    $(".textGroup-btn[data-id=" + f + "]").addClass("selected")) : isMobileLayout() ? $("#text" + f + "Module").removeClass("hide") : ($(".text-module").addClass("hide"), $(".message").removeClass("hide"))
            }
        });
        w.opts = a;
        w.textParams = [];
        w.startTime = (new Date).getTime();
        w.forceRefresh = !1;
        w.createRetryCount = 0;
        e();
        $("#text1Module").removeClass("hide");
        n();
        p();
        $(".message").addClass("hide")
    };
    var C = function(a) {
            w.textParams[a].deleted || bgeWidget.bgEditorWidget("deleteVectosElement", r[a]);
            w.ajaxManager.abortCall(a);
            w.textParams[a].deleted = !0;
            delete r[a];
            a = $('.textGroup-btn[data-id="' + a + '"]');
            var e = a.prev();
            0 == e.length && (e = a.next());
            0 < e.length && (e.addClass("selected"), $("#text" + e.attr("data-id") + "Module").removeClass("hide"), u.setSelection(r[e.attr("data-id")]));
            a.remove()
        },
        D = new AjaxManager;
    D.init();
    w.ajaxManager = D;
    w.ajaxTimeoutRunning = [];
    var K = [],
        L = function(a) {
            if (a.text.length > (isPremiumUser ? 250 : 50)) $("#text" + a.id + "Text").addClass("input-error").attr("title", "Text too long!");
            else if (!(0 >= $.trim(a.text).length)) {
                var e = f(a);
                w.textParams[a.id] =
                    a;
                $(".input-error#text" + a.id + "Text").hasClass("input-error") && $(".input-error#text" + a.id + "Text").removeClass("input-error").attr("title", "");
                var g = $("#text" + a.id + "Spinner"),
                    k = $("#text" + a.id + "Refresh");
                isMobileLayout() && (g = $("#maker-toolbar-text" + a.id + "Spinner"), k = $("#maker-toolbar-text" + a.id + "Refresh"));
                if (!k.hasClass("hide") || w.forceRefresh) e = !0;
                var l = function() {
                        a.imageUrl = imgHost + "/images/errorIconWhite.png";
                        a.imageWidth = 48;
                        a.imageHeight = 48;
                        if (null == r[a.id]) {
                            for (var e = 0, f = 1; f < a.id; f++) null != r[f] &&
                                e++;
                            a.index = e;
                            r[a.id] = bgeWidget.bgEditorWidget("addVectosElement", a);
                            newSelection && (newSelection = !1, u.setSelection(r[a.id]))
                        } else a.element = r[a.id], bgeWidget.bgEditorWidget("updateVectosElement", a)
                    },
                    n = function(a, e, f) {
                        "abort" != e && (g.hasClass("hide") || g.addClass("hide fade-out"), k.removeClass("hide"), l())
                    },
                    p = function() {},
                    y = function(e) {
                        if (e.src) {
                            var f = new Image;
                            $(f).one("error", function() {
                                w.imagesPreloading--;
                                g.hasClass("hide") || g.addClass("hide fade-out");
                                k.removeClass("hide");
                                l()
                            });
                            $(f).one("load",
                                function() {
                                    w.imagesPreloading--;
                                    if (!0 !== w.textParams[a.id].deleted) {
                                        a.opacity = h(a.color);
                                        a.imageUrl = f.src;
                                        a.imageWidth = f.width;
                                        a.imageHeight = f.height;
                                        if (null == r[a.id]) {
                                            for (var e = 0, k = 1; k < a.id; k++) null != r[k] && e++;
                                            a.index = e;
                                            r[a.id] = bgeWidget.bgEditorWidget("addVectosElement", a)
                                        } else a.element = r[a.id], bgeWidget.bgEditorWidget("updateVectosElement", a);
                                        r[a.id].originalWidth = f.width;
                                        r[a.id].originalHeight = f.height;
                                        "undefined" == typeof w.ajaxTimeoutRunning[a.id] && (g.hasClass("hide") || g.addClass("hide fade-out"))
                                    }
                                });
                            f.src = e.src;
                            w.imagesPreloading++
                        } else g.hasClass("hide") || g.addClass("hide fade-out"), "undefined" !== typeof e.error && -1 < e.error.indexOf("Text string is too long") ? $("#text" + a.id + "Text").addClass("input-error").attr("title", "Text too long!") : (k.removeClass("hide"), l())
                    },
                    O = function() {
                        var e = w.textParams[a.id];
                        var f = e.style,
                            h = localStyles[f];
                        h ? (f = h.script, e = h.params(e)) : (f.startsWith("ft-") && (f = f.substring(3)), le = logoEntries[f], f = le.script, e = defaultLogoParams(e));
                        h = ftHost + "/net-fu/image_output.cgi?script=" +
                            f;
                        w.opts.cropFtImages && (h += "&autocrop=true");
                        e = h + "&_customer=addtext" + e;
                        k.hasClass("hide") || k.addClass("hide");
                        g.hasClass("hide") && g.removeClass("hide fade-out");
                        w.ajaxManager.newCall({
                            id: a.id,
                            url: e,
                            doneFn: y,
                            errorFn: n,
                            alwaysFn: p
                        });
                        if (null == r[a.id])
                            if (a.imageUrl = imgHost + "/images/spinner-48.gif", a.imageWidth = 48, a.imageHeight = 48, null == r[a.id]) {
                                e = 0;
                                for (h = 1; h < a.id; h++) null != r[h] && e++;
                                a.index = e;
                                r[a.id] = bgeWidget.bgEditorWidget("addVectosElement", a);
                                newSelection && (newSelection = !1, u.setSelection(r[a.id]))
                            } else a.element =
                                r[a.id], bgeWidget.bgEditorWidget("updateVectosElement", a)
                    };
                e ? (u.getSelectionManager().updateSelection(!0), w.ajaxManager.isCallNotRunning(a.id) ? ("undefined" !== typeof K[a.id] && (w.ajaxTimeoutRunning[a.id] = void 0, clearTimeout(K[a.id]), K[a.id] = void 0), O()) : "undefined" == typeof w.ajaxTimeoutRunning[a.id] && (w.ajaxTimeoutRunning[a.id] = !0, K[a.id] = setTimeout(function() {
                    w.ajaxTimeoutRunning[a.id] = void 0;
                    O()
                }, 500))) : (a.element = r[a.id], a.opacity = h(a.color), a.imageWidth = r[a.id].originalWidth, a.imageHeight = r[a.id].originalHeight,
                    bgeWidget.bgEditorWidget("updateVectosElement", a), u.getSelectionManager().updateSelection(!0))
            }
        },
        F = 1,
        U = function() {
            var a = {},
                e = F - 1;
            if (0 == $(".text-module").length || 0 == e) return {};
            for (; 0 == $("#text" + e + "Module").length;)
                if (--e, 1 > e) return {};
            a.style = $("#text" + e + "StylePickerTrigger").attr("data-style");
            a.color = $("#text" + e + "Color").val();
            a.size = $("#text" + e + "Size").val();
            0 < $("#text" + e + "Align .selected").length ? a.align = k(e) : a.align = "CC";
            return a
        },
        B = function(a) {
            for (var e = 1, f = w.textParams.length; e < f; e++) {
                if (w.ajaxManager.didCallError(e) &&
                    2 > w.createRetryCount) {
                    aa(w.textParams[e]);
                    B(a);
                    w.createRetryCount++;
                    return
                }
                if (!w.ajaxManager.isCallNotRunning(e) || 1 == w.ajaxTimeoutRunning[e]) {
                    setTimeout(function() {
                        B(a)
                    }, 1E3);
                    return
                }
            }
            0 < w.imagesPreloading || 0 < u.getOutstandingCalls() ? setTimeout(function() {
                B(a)
            }, 500) : (a.done(), w.forceRefresh = !1)
        },
        aa = function(a) {
            w.forceRefresh = !0;
            a.widget.forceRefresh()
        },
        ka = function() {
            for (var a = 0, e = r.length; a < e; a++) "undefined" !== typeof r[a] && aa(w.textParams[a])
        },
        ja = !1;
    waitFinalImageReady = function(a) {
        console.log("func 1");
        ja ? a() : setTimeout(function() {
                waitFinalImageReady(a)
            },
            500)
    };
    prepareFinalImage = function() {
        ja = !1;
        var a = new Date;
        36E5 < a.getTime() - w.startTime && (ka(), w.startTime = a.getTime());
        w.createRetryCount = 0;
        B({
            done: function() {
                ja = !0
            }
        })
    };
    getSaveParams = function(a) {
        var e = (a = a || y.bgUrl) ? "bgUrl=" + encodeURIComponent(a) + "&" : "",
            f = 1;
        a = 1;
        for (var g = w.textParams.length; a < g; a++) 1 != w.textParams[a].deleted && ($.each(w.textParams[a], function(a, g) {
            g && "widget" != a && "id" != a && (a = a.substring(0, 1).toUpperCase() + a.substring(1), e += "text" + f + a + "=" + encodeURIComponent(g) + "&")
        }), f++);
        return e
    };
    var va =
        1;
    downloadFn = function(a) {
        var e = u.toSvgString(),
            f = a.fileFormat || "jpg",
            g = "save" + va++;
        var h = u.getViewBoxWidth();
        var k = u.getViewBoxHeight();
        e = "svgString=" + encodeURIComponent(e) + "&width=" + h + "px&height=" + k + "px&imageType=" + f;
        w.ajaxManager.newCall({
            id: g,
            type: "POST",
            url: "https://addtext.com/Tools/svgToImage",
            data: e,
            doneFn: function(e) {
                //e.error ? a.errorFn(e) : (document.location = "https://addtext.com/Tools/download?url=" + encodeURIComponent(e.imageData), a.doneFn(e))
                if(e.error){
                    a.errorFn(e)
                }
                else{
                    var saveImage = document.getElementById('savedImage');saveImage.src = e.imageData;
                    a.doneFn(e);
                }
            },
            errorFn: function(e) {
                a.errorFn(e)
            }
        })
    };
    makeSavePage = function(a) {
        console.log("ONE");
        var e = u.toSvgString(),
            f = a.fileFormat || "jpg",
            g = "save" + va++,
            h = a.width ? a.width : u.getViewBoxWidth(),
            k = a.height ? a.height : u.getViewBoxHeight();
        a.maxWidth && (h = Math.min(a.maxWidth, h));
        a.maxHeight && (k = Math.min(a.maxHeight, k));
        var l = getSaveParams(a.bgUrl);
        e = "reuseBackground=" + a.reuse + "&saveParams=" + encodeURIComponent(l) + "&svgString=" + encodeURIComponent(e) + "&width=" + h + "px&height=" + k + "px&imageType=" + f;
        w.ajaxManager.newCall({
            id: g,
            type: "POST",
            url: "https://addtext.com/Tools/savePage",
            data: e,
            doneFn: a.doneFn,
            errorFn: a.errorFn
        })
        console.log("TWO");
    };
    getBgEditorElements = function() {
        return r
    };
    getTextParams = function() {
        return w.textParams
    };
    getBgEditorVectos = function() {
        return u
    }
});
var dropFileArea = $(".drop-file-here");
(function(e, g, a) {
    e.atHome = function() {
        g(document).ready(function() {
            var a = g(".progress-bar").removeAttr("style"),
                h = g(".js-progress-modal").modalBehaviorWidget({
                    resetContent: !1,
                    dismissAble: !1,
                    hideFn: function() {
                        p.abort()
                    }
                });
            g(".js-cancel-upload").on("click", function() {
                h.modalBehaviorWidget("hideModal");
            });
            var k = g(".bg-error").modalBehaviorWidget({});
            "true" == bgFail && k.modalBehaviorWidget("showModal");
            var l = function(a,
                    e) {
                    var f = "";
                    a || (a = "There was a problem with your image.");
                    if ("undefined" == typeof e || e) f = "</br>We accept images of the following file formats: <strong>png</strong>, <strong>jpg</strong> and <strong>gif</strong>.";
                    g("#import-bg-error").html("<i class='icon-warning-sign'></i>" + a + f);
                    k.modalBehaviorWidget("showModal")
                },
                n = function() {
                    h.modalBehaviorWidget("hideModal");
                    a.removeAttr("style")
                },
                p, r = function(a) {
                    null === a ? (resetDropArea(), l("Not a valid image.")) : e.location = "/photo/index?bgUrl=" + encodeURIComponent(a)
                };
            g(".file-browse-trigger").on("click", function() {});
            g(".file-browse-trigger:visible").each(function(f, u) {
                var w = {
                    dataType: "json",
                    add: function(a, e) {
                        if (!a.dataTransfer && 0 < e.files.length && !isImageExt(e.files[0].name)) return l("Please select a valid image file."), !1;
                        p = e.submit()
                    },
                    drop: function(a, f) {
                        var g = null,
                            h = f = null;
                        try {
                            g = a.dataTransfer.getData("URL"), f = a.dataTransfer.getData("Text"), h = a.dataTransfer.getData("text/html")
                        } catch (ja) {}
                        if (h) {
                            a = /https:\/\/\w*.?addtext.com\/photo\/index\?bgUrl=/i;
                            if (f && f.match(a)) return e.location = f, !1;
                            if (-1 !== f.indexOf("images.addtext.com/images/gallery/thumb/")) return g = f.replace("/thumb/", "/").replace("_thumb.jpg", "_720.jpg"), r(g), !1;
                            a = handleHtml(h);
                            null !== a ? r(a) : (resetDropArea(), l("Not a valid image."));
                            return !1
                        }
                        if (g && isImageUrl(g)) return a = handleUrl(g), null !== a ? r(a) :
                            (resetDropArea(), l("Not a valid image.")), !1;
                        if (f && 0 == a.dataTransfer.files.length) return isImageUrl(f) ? r(f) : (resetDropArea(), l("No valid image found in your url.")), !1;
                        if (0 < a.dataTransfer.files.length && (a = a.dataTransfer.files.item(0).name, !isImageExt(a))) return resetDropArea(), l("Please select a valid image file."), !1
                    },
                    done: function(f, g) {
                        g.result && g.result[0] ? e.setTimeout(function() {
                            r(g.result[0].url)
                        }, 50) : (resetDropArea(), a.css("background", "red"), setTimeout(function() {
                            n()
                        }, 250), l("There was a problem uploading your file."))
                    },
                    start: function(a, e) {
                        h.modalBehaviorWidget("showModal")
                    },
                    fail: function(a, e) {
                        "abort" === e.errorThrown ? (resetDropArea(), n()) : (g("#import-bg-error").html("<i class='icon-warning-sign'></i>Your image could not be uploaded. Please try again later."), k.modalBehaviorWidget("showModal"))
                    },
                    always: function(a, e) {},
                    progressall: function(e, f) {
                        e = parseInt(f.loaded / f.total * 100, 10);
                        a.css("width", e + "%")
                    }
                };
                0 < f && g.extend(w, {
                    dropZone: null
                });
                g(u).fileupload(w)
            });
            var u = g(".import-from-url").modalBehaviorWidget({
                showFn: function() {}
            });
            g(".use-web-image").on("click", function(a) {
                a.stopPropagation();
                u.modalBehaviorWidget("showModal")
            });
            g(document).on("submit", ".import-from-url-form", function(a) {
                a.preventDefault()
            });
            g(document).on("click", "#import-btn", function() {
                var a = g("#import-url").val().replace(" ", "");
                4 > a.length ? g("#import-url-error").html("<i class='icon-warning-sign'></i>No image found! Did you forget to enter an url?").removeClass("hide") : isImageUrl(a) ?
                    e.location = "/photo/index?bgUrl=" + encodeURIComponent(a) + "&_action=from_web_submit,from_web_submit_" + layoutMode : g("#import-url-error").html("<i class='icon-warning-sign'></i>Oops, that does not look like an image. We accept images of the following file formats: <strong>png</strong>, <strong>jpg</strong>, <strong>gif</strong>.").removeClass("hide")
            });
            var y = g(".gallery-photo-picker");
            y.modalBehaviorWidget({
                resetContent: !1,
                hideFn: function() {}
            });
            isMobileLayout() && y.insertAfter(g(".image-select"));
            var w = imgHost + "/images/gallery/thumb/",
                C = null,
                D = function() {
                    if (!C) {
                        C = y.galleryWidget({
                            thumbSrcBase: w
                        });
                        var a = getUrlParams().gallery;
                        a && (y.modalBehaviorWidget("showModal"), y.data("atGalleryWidget").showGalleryList(a))
                    }
                };
            setTimeout(D, 2E3);
            g("#gallery-btn, .use-gallery-image").on("click", function(a) {
                D();
                a.stopPropagation();
                y.modalBehaviorWidget("showModal")
            })
        })
    }
})(window,
    jQuery);
var bgeWidget;
dropFileArea = $(".drop-file-here");
logoPickerCategories = [{
    name: "addtext-featured",
    title: "Featured",
    local: !0
}, {
    name: "web_2_0",
    title: "Web 2.0"
}, {
    name: "decorated",
    title: "Decorated"
}, {
    name: "effects",
    title: "Effects"
}, {
    name: "fun",
    title: "Fun"
}, {
    name: "horror",
    title: "Horror"
}, {
    name: "light",
    title: "Light"
}, {
    name: "movie",
    title: "Movie"
}];
(function(e, g, a) {
    e.atEditor = function() {
        var f = getUrlParams();
        g(document).ready(function() {
            function h(a) {
                K && k();
                a !== L && ("scaleToFit" === a ? g("#canvas-wrapper").bgEditorWidget({
                    scaleBgToFit: !0,
                    dimensions: {
                        width: D.width,
                        height: D.height
                    }
                }) : "fullSize" === a && g("#canvas-wrapper").bgEditorWidget({
                    scaleBgToFit: !1
                }), bgeWidget.bgEditorWidget("updateVectosBackground", C), isMobileLayout() || g(".js-scale-bg-settings").removeClass("hide"), L = a)
            }

            function k() {
                g(".js-scale-bg-checkbox").on("change",
                    function() {
                        var a = g(this).is(":checked") ? "scaleToFit" : "fullSize";
                        h(a)
                    })
            }

            function l(a) {
                if (a.startsWith("addtext-")) return !1;
                for (var e = 0; e < F.length; e++)
                    if (F[e] === a) return !1;
                return !0
            }

            function n() {
                if ("undefined" !== typeof w) w.on("move", function(a) {
                    U || (U = !0, localStorage.setItem("seenDragTooltip", "true"), g(".tooltip").hasClass("faded-in") && (g(".tooltip-close-btn").first().trigger("click")),
                        w.off("move"))
                })
            }

            function p() {
                var a = g("#loading-image-msg");
                a.addClass("fade-out").css("height", "100%");
                setTimeout(function() {
                    a.addClass("hide")
                }, 1E3)
            }

            function r() {
                var a = getBgEditorElements();
                g(".tooltip").removeClass("hide");
                var f = "undefined" !== typeof localStorage ? "true" == localStorage.getItem("seenDragTooltip") : !1;
                "undefined" === typeof localStorage || f || setTimeout(function() {
                    if (!U && (!isMobileLayout() || g("html").hasClass("md-touch"))) {
                        for (var h = 0, k = a.length; h < k; h++)
                            if (a[h]) {
                                var l = g(a[h]);
                                break
                            } l && (h =
                            l.offset().left, l = l.offset().top, k = g(e).width() - 300 - h, 0 > k && (h = Math.max(0, h - Math.abs(k))), showToolTip("You can drag the text to position it", {
                                x: h,
                                y: l
                            }, function() {
                                localStorage.setItem("seenDragTooltip", "true")
                            }), f = !0)
                    }
                }, 2E4)
            }

            function u() {
                g(".js-wait-modal-spinner").attr("src", imgHost + "/images/spinner.gif");
                g(".save-share-section").addClass("hide");
                g("#makeSavePage-wait-msg").removeClass("hide")
            }
            var y = g("#loading-image-msg");
            if (document.createElementNS && document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") && !g("html").hasClass("opera-mini")) {
                var w;
                y = imgHost + "/images/demo-image.jpg";
                var C = "undefined" != typeof f.bgUrl ? f.bgUrl : y,
                    D = {
                        width: 1024,
                        height: 768
                    };
                y = {
                    cropBgToFit: !1,
                    bgUrl: C,
                    watermarkUrl: isPremiumUser ? a : imgHost + "/images/watermark-small.png",
                    watermarkWidth: 60,
                    watermarkHeight: 13,
                    watermarkLayerClass: "watermark js-watermark-info-trigger",
                    spinnerUrl: imgHost + "/images/spinner.gif",
                    bgLoadedFn: function(a) {
                        g("#loading-image-msg").addClass("abs-height");
                        p();
                        "undefined" !== typeof showHelpTimeout && (clearTimeout(showHelpTimeout), g("#init-vectos-info").html(""));
                        (K || C !== a.src) && (1280 < a.width || 960 < a.height) && (h("scaleToFit"), K = !1);
                        a = getBgEditorElements();
                        if ("undefined" !== typeof a)
                            for (var e = getTextParams(), f = 0, k = a.length; f < k; f++)
                                if ("undefined" !== typeof a[f]) {
                                    var l = e[f];
                                    l.element = a[l.id];
                                    l.imageWidth = a[l.id].originalWidth;
                                    l.imageHeight = a[l.id].originalHeight;
                                    bgeWidget.bgEditorWidget("updateVectosElement", l)
                                }
                    },
                    readyFn: function() {
                        var a = g(".js-watermark-info-modal").modalBehaviorWidget({}),
                            e = g(".js-premium-logo-info-modal").modalBehaviorWidget({
                                resetContent: !1
                            }),
                            f = g(".js-premium-logo-info-modal-btn"),
                            h = {
                                cropFtImages: !Modernizr.touch && !isMobileLayout(),
                                openTextModuleRule: "first",
                                isPremiumLogo: l,
                                logopickerStyleAllowedFn: function(a) {
                                    return isPremiumUser ? !0 : l(a) ? (setTimeout(function() {
                                        f.attr("href",
                                            f.attr("href").replace(/(&_style=[^&]*)?$/, "&_style=" + a));
                                        e.modalBehaviorWidget("showModal")
                                    }, 250), !1) : !0
                                }
                            };
                        bgEditorMain(h);
                        w = getBgEditorVectos();
                        g("html").addClass("editor-loaded");
                        g(".next-btn, .js-template-overlay").each(function() {
                            g(this).attr("class", g(this).attr("class") + " faded-in")
                        });
                        r();
                        n();
                        g(".js-watermark-info-trigger").on("click", function(e) {
                            e.stopPropagation();
                            a.modalBehaviorWidget("showModal");
                        })
                    },
                    errorFn: function(a) {
                        "bgFail" === a ? e.location = "/?bgFail=true" : "upload bgFail" === a && p()
                    }
                };
                bgeWidget = g("#canvas-wrapper").bgEditorWidget(y);
                (function() {
                    var a = [];
                    g("html").hasClass("md-no-touch") && !isMobileLayout() && a.push("You can move the text around by dragging it.");
                    Modernizr.fileinput && isDndSupported() && a.push("You can change background image by dragging a new one onto this page.");
                    a.push("When choosing text style you can choose from different categories.");
                    if (0 < a.length) {
                        g("#init-vectos-info").addClass("fade-in").removeClass("hide");
                        var e = function(f) {
                            f = f && f.delay ? f.delay : "1000";
                            if (!(1 > a.length)) {
                                var h = Math.floor(Math.random() * a.length),
                                    k = a[h];
                                a.splice(h, 1);
                                setTimeout(function() {
                                    g("#init-vectos-info").html("<i class='icon-info-sign'></i>" + k).addClass("faded-in");
                                    e({
                                        delay: 8E3
                                    })
                                }, f)
                            }
                        };
                        e()
                    }
                })();
                var K = !0,
                    L = "fullSize",
                    F = "birdy-logo beauty-logo superfit-logo fabulous-logo orange-logo global-logo free-range-logo sweets-logo green-dragon-logo water-world-logo comics-logo roman-logo crazy-logo fun-and-play-logo cherry-logo husky-logo itext-logo pet-care-logo blackbird-logo maven-logo superstars-logo gingerbread-logo fluffy-logo plastic-logo".split(" "),
                    U = !1,
                    B = function() {
                        g(".js-wait-modal-spinner").attr("src", imgHost + "/images/spinner-stopped.png")
                    },
                    aa = !1,
                    ka = g(".save-share-image").modalBehaviorWidget({
                        showFn: function() {
                            for (var a = !0, e = getTextParams(), h = 1, k = e.length; h < k; h++)
                                if (1 != e[h].deleted && "addtext-meme" != e[h].style) {
                                    a = !1;
                                    break
                                } e = f.bgUrl;
                            if (a || e && -1 < e.indexOf("images.addtext.com/images")) aa = !0;
                            g("#share-reuse-background").prop("checked", aa)
                        },
                        hideFn: function() {
                            clearTimeout(va);
                            isMobileLayout() && g(".maker-toolbar").removeClass("hide")
                        }
                    });
                g(".next-btn").on("click", function(a) {
                    a.stopPropagation();
                    prepareFinalImage();
                    g(document).trigger("click");
                    ka.modalBehaviorWidget("showModal");
                    isMobileLayout() && g(".maker-toolbar").addClass("hide")
                });
                var ja = {
                        maxWidth: 720,
                        maxHeight: 500,
                        doneFn: function(a) {
                            if (!ka.hasClass("hide"))
                                if (a.error) B(), g("#save-share-error").html("<i class='icon-warning-sign'></i>Something went wrong. Please try again later.").removeClass("hide");
                                else {
                                    var e = g("#makeSavePage-wait-msg");
                                    e.addClass("fade-out");
                                    va = setTimeout(function() {
                                        e.addClass("hide");
                                        B();
                                        g(".share-trigger, .save-share-image-more-options").addClass("hide");
                                        g("#share-error").html("").addClass("hide").removeAttr("style");
                                        g(".share-buttons, .save-share-section").removeClass("hide")
                                    }, 500);
                                    var f = "https://facebook.com/sharer.php?u=" + encodeURIComponent(a.url);
                                    g("#facebook-btn").attr("href", f);
                                    f = "https://twitter.com/share?text=" + encodeURIComponent("Check out my image \u2013 ") + "&url=" +
                                        encodeURIComponent(a.url);
                                    g("#twitter-btn").attr("href", f);
                                    f = "https://plus.google.com/share?url=" + encodeURIComponent(a.url);
                                    g("#google-plus-btn").attr("href", f);
                                    g(".js-share-page-link").attr("href", a.url + "?_loc=photo_next_modal_share").html(a.url)
                                }
                        },
                        errorFn: function(a) {
                            ka.hasClass("hide") || (B(), g("#save-share-error").html("<i class='icon-warning-sign'></i>Something went wrong. Please try again later.").removeClass("hide"))
                        }
                    },
                    va = null,
                    S = function() {
                        setTimeout(function() {
                            document.location = g(".js-share-page-link").attr("href") +
                                "d"
                        }, 5E3)
                    };
                g(document).on("click", "#share-btn", function(a) {
                    u();
                    a = g("#share-reuse-background").is(":checked");
                    ja.reuse = a;
                    ja.bgUrl = C;
                    a = aa !== a ? "to " + a : !1;
                    !1 !== a && waitFinalImageReady(function() {
                        console.log("func 2");
                        var a = C.match(/\.([0-9a-z]+)(?:[\?#]|$)/i);
                        !a || "jpg" !== a[1] && "png" !== a[1] || (ja.fileFormat = a[1]);
                        return makeSavePage(ja)
                    })
                });
                g(document).on("click", "#facebook-btn",
                    function(a) {
                        a.preventDefault();
                        a = g(this).closest("a").attr("href");
                        e.open(a, "", "height=500,width=400,resizable=1");
                        S()
                    });
                g(document).on("click", "#twitter-btn", function(a) {
                    a.preventDefault();
                    a = g(this).closest("a").attr("href");
                    e.open(a, "share", "height=450,width=550,resizable=1");
                    S()
                });
                g(document).on("click", "#google-plus-btn", function(a) {
                    a.preventDefault();
                    a = g(this).closest("a").attr("href");
                    e.open(a, "", "menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600");
                    S()
                });
                g(document).on("click", "#reusability-more-info-trigger", function() {
                    g("#share-error").hasClass("hide") ?
                        (g("#share-error").html('<span><i class="icon-info-sign"></i>Allow the people you share the image with to reuse it with their own text</span>').removeClass("hide")) : (g("#share-error").html("").addClass("hide").removeAttr("style"))
                });
                g(document).on("click", "#download-btn", function(a) {
                    console.log("Called");
                    u();
                    console.log("TES");
                    waitFinalImageReady(function() {
                        console.log("TES inside");
                        var a = C.match(/\.([0-9a-z]+)(?:[\?#]|$)/i);
                        !a || "jpg" !== a[1] && "png" !== a[1] || (Z.fileFormat = a[1]);
                        return downloadFn(Z)
                    })
                });
                var Z = {
                        doneFn: function() {
                            setTimeout(function() {
                                B();
                                g(".save-share-section").removeClass("hide");
                                g("#makeSavePage-wait-msg").addClass("hide")
                            }, 1500)
                        },
                        errorFn: function() {
                            B();
                            g("#save-share-error").html("<i class='icon-warning-sign'></i>Something went wrong. Please try again later.").removeClass("hide")
                        }
                    },
                    qa = g(".js-scale-bg-info-modal").modalBehaviorWidget({});
                g(".js-scale-bg-more-info-trigger").on("click", function(a) {
                    a.stopPropagation();
                    qa.modalBehaviorWidget("showModal");
                });
                if (Modernizr.fileinput && isDndSupported()) {
                    var Ha = function(a) {
                            resetDropArea();
                            var e = g("#loading-image-msg");
                            e.removeClass("hide").css("height", e.outerHeight());
                            setTimeout(function() {
                                e.removeClass("fade-out")
                            }, 0);
                            0 !== a.indexOf("http://") && 0 !== a.indexOf("https://") && (a = "https://" + a);
                            C = a;
                            bgeWidget.bgEditorWidget("updateVectosBackground",
                                C)
                        },
                        Ea = g(".progress-bar").removeAttr("style"),
                        Ia = g(".js-progress-modal").modalBehaviorWidget({
                            resetContent: !1,
                            dismissAble: !1,
                            hideFn: function() {
                                la.abort()
                            }
                        });
                    g(".js-cancel-upload").on("click", function() {
                        Ia.modalBehaviorWidget("hideModal")
                    });
                    var La = function() {
                            Ia.modalBehaviorWidget("hideModal");
                            Ea.removeAttr("style")
                        },
                        la;
                    g(".file-browse-trigger").each(function(a, e) {
                        var f = {
                            dataType: "json",
                            add: function(a, e) {
                                if (!a.dataTransfer && 0 < e.files.length && !isImageExt(e.files[0].name)) return log("Please select a valid image file."),
                                    !1;
                                la = e.submit()
                            },
                            drop: function(a, e) {
                                var f = e = null,
                                    g = null;
                                try {
                                    e = a.dataTransfer.getData("URL"), f = a.dataTransfer.getData("Text"), g = a.dataTransfer.getData("text/html")
                                } catch (Va) {}
                                if (g) return a = handleHtml(g), null !== a ? Ha(a) : (resetDropArea(), log("Not a valid image.")), !1;
                                if (e && isImageUrl(e)) return a = handleUrl(e), null !== a ? Ha(a) : resetDropArea(), !1;
                                if (f && 0 == a.dataTransfer.files.length) return isImageUrl(f) ? Ha(f) : (resetDropArea(), log("No valid image found in your url.")), !1;
                                if (0 < a.dataTransfer.files.length &&
                                    (a = a.dataTransfer.files.item(0).name, !isImageExt(a))) return resetDropArea(), log("Please select a valid image file."), !1
                            },
                            done: function(a, e) {
                                e.result && e.result[0] ? (Ha(e.result[0].url), La()) : (resetDropArea(), Ea.css("background", "red"), setTimeout(function() {
                                    La()
                                }, 250), log("There was a problem uploading your file."))
                            },
                            start: function(a, e) {
                                Ia.modalBehaviorWidget("showModal")
                            },
                            fail: function(a, e) {
                                "abort" === e.errorThrown ? (resetDropArea(), La()) : (resetDropArea(), log("Upload failed, please try again later."))
                            },
                            always: function(a, e) {},
                            progressall: function(a, e) {
                                a = parseInt(e.loaded / e.total * 100, 10);
                                Ea.css("width", a + "%")
                            }
                        };
                        0 < a && g.extend(f, {
                            dropZone: null
                        });
                        g(e).fileupload(f)
                    })
                }
            } else y.html("<p>Your browser does not support SVG's.</p>"), isMobileLayout() ? y.append("<p>We're sorry, but AddText doesn't work on your device.</p>") : y.append("<p>Please upgrade to a modern browser in order to use AddText.</p><p><a href='http://updatemybrowser.org'>Upgrade your browser here</a></p>"), g("html").addClass("no-support")
        })
    }
})(window,
    jQuery);
(function(e, g) {
    "function" === typeof define && define.amd ? define(["jquery"], g) : g(e.jQuery)
})(this, function(e) {
    var g = function(a) {
        this.origHtmlMargin = parseFloat(e("html").css("margin-top"));
        this.options = e.extend({}, e.smartbanner.defaults, a);
        a = navigator.standalone;
        var f = navigator.userAgent;
        this.options.force ? this.type = this.options.force : null !== f.match(/Windows Phone/i) && null !== f.match(/Edge|Touch/i) ? this.type = "windows" : null !== f.match(/iPhone|iPod/i) || f.match(/iPad/) && this.options.iOSUniversalApp ? null !==
            f.match(/Safari/i) && (null !== f.match(/CriOS/i) || 6 > window.Number(f.substr(f.indexOf("OS ") + 3, 3).replace("_", "."))) && (this.type = "ios") : f.match(/\bSilk\/(.*\bMobile Safari\b)?/) || f.match(/\bKF\w/) || f.match("Kindle Fire") ? this.type = "kindle" : null !== f.match(/Android/i) && (this.type = "android");
        if (this.type && !a && !this.getCookie("sb-closed") && !this.getCookie("sb-installed") && (this.scale = "auto" == this.options.scale ? e(window).width() / window.screen.width : this.options.scale, 1 > this.scale && (this.scale = 1), a = e("android" ==
                this.type ? 'meta[name="google-play-app"]' : "ios" == this.type ? 'meta[name="apple-itunes-app"]' : "kindle" == this.type ? 'meta[name="kindle-fire-app"]' : 'meta[name="msApplication-ID"]'), 0 !== a.length)) {
            if ("windows" == this.type) this.appId = e('meta[name="msApplication-PackageFamilyName"]').attr("content");
            else if (f = /app-id=([^\s,]+)/.exec(a.attr("content"))) this.appId = f[1];
            else return;
            this.title = this.options.title ? this.options.title : a.data("title") || e("title").text().replace(/\s*[|\-\u00b7].*$/, "");
            this.author = this.options.author ?
                this.options.author : a.data("author") || (e('meta[name="author"]').length ? e('meta[name="author"]').attr("content") : window.location.hostname);
            this.iconUrl = a.data("icon-url");
            this.price = a.data("price");
            this.options.onInstall = "function" === typeof this.options.onInstall ? this.options.onInstall : function() {};
            this.options.onClose = "function" === typeof this.options.onClose ? this.options.onClose : function() {};
            this.create();
            this.show();
            this.listen()
        }
    };
    g.prototype = {
        constructor: g,
        create: function() {
            var a = this.options.url ?
                this.options.url : ("windows" == this.type ? "ms-windows-store:navigate?appid=" : "android" == this.type ? "market://details?id=" : "kindle" == this.type ? "amzn://apps/android?asin=" : "https://itunes.apple.com/" + this.options.appStoreLanguage + "/app/id") + this.appId,
                f = this.price || this.options.price,
                g = f ? f + " - " + ("android" == this.type ? this.options.inGooglePlay : "kindle" == this.type ? this.options.inAmazonAppStore : "ios" == this.type ? this.options.inAppStore : this.options.inWindowsStore) : "";
            f = null === this.options.iconGloss ? "ios" ==
                this.type : this.options.iconGloss;
            "android" == this.type && this.options.GooglePlayParams && (a = a + "&referrer=" + this.options.GooglePlayParams);
            a = '<div id="smartbanner" class="' + this.type + '"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>' + this.title + "</strong><span>" + this.author + "</span><span>" + g + '</span></div><a href="' + a + '" class="sb-button"><span>' + this.options.button + "</span></a></div></div>";
            this.options.layer ? e(this.options.appendToSelector).append(a) :
                e(this.options.appendToSelector).prepend(a);
            if (this.options.icon) var k = this.options.icon;
            else this.iconUrl ? k = this.iconUrl : 0 < e('link[rel="apple-touch-icon-precomposed"]').length ? (k = e('link[rel="apple-touch-icon-precomposed"]').attr("href"), null === this.options.iconGloss && (f = !1)) : 0 < e('link[rel="apple-touch-icon"]').length ? k = e('link[rel="apple-touch-icon"]').attr("href") : 0 < e('meta[name="msApplication-TileImage"]').length ? k = e('meta[name="msApplication-TileImage"]').attr("content") : 0 < e('meta[name="msapplication-TileImage"]').length &&
                (k = e('meta[name="msapplication-TileImage"]').attr("content"));
            k ? (e("#smartbanner .sb-icon").css("background-image", "url(" + k + ")"), f && e("#smartbanner .sb-icon").addClass("gloss")) : e("#smartbanner").addClass("no-icon");
            this.bannerHeight = e("#smartbanner").outerHeight() + 2;
            1 < this.scale && (e("#smartbanner").css("top", parseFloat(e("#smartbanner").css("top")) * this.scale).css("height", parseFloat(e("#smartbanner").css("height")) * this.scale).hide(), e("#smartbanner .sb-container").css("-webkit-transform", "scale(" +
                this.scale + ")").css("-msie-transform", "scale(" + this.scale + ")").css("-moz-transform", "scale(" + this.scale + ")").css("width", e(window).width() / this.scale));
            e("#smartbanner").css("position", this.options.layer ? "absolute" : "static")
        },
        listen: function() {
            e("#smartbanner .sb-close").on("click", e.proxy(this.close, this));
            e("#smartbanner .sb-button").on("click", e.proxy(this.install, this))
        },
        show: function(a) {
            var f = e("#smartbanner");
            f.stop();
            this.options.layer ? (f.animate({
                    top: 0,
                    display: "block"
                }, this.options.speedIn).addClass("shown").show(),
                e(this.pushSelector).animate({
                    paddingTop: this.origHtmlMargin + this.bannerHeight * this.scale
                }, this.options.speedIn, "swing", a)) : e.support.transition ? (f.animate({
                top: 0
            }, this.options.speedIn).addClass("shown"), e(this.pushSelector).addClass("sb-animation").one(e.support.transition.end, function() {
                e("html").removeClass("sb-animation");
                a && a()
            }).emulateTransitionEnd(this.options.speedIn).css("margin-top", this.origHtmlMargin + this.bannerHeight * this.scale)) : f.slideDown(this.options.speedIn).addClass("shown")
        },
        hide: function(a) {
            var f = e("#smartbanner");
            f.stop();
            this.options.layer ? (f.animate({
                top: -1 * this.bannerHeight * this.scale,
                display: "block"
            }, this.options.speedIn).removeClass("shown"), e(this.pushSelector).animate({
                paddingTop: this.origHtmlMargin
            }, this.options.speedIn, "swing", a)) : e.support.transition ? ("android" !== this.type ? f.css("top", -1 * this.bannerHeight * this.scale).removeClass("shown") : f.css({
                display: "none"
            }).removeClass("shown"), e(this.pushSelector).addClass("sb-animation").one(e.support.transition.end,
                function() {
                    e("html").removeClass("sb-animation");
                    a && a()
                }).emulateTransitionEnd(this.options.speedOut).css("margin-top", this.origHtmlMargin)) : f.slideUp(this.options.speedOut).removeClass("shown")
        },
        close: function(a) {
            a.preventDefault();
            this.hide();
            this.setCookie("sb-closed", "true", this.options.daysHidden);
            this.options.onClose(a)
        },
        install: function(a) {
            this.options.hideOnInstall && this.hide();
            this.setCookie("sb-installed", "true", this.options.daysReminder);
            this.options.onInstall(a)
        },
        setCookie: function(a,
            e, g) {
            var f = new Date;
            f.setDate(f.getDate() + g);
            e = encodeURI(e) + (null === g ? "" : "; expires=" + f.toUTCString());
            document.cookie = a + "=" + e + "; path=/;"
        },
        getCookie: function(a) {
            var e, g = document.cookie.split(";");
            for (e = 0; e < g.length; e++) {
                var k = g[e].substr(0, g[e].indexOf("="));
                var l = g[e].substr(g[e].indexOf("=") + 1);
                k = k.replace(/^\s+|\s+$/g, "");
                if (k == a) return decodeURI(l)
            }
            return null
        },
        switchType: function() {
            var a = this;
            this.hide(function() {
                a.type = "android" == a.type ? "ios" : "android";
                var f = e("android" == a.type ? 'meta[name="google-play-app"]' :
                    'meta[name="apple-itunes-app"]').attr("content");
                a.appId = /app-id=([^\s,]+)/.exec(f)[1];
                e("#smartbanner").detach();
                a.create();
                a.show()
            })
        }
    };
    e.smartbanner = function(a) {
        var f = e(window),
            h = f.data("smartbanner");
        h || f.data("smartbanner", h = new g("object" == typeof a && a));
        if ("string" == typeof a) h[a]()
    };
    e.smartbanner.defaults = {
        title: null,
        author: null,
        price: "FREE",
        appStoreLanguage: "us",
        inAppStore: "On the App Store",
        inGooglePlay: "In Google Play",
        inAmazonAppStore: "In the Amazon Appstore",
        inWindowsStore: "In the Windows Store",
        GooglePlayParams: null,
        icon: null,
        iconGloss: null,
        button: "VIEW",
        url: null,
        scale: "auto",
        speedIn: 300,
        speedOut: 400,
        daysHidden: 15,
        daysReminder: 90,
        force: null,
        hideOnInstall: !0,
        layer: !1,
        iOSUniversalApp: !0,
        appendToSelector: "body",
        pushSelector: "html"
    };
    e.smartbanner.Constructor = g;
    void 0 === e.support.transition && (e.fn.emulateTransitionEnd = function(a) {
        var f = !1,
            g = this;
        e(this).one(e.support.transition.end, function() {
            f = !0
        });
        setTimeout(function() {
            f || e(g).trigger(e.support.transition.end)
        }, a);
        return this
    }, e(function() {
        var a =
            e.support;
        a: {
            var f = document.createElement("smartbanner");
            var g = {
                    WebkitTransition: "webkitTransitionEnd",
                    MozTransition: "transitionend",
                    OTransition: "oTransitionEnd otransitionend",
                    transition: "transitionend"
                },
                k;
            for (k in g)
                if (void 0 !== f.style[k]) {
                    f = {
                        end: g[k]
                    };
                    break a
                } f = !1
        }
        a.transition = f
    }))
});
try {
    $.smartbanner({
        title: "AddText - to your photos",
        author: "FlamingText.com Pty Ltd"
    })
} catch (e) {}
(function(e) {
    var g = function(a) {
        return e("<div/>").text(a).html()
    };
    e.fn.equalizeHeights = function() {
        var a = this.map(function(a, g) {
            return e(g).height()
        }).get();
        return this.height(Math.max.apply(this, a))
    };
    e.widget("ui.datapicker", {
        options: {
            tags: {
                names: {
                    type: "list",
                    values: [{
                        name: "new",
                        title: "New"
                    }],
                    showInLeftPanel: !0
                },
                alphabetical: {
                    type: "table",
                    values: [{
                        name: "a",
                        title: "A"
                    }, {
                        name: "b",
                        title: "B"
                    }, {
                        name: "c",
                        title: "C"
                    }, {
                        name: "d",
                        title: "D"
                    }, {
                        name: "e",
                        title: "E"
                    }, {
                        name: "f",
                        title: "F"
                    }, {
                        name: "g",
                        title: "G"
                    }, {
                        name: "h",
                        title: "H"
                    }, {
                        name: "i",
                        title: "I"
                    }, {
                        name: "j",
                        title: "J"
                    }, {
                        name: "k",
                        title: "K"
                    }, {
                        name: "l",
                        title: "L"
                    }, {
                        name: "m",
                        title: "M"
                    }, {
                        name: "n",
                        title: "N"
                    }, {
                        name: "o",
                        title: "O"
                    }, {
                        name: "p",
                        title: "P"
                    }, {
                        name: "q",
                        title: "Q"
                    }, {
                        name: "r",
                        title: "R"
                    }, {
                        name: "s",
                        title: "S"
                    }, {
                        name: "t",
                        title: "T"
                    }, {
                        name: "u",
                        title: "U"
                    }, {
                        name: "v",
                        title: "V"
                    }, {
                        name: "w",
                        title: "W"
                    }, {
                        name: "x",
                        title: "X"
                    }, {
                        name: "y",
                        title: "Y"
                    }, {
                        name: "z",
                        title: "Z"
                    }, {
                        name: "0",
                        title: "#"
                    }],
                    columns: 5,
                    showInTopPanel: !0,
                    showInLeftPanel: !1
                }
            },
            position: function(a, f) {
                a = f.main;
                f = a.outerWidth();
                var g = a.outerHeight();
                g = (e(window).height() - g) / 2 + e(window).scrollTop();
                f = (e(window).width() - f) / 2 + e(window).scrollLeft();
                a.css({
                    top: g + "px",
                    left: f + "px",
                    position: "absolute"
                })
            },
            sizeFn: function(a, f) {
                var g = f.main.find(".dp_preview_body"),
                    k = f.main.find(".dp_top_panel");
                a = f.main.find(".dp_left_panel");
                var l = f.main.find(".dp_right_panel"),
                    n = f.main.find(".dp_preview_footer"),
                    p = e(window).width();
                f = e(window).height() - 24;
                520 <= p && 0 < n.length && (f -= n.height());
                "undefined" !== typeof this.preview_header && (f -= 33);
                520 >
                    p && 377 < f && (f = 377);
                g.css({
                    "max-width": p - 24,
                    "max-height": f
                });
                0 < k.length && (g = 0 < k.height() ? k.outerHeight(!0) : 38, f -= g);
                a.add(l).css({
                    "max-height": f
                })
            },
            ui: {
                simpleMode: !1,
                header: "Data Picker",
                showOutline: !1,
                min_width: 200,
                loadingImgSrc: "https://cdn1.ftimg.com/images/loading.gif",
                footer: {
                    autocloseLabel: "Auto Close",
                    okayLabel: "Okay",
                    cancelLabel: "Cancel"
                },
                previousTagLabel: "Previous",
                topPanel: {
                    show: !1,
                    showAlphabet: !0,
                    search: {
                        enabled: !0,
                        searchPlaceholder: "",
                        searchLabel: "Search",
                        goLabel: "Go",
                        runAsYouType: !0,
                        searchAll: !0
                    },
                    closeLabel: "Close",
                    closeImgSrc: "https://cdn1.ftimg.com/images/stock_delete_24.png"
                },
                leftPanel: {
                    show: !0,
                    specialTags: {
                        previous: {
                            enabled: !1,
                            tagname: "dp_tag_previous",
                            ui: "Previous"
                        },
                        search: {
                            enabled: !0,
                            tagname: "dp_tag_search",
                            ui: "Last Search"
                        }
                    }
                },
                rightPanel: {
                    containerClass: "dp_div",
                    pagination: {
                        itemsPerPage: 10,
                        pageLinks: 5,
                        scrollable: !0
                    },
                    showCategoriesHint: !0
                }
            },
            controlElement: void 0,
            init: function() {},
            select: function() {},
            cancel: function() {},
            close: function() {},
            failed: function() {},
            autoclose: !0,
            cacheAjaxResults: !1,
            cacheAjaxResultsFn: void 0,
            cacheKeyComposition: [],
            origValue: void 0,
            initialTag: void 0,
            pixelRatio: 1,
            mode: "popup",
            openOnInit: !1,
            closableByEscKey: !0,
            closableByDocumentClick: !0,
            heightBasedOnCategoriesPanelHeight: !0
        },
        _create: function() {
            var a = this;
            this._determineMode();
            this.tags = this.right_panel = this.left_panel = this.preview_footer = this.preview_body = this.preview_header = this.preview_container = this.preview_outline = this.preview = void 0;
            this.autoclose = "boolean" == typeof this.options.autoclose ? this.options.autoclose :
                !0;
            this.prevItem = this.selectedItem = this.previousTag = this.selectedTag = void 0;
            this.origValue = this.options.origValue ? this.options.origValue : void 0;
            this.currentTag = this.initialTag = this.options.initialTag ? this.options.initialTag : void 0;
            this.items = {};
            this.fn_queue = {};
            this.tagsProcessed = {};
            this.working = !1;
            this.leftPanelItemCount = 0;
            this.imagebot = "undefined" != typeof window.dontUseMeAskCameron ? window.dontUseMeAskCameron : {};
            "undefined" === typeof this.options.cacheAjaxResultsFn && (this.options.cacheAjaxResultsFn =
                function() {
                    return a.options.cacheAjaxResults
                });
            this._buildUI();
            this._cssFix();
            e.isFunction(this.options.init) && this._trigger("init", null, this._ui());
            this.initialTagCacheKey = this.currentCacheKey = void 0;
            this._initCacheKeyChangeEvents();
            (this.options.openOnInit || this.mode == this.MODE_INLINE) && this._open()
        },
        _initCacheKeyChangeEvents: function() {
            var a = this;
            e.each(this.options.cacheKeyComposition, function(f, g) {
                if ("undefined" === typeof g.element || 0 == g.element.length) return !0;
                e.each(g.cacheKeyChangeEvents, function(e,
                    f) {
                    g.element.bind(f + ".datapicker", {
                        dp: a
                    }, function(a) {
                        a.data.dp._triggerCacheKeyChanged()
                    })
                })
            })
        },
        _triggerCacheKeyChanged: function() {
            this._selectTag(this.selectedTag)
        },
        _determineMode: function() {
            this.MODE_POPUP = 1;
            this.MODE_INLINE = 2;
            switch (this.options.mode) {
                case "inline":
                    this.mode = this.MODE_INLINE;
                    break;
                default:
                    this.mode = this.MODE_POPUP
            }
        },
        _init: function() {},
        _ui: function() {
            var a = {
                    value: this.prevItem ? this.prevItem.attr("dp_value") : this.origValue,
                    escapedValue: this._escapedValue(this.prevItem ? this.prevItem.attr("dp_value") :
                        this.origValue),
                    tagname: this.initialTag,
                    img_url: this.prevItem ? this.prevItem.find("img").attr("src") : ""
                },
                e = {
                    value: this.selectedItem ? this.selectedItem.attr("dp_value") : this.origValue,
                    escapedValue: this._escapedValue(this.selectedItem ? this.selectedItem.attr("dp_value") : this.origValue),
                    tagname: this.currentTag,
                    img_url: this.selectedItem ? this.selectedItem.find("img").attr("src") : ""
                };
            return {
                main: this.preview,
                selected: e,
                original: a,
                controlElement: this.options.controlElement,
                escapeFn: this._escapedValue
            }
        },
        _buildUI: function() {
            this._createMain();
            this._createHeader();
            this._createBody();
            this._createFooter();
            this._initControlElement();
            this.preview.hide();
            this.preview.css({
                visibility: "visible"
            })
        },
        _cssFix: function() {
            var a = -1 != navigator.appVersion.indexOf("MSIE"),
                e = parseFloat(navigator.appVersion.split("MSIE")[1]);
            a && 9 <= e && 10 > e && this.preview_footer && this.preview_footer.add(this.preview_header).css({
                filter: "none"
            })
        },
        _initControlElement: function() {
            var a = this,
                f = this.options.controlElement;
            "undefined" !== typeof f && f.length && (f.addClass("dp_control_element"),
                f.click(function(f) {
                    f.preventDefault();
                    if (a.mode != a.MODE_INLINE || !e(f.target).parents().addBack().is(a.preview)) {
                        var g = a.preview.hasClass("dp_open");
                        e(document).trigger("click.datapicker");
                        f.stopImmediatePropagation();
                        g ? a._close() : a._open()
                    }
                }))
        },
        _close: function(a) {
            this.mode != this.MODE_INLINE && (e.isFunction(this.options.close) && this._trigger("close", null, this._ui()), a || this._addToPreviousItems(), this.initialTag = this.currentTag, a = this.initialTagCacheKey = this.currentCacheKey, this.items[a].pageWithSelection =
                this.items[a].pageWithSelectionUnconfirmed, this.preview.hide(), this.preview.removeClass("dp_open"), e(document).unbind(".datapicker"))
        },
        _open: function() {
            var a = this.options,
                f = e(window).width();
            e(window).height();
            520 > f || a.ui.simpleMode ? this.preview.addClass("ui_simple") : "inlineLogoPicker" === a.abtest && this.mode == this.MODE_INLINE ? this.preview.addClass("ui_simple") : this.preview.removeClass("ui_simple");
            this.mode == this.MODE_POPUP && "function" === typeof a.sizeFn && this._trigger("sizeFn", null, this._ui());
            this.right_panel.add(this.left_panel);
            this.mode == this.MODE_POPUP && e.isFunction(a.position) && this._trigger("position", null, this._ui());
            e.isFunction(a.open) && this._trigger("open", null, this._ui());
            this.preview.show();
            this.preview.addClass("dp_open");
            if (this.mode == this.MODE_POPUP) {
                if (a.closableByDocumentClick) e(document).on("click.datapicker", {
                    dp: this
                }, function(a) {
                    e(a.target).parents().addBack().is(a.data.dp.preview) || a.data.dp._close()
                });
                if (a.closableByEscKey) e(document).on("keyup.datapicker", {
                    dp: this
                }, function(a) {
                    var e = a.data.dp;
                    27 == a.keyCode &&
                        e.preview.hasClass("dp_open") && e._close()
                })
            }
            this._selectTag_string(this.initialTag)
        },
        _cancel: function() {
            e.isFunction(this.options.cancel) && this._trigger("cancel", null, this._ui());
            "undefined" != typeof this.selectedItem && this.selectedItem.removeClass("selectedItem");
            this.selectedItem = this.prevItem;
            this.currentTag = this.initialTag;
            this.currentCacheKey = this.initialTagCacheKey;
            this.right_panel.find(".selectedItem").removeClass("selectedItem");
            var a = "undefined" != typeof this.selectedItem && this.selectedItem.length ?
                this.selectedItem.attr("dp_value") : this.origValue;
            if (a) {
                key = this.currentCacheKey;
                var f = this.items[key].pageWithSelection || 0;
                this.items[key].pageWithSelectionUnconfirmed = f;
                this.selectedItem = this.items[key].pages[f].cache.find('[dp_value="' + a + '"]').addClass("selectedItem");
                this.right_panel.find('[dp_value="' + a + '"]').addClass("selectedItem")
            }
            this._close(!0)
        },
        _failed: function(a, f, g) {
            var h = this.options;
            e.isFunction(h.failed) && this._trigger("failed", null, this._ui());
            "boolean" != typeof f && (f = !0);
            f && this.selectedTag.is(g) &&
                this._tagListEmpty(g);
            if (g.attr("tagname") != h.ui.leftPanel.specialTags.search.tagname) throw Error("datapicker failed: " + a);
        },
        _showSearchHint: function(a) {
            var f = this._getKey(a);
            a = this._tagListEmpty(a).html("No results. Please type in the search box.");
            var g = e("<div></div>");
            this.items[f] = {
                pageWithSelection: 0,
                pageWithSelectionUnconfirmed: 0,
                currentPage: 0,
                container: g,
                pages: [{
                    items: ["noresults"],
                    cache: g.append(a.clone())
                }]
            }
        },
        _saveSearchEmpty: function(a, f, g, k) {
            a = this._getKey(g, k);
            g = this._tagListEmpty(g);
            f = e("<div></div>");
            this.items[a] = {
                pageWithSelection: 0,
                pageWithSelectionUnconfirmed: 0,
                currentPage: 0,
                container: f,
                pages: [{
                    items: ["noresults"],
                    cache: f.append(g.clone())
                }],
                totalItems: 0
            }
        },
        _tagListEmpty: function(a) {
            var f = "Category empty.";
            a.attr("tagname") === this.options.ui.leftPanel.specialTags.search.tagname && (f = "No search results");
            a = this._buildInfoPanel(0).append(e("<div class='dp_failed_div'>" + f + "</div>"));
            this.shownSearch = "";
            this.right_panel.html(a);
            return a
        },
        _createMain: function() {
            var a = this.options;
            this.mode == this.MODE_POPUP ? (this.main = e("<div class='dp_main'></div>").appendTo("body"), this.preview = e("<div class='dp_preview_dialog'></div>").appendTo(this.main), a = e(window).width(), window.innerWidth && (a = Math.max(a, window.innerWidth)), (!("ontouchend" in document) && 700 <= a || 1200 <= a) && this.preview.draggable({
                cancel: ".dp_preview_body"
            })) : this.mode == this.MODE_INLINE && (this.main = "inlineLogoPicker" === a.abtest ? e("<div class='dp_main_inline'></div>").appendTo(e(this.element)) : e("<div></div>").appendTo(e(this.element)),
                this.preview = e("<div class='dp_preview_inline'></div>").appendTo(this.main));
            this._buildOutline();
            this.preview_container = e("<div class='dp_preview_dialog_container'></div>").appendTo(this.preview_outline)
        },
        _buildOutline: function() {
            var a = this.options;
            this.preview_outline = e("<div class='dp_preview_dialog_outline'></div>").appendTo(this.preview);
            a.ui.showOutline && (this.imagebot.length || -1 != navigator.appVersion.indexOf("MSIE") && 9 > parseFloat(navigator.appVersion.split("MSIE")[1])) && (a.ui.showOutline = !1);
            a.ui.showOutline || this.preview_outline.css({
                padding: "0px",
                border: "0px"
            })
        },
        _createHeader: function() {
            var a = this.options;
            this.preview_header = e("<div class='dp_preview_header'>" + a.ui.header + "</div>").appendTo(this.preview_container);
            if (this.mode == this.MODE_POPUP || a.ui.showHeaderClose) {
                var f = e("<div class='dp_preview_dialog_close'></div>").appendTo(this.preview_header);
                e("<img src='" + a.ui.topPanel.closeImgSrc + "' title='" + a.ui.topPanel.closeLabel + "'/>").appendTo(f);
                f.bind("click.datapicker", {
                        self: this
                    },
                    function(a) {
                        a.data.self._close()
                    })
            }
            a.ui.min_width = a.ui.min_width > this.preview_header.width() ? a.ui.min_width : this.preview_header.width()
        },
        _createBody: function() {
            var a = this.options;
            this.preview_body = e("<div class='dp_preview_body cf'></div>").appendTo(this.preview_container);
            this.tags = e([]);
            this._createTopPanel();
            this._createLeftPanel();
            this._createRightPanel();
            a.ui.min_width = a.ui.min_width > this.preview_body.width() ? a.ui.min_width : this.preview_body.width();
            this.mode == this.MODE_POPUP && (a = (a.ui.topPanel.show ?
                this.top_panel.outerHeight() : 0) + this.right_panel.outerHeight(), this.preview_body.css("height", a))
        },
        _createTopPanel: function() {
            var a = this.options;
            this.top_panel = e("<div class='dp_top_panel'></div>").appendTo(this.preview_body);
            if (a.ui.topPanel.show) this._buildSearchPanel(), this._buildTopPanelAlphabet();
            else {
                this.top_panel.addClass("ui_simple_only");
                a = a.ui.leftPanel.specialTags;
                for (var f in a) a[f].enabled = !1
            }
        },
        _buildSearchPanel: function() {
            var a = this,
                f = this.options;
            if (f.ui.topPanel.search.enabled) {
                this.top_panel_search =
                    e("<div class='dp_top_panel_search'></div>").appendTo(this.top_panel);
                var g = e("<div class='dp_search_field_btn'><div class='dp_input_btn_icon dp_search_input_btn_icon'></div>").appendTo(this.top_panel_search);
                this.search_field = e("<input class='dp_search_field' type='search' autocapitalize='off' placeholder='Search..' value=''/></div>").appendTo(this.top_panel_search);
                g.on("click", function(f) {
                    f.preventDefault();
                    a.preview.hasClass("ui_simple") && !e("html").hasClass("opera-mini") ? (f.preventDefault(),
                        a.top_panel_search.toggleClass("active"), a.top_panel_search.hasClass("active") ? a.search_field.focus() : a.search_field.blur()) : a._runSearch()
                });
                f.ui.topPanel.search.runAsYouType && this._registerSearchFieldChanges()
            } else f.ui.leftPanel.specialTags.search.enabled = !1
        },
        _registerSearchFieldChanges: function() {
            this.search_field.bind("change.datapicker", {
                self: this
            }, function(a) {
                var f = e(this).val();
                if ("" != f) {
                    var g = a.data.self;
                    if (!(g.runningXhr || g.shownSearch && g.shownSearch == f) || g.runningXhr && g.runningXhr.searchTerm !=
                        f || g.selectedTag.attr("tagname") != g.options.ui.leftPanel.specialTags.search.tagname) g.runningXhr && g.runningXhr.abort(), a.data.self._runSearch()
                }
            }).bind("keyup.datapicker", {
                self: this
            }, function(a) {
                var f = 100;
                2 > e(this).val().length && (f = 500);
                setTimeout(function() {
                    a.data.self.search_field.trigger("change.datapicker")
                }, f)
            })
        },
        _runSearch: function() {
            this._selectTag_string(this.options.ui.leftPanel.specialTags.search.tagname)
        },
        _buildTopPanelAlphabet: function() {
            var a = this.options.tags.alphabetical;
            if (a.showInTopPanel &&
                this.options.ui.topPanel.showAlphabet) {
                var f = e("<div class='dp_top_panel_alphabet'></div>").appendTo(this.top_panel);
                if ((a = a.values) && a.length) {
                    var g = e("<ul class='dp_top_panel_alphabet_ul'></ul>").appendTo(f),
                        k = this;
                    e.each(a, function(a, f) {
                        f.title || (f.title = f.name);
                        a = e("<li tagname='" + f.name + "' title='" + f.title + "'>" + f.title + "</li>").appendTo(g);
                        k._addTag(a)
                    })
                }
            }
        },
        _createLeftPanel: function() {
            var a = this.options;
            this.left_panel = e("<div class='dp_left_panel'></div>").appendTo(this.preview_body);
            this._addTags();
            var f = this.tags.filter('[tagname="' + this.initialTag + '"]');
            f.length || (f = this.tags.eq(0), this.currentTag = this.initialTag = f.attr("tagname"));
            if (a.heightBasedOnCategoriesPanelHeight && this.mode == this.MODE_POPUP) {
                var g = 0;
                e.each(this.left_panel.children(), function(a, f) {
                    g += e(f).height()
                });
                this.left_panel.css({
                    height: g
                })
            }
        },
        _addTags: function() {
            var a = this;
            e.each(this.options.tags, function(e, g) {
                g.showInLeftPanel && (e = g.type, "list" == e ? (a._buildTagList(g), a._buildSelectTagList(g)) : "table" == e && a._buildTagTable(g))
            });
            this._addSpecialTags()
        },
        _addSpecialTags: function() {
            var a = !1,
                f = this.options.ui.leftPanel.specialTags,
                g;
            for (g in f) {
                var k = f[g];
                if (k.enabled) {
                    a = !0;
                    break
                }
            }
            if (a)
                for (g in k = e("<div class='dp_tag_div'></div>").prependTo(this.left_panel), a = e("<ul class='dp_tag_list'></ul>").appendTo(k), f)
                    if (k = f[g], k.enabled) {
                        k.items = e();
                        var l = e("<li tagname='" + k.tagname + "' title='" + k.ui + "'>" + k.ui + "</li>").appendTo(a);
                        this._addTag(l);
                        k = e("<option value='" + k.tagname + "' tagname='" + k.tagname + "' title='" + k.ui + "'>" + k.ui + "</li>").prependTo(this.categorySelect);
                        this._addTag(k)
                    }
        },
        _buildSelectTagList: function(a) {
            var f = this,
                g = this.options;
            if (a.values && a.values.length) {
                var k = e("<div class='ui_simple_only'/>").appendTo(this.top_panel);
                e("<span class='dp_category_text'>Category: </span>").appendTo(k);
                this.categorySelect = e("<select class='dp_category_select'></select>").appendTo(k);
                this.categorySelectInfo = e("<small class='dp_category_select_info'/>").appendTo(k);
                e.each(a.values, function(h, k) {
                    k.title || (k.title = k.name);
                    h = k.title.toLowerCase() === g.initialTag ? " selected" :
                        "";
                    e("<option" + h + " value='" + k.name + "' tagname='" + k.name + "' title='" + k.title + "'>" + k.title + "</option>").appendTo(f.categorySelect);
                    f.tags = f.tags.add(a)
                });
                this.categorySelect.on("change", function(a) {
                    f._selectTag(e(this).find(":selected"))
                })
            }
        },
        _buildTagList: function(a) {
            var f = this;
            if (a.values && a.values.length) {
                var g = e("<div class='dp_tag_div'></div>").prependTo(this.left_panel),
                    k = e("<ul class='dp_tag_list'></ul>").appendTo(g);
                e.each(a.values, function(a, g) {
                    g.title || (g.title = g.name);
                    a = e("<li tagname='" +
                        g.name + "' title='" + g.title + "'>" + g.title + "</li>").appendTo(k);
                    f._addTag(a);
                    f.leftPanelItemCount++
                })
            }
        },
        _buildTagTable: function(a) {
            if ("undefined" != typeof a.values && a.values.length) {
                var f = e("<div class='dp_tag_div'></div>").appendTo(this.left_panel);
                f = e("<table class='dp_tag_table'></table>").appendTo(f);
                f = e("<tbody></tbody>").appendTo(f);
                for (var g = a.columns, k = Math.ceil(a.values.length / g), l = 0; l < k; l++)
                    for (var n = e("<tr></tr>").appendTo(f), p = 0; p < g; p++) {
                        var r = l * g + p;
                        if (r < a.values.length) r = a.values[r], "undefined" ==
                            typeof r.title && (r.title = r.name), r = e("<td tagname='" + r.name + "' title='" + r.title + "'>" + r.title + "</td>").appendTo(n), this._addTag(r), this.leftPanelItemCount++;
                        else break
                    }
            }
        },
        _addTag: function(a) {
            var f = this;
            a.on("click", function(a) {
                f._selectTag(e(this))
            });
            this.tags = this.tags.add(a)
        },
        _selectTag_string: function(a) {
            "string" == typeof a && a.length && (a = this.tags.filter('[tagname="' + a + '"]'), this._selectTag(a))
        },
        _isSpecialTag: function(a) {
            var e = this.options.ui.leftPanel.specialTags,
                g;
            for (g in e)
                if (a == e[g].tagname) return !0;
            return !1
        },
        _selectTag: function(a) {
            var e = this.options,
                g = this._getKey(a);
            if (this.currentCacheKey != g || "undefined" == typeof this.selectedTag || !this.selectedTag.is(a) || this.items[g] && this.items[g].currentPage != this.items[g].pageWithSelection || a.attr("tagname") == e.ui.leftPanel.specialTags.search.tagname && this.shownSearch != this.search_field.val()) {
                this.selectedTag && this.selectedTag.is(this.previousTag) || (this.previousTag = this.selectedTag);
                this.currentCacheKey = g;
                this.initialTagCacheKey || (this.initialTagCacheKey =
                    this.currentCacheKey);
                this.selectedTag = a;
                this.options.ui.rightPanel.pagination.scrollable && this.right_panel.unbind("scroll.datapicker");
                this.right_panel.empty();
                this._setLoading(!0, a);
                this.selectedTag.attr("tagname") == e.ui.leftPanel.specialTags.search.tagname && (this.shownSearch = this.search_field.val() || this.shownSearch || "");
                g = this._getKey(a);
                var k = void 0;
                this.items[g] && (this.options.ui.rightPanel.pagination.scrollable || (this.items[g].currentPage = this.items[g].pageWithSelection), k = this.items[g].currentPage,
                    k = this.items[g].pages.length ? this.items[g].pages[k].cache : {});
                e.cacheAjaxResultsFn(this.selectedTag) && "undefined" != typeof this.selectedTag && this.selectedTag.attr("tagname") != e.ui.leftPanel.specialTags.previous.tagname && "undefined" != typeof k ? (this.selectedItem && 0 < k.length && (e = k.find('[dp_value="' + this.selectedItem.attr("dp_value") + '"]'), e.length && (this.selectedItem.removeClass("selectedItem"), this.selectedItem = e.addClass("selectedItem"), this.currentTag = this.initialTag = this.selectedTag.attr("tagname"),
                    this.currentCacheKey = this.initialTagCacheKey = g)), this._showItems(this.selectedTag)) : this._getData(a, this.selectedItem && this.selectedItem.length ? this.selectedItem.attr("dp_value") : this.origValue);
                this.tags.not(a).removeClass("selectedTag");
                a.addClass("selectedTag")
            }
        },
        _saveItems: function(a) {
            var f = a.values,
                g = a.tag,
                k = e("<div class='dp_item_container'></div>");
            this.options.ui.rightPanel.containerClass && k.addClass(this.options.ui.rightPanel.containerClass);
            a = this._getKey(g, a.searchTerm);
            g = this.options.ui.rightPanel.pagination.itemsPerPage;
            for (var l = f.length, n = Math.ceil(l / g), p = [], r = 0; r < n; r++) {
                var u = r * g;
                p[r] = {
                    items: f.slice(u, Math.min(u + g, l)),
                    cache: void 0
                }
            }
            this.items[a] = {
                pageWithSelection: 0,
                pageWithSelectionUnconfirmed: 0,
                currentPage: 0,
                container: k,
                pages: p,
                lastScrollTop: 0,
                totalItems: l
            }
        },
        _getKey: function(a, f) {
            var g = "string" == e.type(a) ? a : a.attr("tagname");
            g == this.options.ui.leftPanel.specialTags.search.tagname && (a = f ? f : this.search_field.val() || this.shownSearch || "", g += "&q=" + a);
            e.each(this.options.cacheKeyComposition, function(a, f) {
                if ("undefined" ===
                    typeof f.element || 0 == f.element.length) return !0;
                f = e.isFunction(f.getValue) ? f.getValue.apply(f.element) : f.element.val();
                g += "&key" + a + "=" + f
            });
            return g
        },
        _loadItems: function(a, f) {
            a = this.items[a].pages[f].cache.children();
            var g = this;
            a.addClass("dp_item");
            e.each(a, function(a, f) {
                e(f).hasClass("dp_item_ready") || g._loadItem(e(f))
            })
        },
        _loadItem: function(a) {},
        _showItems: function(a) {
            a || (a = this.selectedTag);
            if (this.selectedTag.is(a)) {
                var f = this._getKey(a);
                if (e.isPlainObject(this.items[f]) && this.items[f].pages.length)
                    if (a.attr("tagname") ===
                        this.options.ui.leftPanel.specialTags.search.tagname && "noresults" === this.items[f].pages[0].items[0]) this._tagListEmpty(a);
                    else {
                        var g = this.items[f].currentPage;
                        "undefined" == typeof this.items[f].pages[g].cache && this._cachePage(a, f, g);
                        this.selectedTag.is(a) && (this._displayItems(f, g), this.options.ui.leftPanel.specialTags.search.tagname == a.attr("tagname") && (this.shownSearch = this.search_field.val() || this.shownSearch))
                    }
                else this._tagListEmpty(a)
            }
        },
        _displayItems: function(a, f) {
            var g = e();
            this.hintAppended = !1;
            var k = !!this.options.ui.rightPanel.showCategoriesHint;
            if (this.options.ui.rightPanel.pagination.scrollable)
                for (var l = 0; l <= f; l++) {
                    var n = this.items[a].pages[l];
                    g = g.add(n.cache)
                } else n = this.items[a].pages[f], g = n.cache;
            f < this.items[a].pages.length - 1 && (k = !1);
            l = this._buildPagination(this.items[a].pages.length, this.items[a].currentPage, a);
            this._itemsLoaded(this.selectedTag, g.length ? !1 : !0);
            g = g.clone(!0, !0).removeClass("dp_preload_item_container");
            this.right_panel.empty().append(this._buildInfoPanel(this.items[a].totalItems)).append(l.addClass("dp_top_pagination")).append(g).append(l.clone(!0,
                !0).removeClass("dp_top_pagination").addClass("dp_bottom_pagination"));
            k && this._appendCategoriesHint();
            this.options.ui.rightPanel.pagination.scrollable && this.right_panel.scrollTop(this.items[a].lastScrollTop);
            this._loadItems(a, f)
        },
        _appendCategoriesHint: function() {
            if (!(this.hintAppended || 2 > this.leftPanelItemCount || this.mode != this.MODE_POPUP)) {
                var a = e('<div class="ft-note-blue ft-note dp_more_categories_hint"><p>&larr; More Categories</p></div>');
                this.right_panel.append(a);
                this.hintAppended = !0
            }
        },
        _cachePage: function(a,
            f, g) {
            var h = this.items[f].pages[g],
                l = this.items[f].container.clone();
            if (l && l.length) {
                var n = this;
                l.addClass("dp_preload_item_container").appendTo(this.main);
                e.each(h.items, function(e, h) {
                    e = n._buildItem(h, a, l);
                    n._bindItemEvents(e, f, g);
                    var k = n.selectedItem && n.selectedItem.length ? n.selectedItem.attr("dp_value") : n.origValue;
                    k && h == k && (n.selectedItem && n.selectedItem.removeClass("selectedItem"), n.currentTag = n.initialTag = a.attr("tagname"), n.currentCacheKey = n.initialTagCacheKey = f, n.selectedItem = e.addClass("selectedItem"))
                });
                h.cache = l
            }
        },
        _buildItem: function(a, e, g) {},
        _buildInfoPanel: function(a) {
            var f = e('<div class="dp_items_info cf"></div>'),
                h = this.selectedTag.attr("title");
            this.options.ui.leftPanel.specialTags.search.tagname == this.selectedTag.attr("tagname") && (h = '"' + this.shownSearch + '"');
            h = "<strong>" + g(h) + "</strong>";
            e('<div class="dp_items_info_totalMsg">' + h + " (" + a + " item" + (1 == a ? "" : "s") + ")</div>").appendTo(f);
            this.categorySelectInfo.html("(" + a + " item" + (1 == a ? "" : "s") + ")");
            a = this.selectedTag.filter("option").val();
            a === this.options.ui.leftPanel.specialTags.search.tagname &&
                this.categorySelect.val(a);
            return f
        },
        _scrollCheckMoreContent: function(a, e, g) {
            "undefined" != typeof scrollCounter && scrollCounter++;
            var f = this.items[g].pages[e];
            f = f.cache.outerHeight();
            var h = this.right_panel.outerHeight();
            f = Math.floor(f * e + (f / 2 - h));
            h = this.right_panel.scrollTop();
            this.items[g].lastScrollTop = h;
            h > f && e + 1 < a && (e += 1, f = this.items[g].pages[e], "undefined" == typeof f.cache && this._cachePage(this.selectedTag, g, e), this.items[g].currentPage = e, f = f.cache.clone(!0, !0).removeClass("dp_preload_item_container"),
                this.right_panel.append(f), this._loadItems(g, e), this._bindScroll(a, e, g));
            e + 1 == a && this.options.ui.rightPanel.showCategoriesHint && this._appendCategoriesHint()
        },
        _bindScroll: function(a, e, g) {
            var f = this,
                h = 0,
                n = function(a, e) {
                    clearTimeout(h);
                    h = setTimeout(a, e)
                };
            this.right_panel.unbind("scroll.datapicker").bind("scroll.datapicker", function(h) {
                n(function() {
                    f._scrollCheckMoreContent(a, e, g)
                }, 200)
            })
        },
        _buildPagination: function(a, f, g) {
            var h = e();
            if (2 > a) return h;
            if (this.options.ui.rightPanel.pagination.scrollable) return this._bindScroll(a,
                f, g), h;
            var l = f + 1;
            h = e('<div class="dp_pagination"></div>');
            e('<div class="dp_pagination_pageMsg">Page ' + l + " of " + a + "</div>").appendTo(h);
            l = e('<div class="dp_pagination_buttons"></div>').appendTo(h);
            e('<button type="button" class="ft-pagination-btn dp_pagination_button prev_page" value="' + (0 == f ? a - 1 : f - 1) + '">&lt;</button>').appendTo(l);
            e('<button type="button" class="ft-pagination-btn dp_pagination_button next_page" value="' + (f == a - 1 ? 0 : f + 1) + '">&gt;</button>').appendTo(l);
            l.children("button").bind("click.datapicker", {
                self: this,
                currentPage: f,
                key: g
            }, function(a) {
                if (a.data.currentPage != parseInt(e(this).val())) {
                    a.stopPropagation();
                    var f = a.data.self;
                    f._setLoading(!0, f.selectedTag);
                    f.items[a.data.key].currentPage = parseInt(e(this).val());
                    f._showItems(f.selectedTag)
                }
            });
            return h
        },
        _bindItemEvents: function(a, f, g) {
            a.bind("item_ready", {
                dp: this
            }, function(a) {
                e(this).addClass("dp_item_ready");
                a = a.data.dp;
                var f = e(this).attr("dp_value"),
                    g = a.right_panel.find('[dp_value="' + f + '"]');
                if (g.length) {
                    var h = e(this).clone(!0, !0),
                        k = g.prev(),
                        u = g.parent();
                    g.remove();
                    k.length ? h.insertAfter(k) : u.prepend(h)
                }
                if (a.fn_queue[f])
                    for (; a.fn_queue[f].length;) a.fn_queue[f].shift()()
            });
            a.bind("click.datapicker", {
                dp: this,
                item: a,
                key: f,
                currentPage: g
            }, function(a) {
                a.data.dp.items[a.data.key].pageWithSelectionUnconfirmed = a.data.currentPage;
                a.data.dp._selectItem(a.data.item)
            })
        },
        _setLoading: function(a, f) {
            a ? (a = this.options.ui.leftPanel.specialTags.search.tagname == f.attr("tagname"), f = "Loading: " + f.attr("title"), a && (f = 'Searching: "' + this.search_field.val() + '"'),
                a = e("<div class='dp_loading_div'></div>").appendTo(this.right_panel), e("<div class='dp_loading_message'>" + g(f) + "</div>").appendTo(a), e("<img class='dp_loading_indicator' src='" + this.options.ui.loadingImgSrc + "'/>").appendTo(a), this.working = !0) : f.attr("tagname") == this.selectedTag.attr("tagname") && (this.right_panel.empty(), this.working = !1)
        },
        _getData: function(a, e) {
            return this._getSpecialTag(a) ? !0 : !1
        },
        _getSpecialTagKeyByTagname: function(a) {
            var e = this.options.ui.leftPanel.specialTags,
                g;
            for (g in e)
                if (a ==
                    e[g].tagname) return g
        },
        _getSpecialTag: function(a) {
            var f = this.options;
            return this._isSpecialTag(a.attr("tagname")) ? (f = f.ui.leftPanel.specialTags[this._getSpecialTagKeyByTagname(a.attr("tagname"))], this._setLoading(!1, a), a = e("<div class='dp_preview_list'></div>").appendTo(this.right_panel), f.items.appendTo(a), !0) : !1
        },
        _getItems: function(a, e) {},
        _itemsLoaded: function(a, e) {
            this._setLoading(!1, a);
            e && this._tagListEmpty(a)
        },
        _selectItem: function(a) {
            var f = this,
                g = this.options;
            "undefined" != typeof this.selectedItem &&
                this.selectedItem.removeClass("selectedItem");
            this.selectedItem = a;
            this.selectedItem.addClass("selectedItem");
            this.currentTag = this.selectedTag.attr("tagname");
            this.right_panel.find('[dp_value="' + a.attr("dp_value") + '"]').addClass("selectedItem").siblings().removeClass("selectedItem");
            this.autoclose && this._close();
            e.isFunction(g.select) && this._ready(a, function() {
                f.selectedItem.is(a) && f._trigger("select", null, f._ui())
            })
        },
        _ready: function(a, e) {
            this._isItemReady(a) ? e() : (a = a.attr("dp_value"), this.fn_queue[a] ||
                (this.fn_queue[a] = []), this.fn_queue[a].push(e))
        },
        _isItemReady: function(a) {
            return a.hasClass("dp_item_ready")
        },
        _addToPreviousItems: function() {
            if ("undefined" != typeof this.selectedItem && (this.prevItem = this.selectedItem, this.options.ui.leftPanel.specialTags.previous.enabled)) {
                var a = this.prevItem.attr("dp_value"),
                    f = this.options.ui.leftPanel.specialTags.previous,
                    g = f.items;
                g.filter(function() {
                    return e(this).attr("dp_value") == a
                }).length || (f.items = this.prevItem.add(g.clone(!0, !0)))
            }
        },
        _escapedValue: function(a) {
            if ("string" !=
                typeof a) return "";
            a = encodeURIComponent(a).replace(/%20/g, "+");
            return encodeURIComponent(a)
        },
        _createRightPanel: function() {
            var a = this.options;
            this.right_panel = e("<div class='dp_right_panel'></div>").appendTo(this.preview_body);
            this.options.ui.rightPanel.containerClass && this.right_panel.addClass("rpanel_" + this.options.ui.rightPanel.containerClass);
            a.ui.leftPanel.show ? this.left_panel.add(this.right_panel).equalizeHeights() : (this.left_panel.css({
                width: 0,
                display: "none"
            }), this.right_panel.css({
                width: "100%"
            }));
            e("html").hasClass("no-overflow") && touchScroll(".dp_right_panel")
        },
        _createFooter: function() {
            var a = this.options;
            this.mode != this.MODE_INLINE && (this.preview_footer = e("<div class='dp_preview_footer'></div>").appendTo(this.preview_container), this._createAutoclose(), this._createFooterButtons(), a.ui.min_width = a.ui.min_width > this.preview_footer.width() ? a.ui.min_width : this.preview_footer.width())
        },
        _createAutoclose: function() {
            var a = this.options;
            this.autoclose = "boolean" == typeof a.autoclose ? a.autoclose : !0;
            var f =
                e("<div class='dp_autocloseDiv'></div>").appendTo(this.preview_footer),
                g = e("<input type='checkbox' class='dp_autocloseDiv_checkbox'/>").appendTo(f);
            g.prop("checked", this.autoclose);
            g.bind("change.datapicker", {
                dp: this
            }, function(a) {
                a.data.dp.autoclose = !!e(this).prop("checked")
            });
            e("<span class='dp_autocloseLabel'>" + a.ui.footer.autocloseLabel + "</span>").appendTo(f).bind("click.datapicker", {
                cb: g
            }, function(a) {
                a.data.cb.prop("checked", !a.data.cb.prop("checked")).trigger("change")
            })
        },
        _createFooterButtons: function() {
            var a =
                this.options,
                f = e("<div class='dp_footerButtons'></div>").appendTo(this.preview_footer);
            e("<button type='button' class='dp_preview_button_cancel'>" + a.ui.footer.cancelLabel + "</button>").appendTo(f).bind("click.datapicker", {
                dp: this
            }, function(a) {
                a.preventDefault();
                a.data.dp._cancel()
            });
            e("<button type='button' class='dp_preview_button_okay'>" + a.ui.footer.okayLabel + "</button>").appendTo(f).bind("click.datapicker", {
                dp: this
            }, function(a) {
                a.data.dp._close()
            })
        },
        _setWidths: function() {
            var a = this.options.ui.min_width;
            this.preview_header.css("width", a + "px");
            this.preview_body.css("width", a + "px");
            this.preview_footer.css("width", a + "px");
            this.preview.css("width", "auto")
        },
        destroy: function() {
            this._close();
            this.element.removeClass("dp_control_element").unbind(".datapicker").removeData("datapicker");
            return this
        }
    });
    e.widget("ui.ajaxpicker", e.extend({}, e.ui.datapicker.prototype, {
        options: {
            ajaxCategory: "fonts",
            ajaxFailed: function() {},
            ajaxHost: "",
            ajaxCgi: "/Ajax",
            ajaxExtraParams: "",
            genAjaxUrl: function(a, e, g) {
                var f = a.ajaxHost;
                f += a.ajaxCgi + "?c=" + encodeURIComponent(a.ajaxCategory) + "&t=" + encodeURIComponent(e);
                g && (f += "&q=" + encodeURIComponent(g));
                return f += "&" + a.ajaxExtraParams
            },
            preFilterAjaxResult: void 0
        },
        _create: function() {
            this.options = e.extend(!0, {}, e.ui.datapicker.prototype.options, this.options);
            e.ui.datapicker.prototype._create.apply(this, arguments)
        },
        _getData: function(a) {
            var f = this.options,
                g = a.attr("tagname"),
                k = f.ui.leftPanel.specialTags.search.tagname == g && "" != this.search_field.val();
            if (f.ui.leftPanel.specialTags.search.tagname ==
                g && "" == this.search_field.val()) this._showSearchHint(a), this.search_field.focus(), this.preview.hasClass("ui_simple") && !e("html").hasClass("opera-mini") && this.top_panel_search.addClass("active");
            else if (k || !e.ui.datapicker.prototype._getData.apply(this, arguments)) {
                var l = g,
                    n = null;
                k && (l = f.ui.topPanel.search.searchAll ? "all" : this.previousTag.attr("tagname"), n = this.search_field.val());
                g = {
                    self: this,
                    tag: a,
                    searching: k,
                    searchTerm: this.search_field ? this.search_field.val() : ""
                };
                var p = f.genAjaxUrl(f, l, n);
                this.runningXhr =
                    e.ajax({
                        url: p,
                        async: !0,
                        context: g,
                        cache: !1,
                        dataType: "json",
                        success: function(a) {
                            "function" === typeof f.preFilterAjaxResult && (a = f.preFilterAjaxResult(f, a, l, n));
                            this.self.runningXhr = void 0;
                            a.values ? 0 == a.values.length && this.searching ? this.self._saveSearchEmpty(a.error, !0, this.tag, this.searchTerm) : (this.self._saveItems({
                                    values: a.values,
                                    tag: this.tag,
                                    searchTerm: this.searchTerm
                                }), this.searching && this.searchTerm != this.self.search_field.val() ? this.self.search_field.trigger("change") : this.self._showItems(this.tag)) :
                                a.error ? this.self._ajaxFailed(a.error, !0, this.tag) : this.self._ajaxFailed("bad response from server", !0, this.tag)
                        },
                        error: function(a, e) {
                            this.self._ajaxFailed("http error:" + e + ";url:" + p, !0, this.tag)
                        }
                    });
                this.runningXhr.searchTerm = n
            }
        },
        _ajaxFailed: function(a, f, g) {
            var h = this.options;
            this.runningXhr = void 0;
            e.isFunction(h.ajaxFailed) && this._trigger("ajaxFailed", null, a);
            e.ui.datapicker.prototype._failed.apply(this, arguments)
        },
        setAjaxExtraParams: function(a) {
            this.options.ajaxExtraParams = a
        },
        destroy: function() {
            e.ui.datapicker.prototype.destroy.apply(this,
                arguments);
            this.element.unbind(".ajaxpicker").removeData("ajaxpicker");
            return this
        }
    }))
})(jQuery);
(function(e) {
    e.widget("ui.logopicker", e.extend({}, e.ui.ajaxpicker.prototype, {
        options: {
            tags: {
                alphabetical: {
                    enabled: !1
                }
            },
            ajaxCategory: "logos",
            logoFailed: function(e) {},
            origValue: "logo",
            autoclose: !0,
            cacheAjaxResults: !0,
            getLogoEntry: function(e) {
                return logoEntries[e]
            },
            ui: {
                header: "Select Logo",
                topPanel: {
                    show: !0,
                    showAlphabet: !1
                },
                rightPanel: {
                    containerClass: "logos_div",
                    pagination: {
                        pageLinks: 5
                    }
                }
            },
            showPreviousTag: !1,
            initialTag: "Featured",
            fontname: void 0,
            text: void 0,
            defaultText: void 0,
            thumberUrl: void 0,
            blacklist: []
        },
        _create: function() {
            this.options = e.extend(!0, {}, e.ui.ajaxpicker.prototype.options, this.options);
            e.ui.ajaxpicker.prototype._create.apply(this, arguments)
        },
        _saveItems: function(g) {
            for (var a = [], f = 0; f < g.values.length; f++) this._isBlacklisted(g.values[f]) || a.push(g.values[f]);
            g.values = a;
            e.ui.datapicker.prototype._saveItems.apply(this, arguments)
        },
        _buildItem: function(g, a, f) {
            var h = this.options.getLogoEntry(g);
            f = e('<div dp_value="' + g + '" title="' + g + '"></div>').appendTo(f);
            h && e("<p class='logo_div_text'>" + (h.title ?
                h.title : "&nbsp;") + "</p>").appendTo(f);
            var k = this._escapedValue(g);
            e("<img class='dp_loading_img' src='" + this.options.ui.loadingImgSrc + "'>").appendTo(f);
            var l = e("<img class='dp_logo_img'/>").css({
                width: "",
                height: ""
            }).appendTo(f);
            l.one("load.dp", {
                self: this,
                div: f,
                logo: h,
                dp_value: g,
                tag: a
            }, function(a) {
                e(this).attr("logo_loaded", "true");
                var f = a.data.div;
                f.children().remove(".logo_div_text, .dp_loading_img");
                (a = a.data.logo) && a.title && f.attr("title", a.title);
                a && a.extraClasses && f.addClass(a.extraClasses);
                f.trigger("item_ready")
            });
            l.on("error", {
                self: this,
                div: f,
                value: g,
                escapedVal: k,
                tag: a
            }, function(a) {
                e(this).off("load.datapicker error");
                a.data.div.trigger("item_ready")
            });
            return f
        },
        _isBlacklisted: function(e) {
            for (key in this.options.blacklist)
                if (this.options.blacklist[key] == e) return !0;
            return !1
        },
        _loadItem: function(g) {
            var a = g.attr("dp_value");
            if (a) {
                var f = this.options,
                    h = e("img", g);
                if ("function" === typeof f.overrideThumbUrl) {
                    var k = f.overrideThumbUrl(f, a);
                    if (k) {
                        h.attr({
                            src: k
                        });
                        return
                    }
                }
                k = this._escapedValue(a);
                if (f.text || f.defaultText || f.fontname || !f.thumberUrl) {
                    a = f.getLogoEntry(a);
                    g = {
                        self: this,
                        img: h,
                        div: g,
                        logo: a,
                        tag: this.selectedTag
                    };
                    a = h = "";
                    if (f.text || f.defaultText) h = "&text=", f.text && (a = "string" == typeof f.tsvnext ? f.text : f.text.val()), a = a || f.defaultText, h += encodeURIComponent(a);
                    a = "";
                    f.fontname && (a = "&fontname=" + encodeURIComponent(f.fontname));
                    f = f.ajaxHost + "/net-fu/image_output.cgi?script=" + encodeURIComponent(k) + h + a + "&imageoutput=true";
                    e.ajax({
                        url: f,
                        async: !0,
                        context: g,
                        cache: !1,
                        dataType: "json",
                        success: function(a) {
                            a.src ?
                                this.img.attr({
                                    src: a.src
                                }) : a.error ? (this.div.remove(), this.self._ajaxFailed("failed to load image:" + a.error, !1, this.tag)) : (this.div.remove(), this.self._ajaxFailed("bad response from server", !1, this.tag))
                        },
                        error: function(a, e) {
                            this.div.remove();
                            this.self._ajaxFailed("http error:" + e, !1, this.tag)
                        }
                    })
                } else k = f.thumberUrl + "/images/logos/" + (2 == this.options.pixelRatio ? "s326x200" : "s163x100") + "/en_US/" + k + ".png", h.attr({
                    src: k
                })
            }
        },
        _escapedValue: function(e) {
            if ("string" != typeof e || 0 == e.length) return "";
            var a = "";
            for (i = 0; i < e.length; i++) c = e.charAt(i), a = " " == c ? a + "_" : a + c;
            return a
        },
        _ajaxFailed: function(g, a, f) {
            e.isFunction(this.options.logoFailed) && this._trigger("logoFailed", null, g);
            e.ui.datapicker.prototype._failed.apply(this, arguments)
        },
        destroy: function() {
            e.ui.ajaxpicker.prototype.destroy.apply(this, arguments);
            this.element.unbind(".logopicker").removeData("logopicker");
            return this
        }
    }))
})(jQuery);